(()=>{"use strict";class t{html;wrapped;node=null;constructor(t,e=!1){this.html=t,this.wrapped=e}make(){if(!this.node&&(this.node=document.createElement("template"),this.node.innerHTML=this.html,this.wrapped)){let t=this.node.content.firstElementChild;t.replaceWith(...t.childNodes)}return this.node.cloneNode(!0)}}class e{type;target;constructor(t,e){this.type=t,this.target=e}getStartNode(){return 1===this.type?this.target:null}insertNodesBefore(...t){1===this.type?this.target.before(...t):this.target.append(...t)}*walkNodesFrom(t){let e,i=t;e=1===this.type?this.target:null;do{yield i,i=i.nextSibling}while(i&&i!==e)}}class i{startInnerNode;endInnerNode;constructor(t,e){this.startInnerNode=t,this.endInnerNode=e}*walkNodes(){let t=this.startInnerNode;for(;t&&(yield t,t!==this.endInnerNode);)t=t.nextSibling}}function n(t){return 2&t&&(t&=-3,t|=4),-2&t}function s(t,e){return 2&t&&1!==e&&(t&=-3),4&t&&(t&=-5,2===e&&(t|=2)),t}class r{connected=!1;part=null;update(t){this.part!==t&&(this.connected&&(this.part&&this.part.beforeDisconnectCallback(3),t&&t.afterConnectCallback(3)),this.part=t)}afterConnectCallback(t){this.connected||(this.part&&this.part.afterConnectCallback(t),this.connected=!0)}beforeDisconnectCallback(t){this.connected&&(this.part&&this.part.beforeDisconnectCallback(t),this.connected=!1)}}class o{tpMap=new Map;ptMap=new Map;addPosition(t,e){let i=this.ptMap.get(e);i&&(this.tpMap.set(i,t.startInnerPosition),this.ptMap.set(t.startInnerPosition,i)),this.tpMap.set(t,e),this.ptMap.set(e,t)}getPosition(t){return this.tpMap.get(t)}deletePosition(t,e){let i=this.ptMap.get(t.startInnerPosition);i?(this.tpMap.delete(t),this.ptMap.delete(t.startInnerPosition),this.tpMap.set(i,e),this.ptMap.set(e,i)):(this.tpMap.delete(t),this.ptMap.delete(e))}}const l=new o;class a{connected=!1;el;maker;context;startInnerPosition;update;parts;constructor(t,e=null,i=null){this.maker=e,this.context=i,this.el=t.el,this.startInnerPosition=t.position,this.parts=t.parts??[],this.update=t.update??h}canUpdateBy(t){return this.maker===t.maker&&this.context===t.context}afterConnectCallback(t){if(!this.connected){this.connected=!0;for(let[e,i]of this.parts){let n=s(t,i);e.afterConnectCallback(n)}}}beforeDisconnectCallback(t){if(!this.connected)return;this.connected=!1;let e=[];for(let[i,n]of this.parts){let r=s(t,n),o=i.beforeDisconnectCallback(r);o&&e.push(o)}return e.length>0?Promise.all(e):void 0}getFirstNode(){return this.startInnerPosition.type,this.startInnerPosition.target}insertNodesBefore(t){t.insertNodesBefore(...this.el.content.childNodes),l.addPosition(this,t)}async recycleNodes(){let t=this.beforeDisconnectCallback(3);t&&await t;let e=l.getPosition(this),i=this.getFirstNode();i&&this.el.content.append(...e.walkNodesFrom(i)),l.deletePosition(this,e)}moveNodesBefore(t){let e=l.getPosition(this);if(e===t)return;let i=this.getFirstNode();i&&t.insertNodesBefore(...e.walkNodesFrom(i)),l.deletePosition(this,e),l.addPosition(this,t)}}function h(){}class d{init;constructor(t){this.init=t}make(t){return new a(this.init(t),this,t)}}const c=new t(" "),p=new t("\x3c!----\x3e"),u=new d((function(){let t=c.make(),i=t.content.firstChild;return{el:t,position:new e(1,i),update([t]){i.data=t}}})),g=new d((function(){let t=p.make(),i=t.content.firstChild,n=new e(1,i),s=null;return{el:t,position:n,update([t]){t!==s&&(s&&s.remove(),t&&i.after(t),s=t)}}}));class f{maker;values;context;constructor(t,e,i){this.maker=t,this.values=e,this.context=i}toString(){throw new Error('Can\'t use "toString()" after "TemplateResult" compiled!')}}class m{connected=!1;endOuterPosition;contentType=null;knownContentType;content=null;constructor(t,e=null){this.endOuterPosition=t,this.contentType=e,this.knownContentType=null!==e}afterConnectCallback(t){if(!this.connected&&(this.connected=!0,this.content))if(1===this.contentType)for(let e of this.content)e.afterConnectCallback(t);else null!==this.contentType&&this.content.afterConnectCallback(t)}beforeDisconnectCallback(t){if(this.connected){if(this.connected=!1,0===this.contentType)return this.content.beforeDisconnectCallback(t);if(1===this.contentType){let e=[];for(let i of this.content){let n=i.beforeDisconnectCallback(t);n&&e.push(n)}if(e.length>0)return Promise.all(e)}}}hasContent(){return null!==this.content}update(t){if(!this.knownContentType){let e=this.identifyContentType(t);e!==this.contentType&&this.clearContent(),this.contentType=e}0===this.contentType?this.updateTemplateResult(t):1===this.contentType?this.updateTemplateResultList(t):2===this.contentType?this.updateText(t):3===this.contentType&&this.updateNode(t)}identifyContentType(t){return null==t?null:t instanceof f?0:Array.isArray(t)?1:t instanceof Node?3:2}clearContent(){if(this.content){if(0===this.contentType||2===this.contentType||3===this.contentType)this.removeTemplate(this.content);else{let t=this.content;for(let e=0;e<t.length;e++){let i=t[e];this.removeTemplate(i)}}this.content=null,this.contentType=null}}updateTemplateResult(t){let e=this.content;if(e&&e.canUpdateBy(t))e.update(t.values);else{e&&this.removeTemplate(e);let i=t.maker.make(t.context);i.insertNodesBefore(this.endOuterPosition),i.update(t.values),this.connected&&i.afterConnectCallback(3),this.content=i}}updateTemplateResultList(t){let e=this.content;e||(e=this.content=[]);for(let i=0;i<t.length;i++){let n=i<e.length?e[i]:null,s=t[i];if(n&&n.canUpdateBy(s))n.update(s.values);else{let t=s.maker.make(s.context),r=i<e.length-1?e[i+1]:null;n&&this.removeTemplate(n),this.insertTemplate(t,r),t.update(s.values),this.connected&&t.afterConnectCallback(3),e[i]=t}}if(t.length<e.length){for(let i=t.length;i<e.length;i++){let t=e[i];this.removeTemplate(t)}e.splice(t.length,e.length-t.length)}}insertTemplate(t,e){let i=e?.startInnerPosition??this.endOuterPosition;t.insertNodesBefore(i)}removeTemplate(t){t.recycleNodes()}updateText(t){let e=null==t?"":String(t).trim(),i=this.content;i||(i=this.content=u.make(null),i.insertNodesBefore(this.endOuterPosition)),i.update([e])}updateNode(t){let e=this.content;t?(e||(e=this.content=g.make(null),e.insertNodesBefore(this.endOuterPosition)),e.update([t])):e&&e.update([])}updateExternalTemplate(t,e){let i=this.content;i===t?t&&t.update(e):(i&&this.removeTemplate(i),t&&(t.insertNodesBefore(this.endOuterPosition),t.update(e),this.connected&&t.afterConnectCallback(3)),this.contentType=0,this.content=t)}updateExternalTemplateList(t){this.contentType=1,this.content=t}}class w{type;strings;values;constructor(t,e,i){this.type=t,this.strings=e,this.values=i}toString(){let t=this.strings[0];for(let e=0;e<this.strings.length-1;e++){let i=this.values[e];null!=i&&(Array.isArray(i)?t+=i.join(""):t+=String(i)),t+=this.strings[e+1]}return t}}class v{map=new Map;hasKey(t){return this.map.has(t)}keyCount(){return this.map.size}get(t){return this.map.get(t)}add(t,e){let i=this.map.get(t);i?i.push(e):(i=[e],this.map.set(t,i))}delete(t,e){let i=this.map.get(t);if(i){let n=i.indexOf(e);n>-1&&(i.splice(n,1),0===i.length&&this.map.delete(t))}}clear(){this.map=new Map}}class y{map=new Map;*values(){for(let t of this.map.values())yield*t}entries(){return this.map.entries()}*flatEntries(){for(let[t,e]of this.map.entries())for(let i of e)yield[t,i]}keyCount(){return this.map.size}get(t){return this.map.get(t)}add(t,e){let i=this.map.get(t);i||(i=new Set,this.map.set(t,i)),i.add(e)}addSeveral(t,e){if(0===e.length)return;let i=this.map.get(t);if(i)for(let t of e)i.add(t);else i=new Set(e),this.map.set(t,i)}delete(t,e){let i=this.map.get(t);i&&(i.delete(e),0===i.size&&this.map.delete(t))}}class x{eventListenerMap=new v;on(t,e,i=null){for(let n of[t])this.eventListenerMap.add(n,{handler:e,scope:i,once:!1})}once(t,e,i=null){for(let n of[t])this.eventListenerMap.add(n,{handler:e,scope:i,once:!0})}off(t,e,i=null){for(let n of[t]){let t=this.eventListenerMap.get(n);if(t)for(let s=t.length-1;s>=0;s--){let r=t[s];r.handler!==e||i&&r.scope!==i||this.eventListenerMap.delete(n,r)}}}fire(t,...e){let i=this.eventListenerMap.get(t);if(i){i=[...i];for(let n=0;n<i.length;n++){let s=i[n];!0===s.once&&this.eventListenerMap.delete(t,s),s.handler.apply(s.scope,e)}}}hasListener(t,e,i){let n=this.eventListenerMap?.get(t);if(n)for(let t=0,s=n.length;t<s;t++){let s=n[t];if(s.handler===e&&(!i||s.scope===i))return!0}return!1}hasListeners(){return this.eventListenerMap.keyCount()>0}hasListenerType(t){return this.eventListenerMap.hasKey(t)||!1}removeAllListeners(){this.eventListenerMap.clear()}}class b{map=new WeakMap;get(t,e){let i=this.map.get(t);if(i)return i.get(e)}set(t,e,i){let n=this.map.get(t);n||(n=new Map,this.map.set(t,n)),n.set(e,i)}}class C{map=new WeakMap;get(t,e){let i=this.map.get(t);if(i)return i.get(e)}add(t,e,i){let n=this.map.get(t);n||(n=new v,this.map.set(t,n)),n.add(e,i)}delete(t,e,i){let n=this.map.get(t);n&&(n.delete(e,i),0===n.keyCount()&&this.map.delete(t))}}class S{map=new WeakMap;*secondValuesOf(t){let e=this.map.get(t);e&&(yield*e.values())}get(t,e){let i=this.map.get(t);if(i)return i.get(e)}getSecond(t){return this.map.get(t)}setSecond(t,e){this.map.set(t,e)}delete(t,e,i){let n=this.map.get(t);n&&(n.delete(e,i),0===n.keyCount()&&this.map.delete(t))}deleteSecondOf(t){this.map.delete(t)}addByGroupOfSecondKeys(t,e,i){let n=this.map.get(t);n||(n=new y,this.map.set(t,n));for(let t of e)n.add(t,i)}}const k=new C;function R(t,e,i,n=null,s={}){let r=n?i.bind(n):i;P(t,e,i,n,r,s)}function D(t,e,i,n=null,s={}){s.once=!0,R(t,e,i,n,s)}function P(t,e,i,n,s,r){r.once&&(s=function(t,e,i,n,s){return function(r){s(r),T(t,e,i,n)}}(t,e,i,n,s));let o={type:e,handler:i,boundHandler:s,scope:n};k.add(t,e,o),t.addEventListener(e,s,r)}function T(t,e,i,n=null){let s=k.get(t,e);if(s)for(let r=s.length-1;r>=0;r--){let o=s[r];o.handler!==i||n&&o.scope!==n||(t.removeEventListener(e,o.boundHandler),k.delete(t,e,o))}}const M={8:{key:"Backspace",code:"Backspace"},9:{key:"Tab",code:"Tab"},12:{key:"Clear",code:"NumLock"},13:{key:"Enter",code:"Enter"},17:{key:"Control",code:"ControlLeft"},18:{key:"Alt",code:"AltLeft"},20:{key:"CapsLock",code:"CapsLock"},27:{key:"Escape",code:"Escape"},32:{key:" ",code:"Space"},33:{key:"PageUp",code:"PageUp"},34:{key:"PageDown",code:"PageDown"},35:{key:"End",code:"End"},36:{key:"Home",code:"Home"},37:{key:"ArrowLeft",code:"ArrowLeft"},38:{key:"ArrowUp",code:"ArrowUp"},39:{key:"ArrowRight",code:"ArrowRight"},40:{key:"ArrowDown",code:"ArrowDown"},45:{key:"Insert",code:"Insert"},46:{key:"Delete",code:"Delete"},48:{key:"0",code:"Digit0"},49:{key:"1",code:"Digit1"},50:{key:"2",code:"Digit2"},51:{key:"3",code:"Digit3"},52:{key:"4",code:"Digit4"},53:{key:"5",code:"Digit5"},54:{key:"6",code:"Digit6"},55:{key:"7",code:"Digit7"},56:{key:"8",code:"Digit8"},57:{key:"9",code:"Digit9"},65:{key:"a",code:"KeyA"},66:{key:"b",code:"KeyB"},67:{key:"c",code:"KeyC"},68:{key:"d",code:"KeyD"},69:{key:"e",code:"KeyE"},70:{key:"f",code:"KeyF"},71:{key:"g",code:"KeyG"},72:{key:"h",code:"KeyH"},73:{key:"i",code:"KeyI"},74:{key:"j",code:"KeyJ"},75:{key:"k",code:"KeyK"},76:{key:"l",code:"KeyL"},77:{key:"m",code:"KeyM"},78:{key:"n",code:"KeyN"},79:{key:"o",code:"KeyO"},80:{key:"p",code:"KeyP"},81:{key:"q",code:"KeyQ"},82:{key:"r",code:"KeyR"},83:{key:"s",code:"KeyS"},84:{key:"t",code:"KeyT"},85:{key:"u",code:"KeyU"},86:{key:"v",code:"KeyV"},87:{key:"w",code:"KeyW"},88:{key:"x",code:"KeyX"},89:{key:"y",code:"KeyY"},90:{key:"z",code:"KeyZ"},91:{key:"Meta",code:"MetaLeft"},93:{key:"Meta",code:"MetaRight"},106:{key:"*",code:"NumpadMultiply"},107:{key:"+",code:"NumpadAdd"},109:{key:"-",code:"NumpadSubtract"},110:{key:".",code:"NumpadDecimal"},111:{key:"/",code:"NumpadDivide"},112:{key:"F1",code:"F1"},113:{key:"F2",code:"F2"},114:{key:"F3",code:"F3"},115:{key:"F4",code:"F4"},116:{key:"F5",code:"F5"},117:{key:"F6",code:"F6"},118:{key:"F7",code:"F7"},119:{key:"F8",code:"F8"},120:{key:"F9",code:"F9"},121:{key:"F10",code:"F10"},122:{key:"F11",code:"F11"},123:{key:"F12",code:"F12"},186:{key:";",code:"Semicolon"},187:{key:"=",code:"Equal"},188:{key:",",code:"Comma"},189:{key:"-",code:"Minus"},190:{key:".",code:"Period"},191:{key:"/",code:"Slash"},192:{key:"`",code:"Backquote"},219:{key:"[",code:"BracketLeft"},220:{key:"\\",code:"Backslash"},221:{key:"]",code:"BracketRight"},222:{key:"'",code:"Quote"},229:{key:"q",code:"KeyQ"}},E={48:{key:")",code:"Digit0"},49:{key:"!",code:"Digit1"},50:{key:"@",code:"Digit2"},51:{key:"#",code:"Digit3"},52:{key:"$",code:"Digit4"},53:{key:"%",code:"Digit5"},54:{key:"^",code:"Digit6"},55:{key:"&",code:"Digit7"},56:{key:"*",code:"Digit8"},57:{key:"(",code:"Digit9"},65:{key:"A",code:"KeyA"},66:{key:"B",code:"KeyB"},67:{key:"C",code:"KeyC"},68:{key:"D",code:"KeyD"},69:{key:"E",code:"KeyE"},70:{key:"F",code:"KeyF"},71:{key:"G",code:"KeyG"},72:{key:"H",code:"KeyH"},73:{key:"I",code:"KeyI"},74:{key:"J",code:"KeyJ"},75:{key:"K",code:"KeyK"},76:{key:"L",code:"KeyL"},77:{key:"M",code:"KeyM"},78:{key:"N",code:"KeyN"},79:{key:"O",code:"KeyO"},80:{key:"P",code:"KeyP"},81:{key:"Q",code:"KeyQ"},82:{key:"R",code:"KeyR"},83:{key:"S",code:"KeyS"},84:{key:"T",code:"KeyT"},85:{key:"U",code:"KeyU"},86:{key:"V",code:"KeyV"},87:{key:"W",code:"KeyW"},88:{key:"X",code:"KeyX"},89:{key:"Y",code:"KeyY"},90:{key:"Z",code:"KeyZ"},186:{key:":",code:"Semicolon"},187:{key:"+",code:"Equal"},188:{key:"<",code:"Comma"},189:{key:"_",code:"Minus"},190:{key:">",code:"Period"},191:{key:"?",code:"Slash"},192:{key:"~",code:"Backquote"},219:{key:"{",code:"BracketLeft"},220:{key:"|",code:"Backslash"},221:{key:"}",code:"BracketRight"},222:{key:'"',code:"Quote"}};function N(t){return[17,18].includes(t.which)}function L(t,e=!1){let i=t.shiftKey&&e?E[t.which]?.key:M[t.which]?.key;return N(t)&&(i=""),I(t)+z(i||"")}function z(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function I(t){let e="";return(t.ctrlKey||t.metaKey)&&(e+="Ctrl+"),t.altKey&&(e+="Alt+"),t.shiftKey&&(e+="Shift+"),e}const $=["capture","self","once","prevent","stop","passive"],B={left:0,middle:1,right:2,main:0,auxiliary:1,secondary:2};function O(t,e){let i=L(t),n=function(t){let e=M[t.which]?.code;return N(t)&&(e=""),I(t)+z(e||"")}(t);return e.includes(i)||e.includes(n)}function A(t,e){let i=e.find((t=>t.endsWith("+")));if(i&&I(t)!==i)return!1;let n=e.filter((t=>t in B));return 0===n.length||!!n.find((e=>B[e]===t.button))}const F={keydown:O,keyup:O,keypress:O,mousedown:A,mousemove:A,mouseup:A,click:A,dblclick:A,change:function(t,[e]){let i=t.target.checked;return i&&"check"===e||i&&"uncheck"===e},wheel:function(t,[e]){return t.deltaY<0&&"up"===e||t.deltaY>0&&"down"===e}};function V(t,e,i,n,s=null,r={}){s&&(n=n.bind(s));let o=function(t,e,i,n){let s=i?.filter((t=>!$.includes(t)));return function r(o){s&&s.length>0&&!(0,F[e])(o,s)||i&&i.includes("self")&&o.target!==t||(i&&i.includes("prevent")&&o.preventDefault(),i&&i.includes("stop")&&o.stopPropagation(),i&&i.includes("once")&&T(t,e,r),n(o))}}(t,e,i,n),l=!!i&&i.includes("capture"),a=!!i&&i.includes("passive");l&&(r.capture=!0),a&&(r.passive=!0),P(t,e,n,s,o,r)}function W(t,e,i,n=null){T(t,e,i,n)}let K=1,_=new Map,U=new Map,H=null,j=!1,q=0;function G(t){if(j){let e=K++,i=0===_.size;return _.set(e,t),i&&J(),e}return Y(t)}function Y(t){let e=K++;return U.set(e,t),null===H&&(H=requestAnimationFrame(Q)),e}function X(t){_.delete(t),U.delete(t)}async function J(){for(;_.size>0;){await Promise.resolve();for(let t of _.keys()){_.get(t)(q),_.delete(t);break}}}function Q(t){H=null,j=!0,q=t,_=U,U=new Map,J(),setTimeout((function(){j=!1}),0)}const Z=new b;function tt(t,e){if(!e)return t;let i=Z.get(t,e);return i||(i=t.bind(e),Z.set(t,e,i)),i}function et(){let t,e;return{promise:new Promise(((i,n)=>{t=i,e=n})),resolve:t,reject:e}}class it{dependencyMap=new S;callbackMap=new S;apply(t,e){e.keyCount()>0?(this.updateCallbackMap(t,e),this.dependencyMap.setSecond(t,e)):this.dependencyMap.deleteSecondOf(t)}updateCallbackMap(t,e){let i=this.dependencyMap.getSecond(t);if(i)for(let[n,s]of e.entries()){let e=i.get(n);if(e)for(let i of e)s.has(i)||this.callbackMap.delete(n,i,t)}for(let[i,n]of e.entries())this.callbackMap.addByGroupOfSecondKeys(i,n,t)}getCallbacks(t,e){return this.callbackMap.get(t,e)}getAllPropCallbacks(t){return this.callbackMap.secondValuesOf(t)}getDependencies(t){return this.dependencyMap.getSecond(t)}deleteCallback(t){let e=this.dependencyMap.getSecond(t);if(e)for(let[i,n]of e.flatEntries())this.callbackMap.delete(i,n,t);this.dependencyMap.deleteSecondOf(t)}}const nt=new it,st=new WeakMap,rt=[];let ot=null;function lt(t,e=null){let i=tt(t,e);return ot&&rt.push(ot),ot=new pt(i)}function at(){ot.apply(),ot=rt.length>0?rt.pop():null}function ht(t,...e){ot&&ot.dependencies.addSeveral(t,e)}function dt(t,...e){for(let i of e)if(""===i){let e=nt.getAllPropCallbacks(t);if(e)for(let t of e)t()}else{let e=nt.getCallbacks(t,i);if(e)for(let t of e)t()}if(!e.includes("")){let e=nt.getCallbacks(t,"");if(e)for(let t of e)t()}let i=st.get(t);void 0!==i&&st.set(t,i+1)}function ct(t,e=null){let i=tt(t,e);nt.deleteCallback(i)}class pt{callback;dependencies=new y;tracking=!1;constructor(t){this.callback=t}apply(){nt.apply(this.callback,this.dependencies),this.tracking=!0}remove(){nt.deleteCallback(this.callback),this.tracking=!1}makeSnapshot(){let t=[];for(let[e,i]of this.dependencies.flatEntries())if(""===i){let i=st.get(e);void 0===i&&st.set(e,i=0),t.push(i)}else t.push(e[i]);return t}compareSnapshot(t){let e=0;for(let[i,n]of this.dependencies.flatEntries()){let s=t[e];if(""===n){if(st.get(i)!==s)return!0}else if(i[n]!==s)return!0;e++}return!1}}class ut{comparer;list=[];constructor(t){this.comparer=t}isEmpty(){return 0===this.list.length}add(t){this.list.push(t),this.shiftUp(this.list.length-1)}getItems(){return this.list}getHead(){if(0!==this.list.length)return this.list[0]}popHead(){if(0===this.list.length)return;if(1===this.list.length)return this.list.pop();let t=this.list[0];return this.list[0]=this.list.pop(),this.shiftDown(0),t}shiftUp(t){if(0===t)return;let e=(t+1>>1)-1;this.comparer(this.list[t],this.list[e])<0&&(this.swap(t,e),this.shiftUp(e))}shiftDown(t){let e=t+1<<1,i=e-1,n=i;i>=this.list.length||(e<this.list.length&&this.comparer(this.list[i],this.list[e])>0&&(n=e),this.comparer(this.list[n],this.list[t])<0&&(this.swap(n,t),this.shiftDown(n)))}swap(t,e){let i=this.list[t];this.list[t]=this.list[e],this.list[e]=i}clear(){this.list=[]}}class gt{set=new Set;heap;constructor(){this.heap=new ut((function(t,e){return t.order-e.order}))}isEmpty(){return this.heap.isEmpty()}has(t,e){return this.set.has(tt(t,e))}add(t,e,i){let n=tt(t,e);this.heap.add({callback:n,order:i}),this.set.add(n)}shift(){let{callback:t}=this.heap.popHead();return this.set.delete(t),t}clear(){this.set=new Set,this.heap.clear()}}const ft=new gt;let mt=[],wt=0;function vt(t,e=null,i=0){ft.add(t,e,i),xt()}function yt(){let{promise:t,resolve:e}=et();return mt.push(e),xt(),t}function xt(){0===wt&&(G(bt),wt=1)}async function bt(){wt=2;try{for(;!ft.isEmpty()||mt.length>0;){for(;!ft.isEmpty();)do{ft.shift()()}while(!ft.isEmpty());let t=mt;mt=[];for(let e of t)e();await Promise.resolve()}}catch(t){console.error(t)}wt=0}let Ct=(()=>{let t=et();return yt().then((()=>{setTimeout((()=>{t.resolve()}),0)})),t})();function St(){return Ct.promise}let kt=0;function Rt(){return kt+=Number.EPSILON}class Dt{order=Rt();getter;onReset;value=void 0;valueState=0;tracker=null;trackerSnapshot=null;needsUpdate=!1;constructor(t,e,i){this.getter=i?t.bind(i):t,this.onReset=e&&i?e.bind(i):e}connect(){0!==this.valueState&&this.willUpdate()}disconnect(){this.tracker?.remove()}willUpdate(){this.needsUpdate||(vt(this.update,this,this.order),this.needsUpdate=!0)}update(){this.shouldUpdate()?this.doUpdate():this.tracker.tracking||this.tracker.apply(),this.needsUpdate=!1}shouldUpdate(){return 2!==this.valueState||!this.trackerSnapshot||this.tracker.compareSnapshot(this.trackerSnapshot)}doUpdate(){this.valueState=1,this.onReset?.()}get(){if(2===this.valueState)return this.value;try{this.tracker=lt(this.willUpdate,this),this.value=this.getter(),this.valueState=2}catch(t){console.error(t)}finally{at()}return this.tracker&&(this.trackerSnapshot=this.tracker.makeSnapshot()),this.value}clear(){ct(this.willUpdate,this)}}class Pt{order=Rt();fn;tracker=null;trackerSnapshot=null;needsUpdate=!1;constructor(t,e){this.fn=e?t.bind(e):t}connect(){this.willUpdate()}disconnect(){this.tracker?.remove()}willUpdate(){this.needsUpdate||(vt(this.update,this,this.order),this.needsUpdate=!0)}update(){this.shouldUpdate()?this.doUpdate():this.tracker.tracking||this.tracker.apply(),this.needsUpdate=!1}shouldUpdate(){return!this.trackerSnapshot||this.tracker.compareSnapshot(this.trackerSnapshot)}doUpdate(){try{this.tracker=lt(this.willUpdate,this),this.fn()}catch(t){console.error(t)}finally{at()}this.tracker&&(this.trackerSnapshot=this.tracker.makeSnapshot())}clear(){ct(this.willUpdate,this)}}const Tt={once:!1,immediate:!1,untilTrue:!1};class Mt{order=Rt();getter;callback;value=void 0;valueAssigned=!1;options;needsUpdate=!1;constructor(t,e,i,n){this.getter=i?t.bind(i):t,this.callback=i?e.bind(i):e,this.options=n?{...Tt,...n}:Tt}connect(){this.willUpdate()}disconnect(){ct(this.willUpdate,this)}willUpdate(){this.needsUpdate||(vt(this.update,this,this.order),this.needsUpdate=!0)}update(){let t;try{lt(this.willUpdate,this),t=this.getter()}catch(t){console.error(t)}finally{at()}let e=this.valueAssigned&&t!==this.value||!this.valueAssigned&&this.options.immediate;e&&this.callback(t,this.value),this.needsUpdate=!1,this.value=t,this.valueAssigned=!0,(e&&this.options.once||this.options.untilTrue&&t)&&this.clear()}clear(){ct(this.willUpdate,this)}}const Et=new WeakMap;class Nt{map=new WeakMap;get(t,e){let i=this.map.get(t);if(i)return i.get(e)}set(t,e,i){let n=this.map.get(t);n||(n=new Map,this.map.set(t,n)),n.set(e,i)}deleteOf(t){this.map.delete(t)}}const Lt=new Nt;function zt(t,e){Lt.set(t,e,t)}function It(t,e){let i=Lt.get(t,e);return i?i[e]:(i=function(t,e){let i=t.el.parentElement;for(;i;){let t=Ot.from(i);if(t){return Lt.get(t,e)||t}i=i.parentElement}}(t,e),i?(Lt.set(t,e,i),i):void 0)}function $t(t){Lt.deleteOf(t)}let Bt=1;class Ot extends x{static setContextVariable=zt;static getContextVariableDeclared=It;static deleteContextVariables=$t;static from(t){return e=t,Et.get(e);var e}static fromClosest(t,e=50){let i=t,n=0;for(;i;){let t=Ot.from(i);if(t instanceof this)return t;if(i=i.parentElement,n>=e)break;n++}return null}static style=null;static SlotContentType=null;el;iid=Bt++;$stateMask=0;$contentSlot;$restSlotRange=null;$needsUpdate=!1;slotElements={};constructor(t=document.createElement("div")){super(),this.el=t,function(t,e){Et.set(t,e)}(t,this)}get connected(){return(4&this.$stateMask)>0}initContentSlot(){let t=new e(0,this.el),i=this.constructor;return new m(t,i.SlotContentType)}onCreated(){this.$contentSlot=this.initContentSlot()}onUpdated(){}onReady(){}onConnected(){}onWillDisconnect(){}untilReady(){if(!(2&this.$stateMask))return this.untilUpdated()}untilUpdated(){let{promise:t,resolve:e}=et();return this.once("updated",e),t}$transferSlotContents(t){t.slotElements=this.slotElements,t.$restSlotRange=this.$restSlotRange,dt(t,"slotElements")}$setSlotElement(t,e){this.slotElements[t]=e,dt(this.slotElements,t)}$getSlotElement(t){return ht(this,"slotElements"),ht(this.slotElements,t),this.slotElements[t]}$applyRestSlotRange(t){this.$restSlotRange=t}$applyRestSlotRangeNodes(t,e=t){this.$restSlotRange=new i(t,e)}$getRestSlotNodes(){return this.$restSlotRange?[...this.$restSlotRange.walkNodes()]:[]}afterConnectCallback(t){this.connected||(1&this.$stateMask||(this.$stateMask|=1,this.onCreated()),this.$stateMask|=12,this.onConnected(),this.fire("connected"),this.willUpdate(),this.once("updated",(()=>{if(!(8&this.$stateMask))return;this.$stateMask&=-9;let e=n(t);this.$contentSlot.afterConnectCallback(e),2&this.$stateMask||(this.$stateMask|=2,this.onReady())})))}beforeDisconnectCallback(t){if(this.connected){if(this.$needsUpdate=!1,this.$stateMask&=-5,this.onWillDisconnect(),this.fire("will-disconnect"),!(8&this.$stateMask))return this.$contentSlot.beforeDisconnectCallback(n(t));this.$stateMask&=-9}}hasContentRendered(){return this.$contentSlot&&this.$contentSlot.hasContent()}willUpdate(){this.connected&&!this.$needsUpdate&&(vt(this.update,this,this.iid),this.$needsUpdate=!0)}update(){this.connected&&this.$needsUpdate&&(this.updateRendering(),this.onUpdated(),this.$needsUpdate=!1,this.fire("updated"))}updateRendering(){let t;lt(this.willUpdate,this);try{t=this.render()}catch(e){t=null,console.warn(e)}this.$contentSlot.update(t),at()}render(){return null}appendTo(t,e=!0){if(this.connected&&this.remove(),t.append(this.el),document.contains(this.el)){let t=2;e||(t|=8),this.afterConnectCallback(t)}}insertBefore(t,e=!0){if(this.connected&&this.remove(),t.before(this.el),document.contains(this.el)){let t=2;e||(t|=8),this.afterConnectCallback(t)}}insertAfter(t,e=!0){if(this.connected&&this.remove(),t.after(this.el),document.contains(this.el)){let t=2;e||(t|=8),this.afterConnectCallback(t)}}remove(t=!1){if(!this.connected)return;let e=2;t||(e|=8);let i=this.beforeDisconnectCallback(e);if(t&&i)return i.then((()=>{this.connected||this.el.remove()}));this.el.remove()}async connectManually(){if(!this.connected)return this.afterConnectCallback(10),this.untilUpdated()}}function At(t,e=null){return new Ft(t,e)}class Ft extends Ot{context;renderer;componentRenderedAs=null;componentRenderedNeedsValidate=!0;constructor(t,e){super(document.createElement("slot")),this.renderer=t,this.context=e}initContentSlot(){let t=new e(0,this.el);return new m(t)}render(){return ht(this,"renderer"),"function"==typeof this.renderer?this.renderer.call(this.context):this.renderer}onUpdated(){super.onUpdated(),this.componentRenderedNeedsValidate=!0}getAs(t){if(!this.hasContentRendered())return this.componentRenderedAs=null,null;if(this.componentRenderedNeedsValidate){this.componentRenderedNeedsValidate=!1;let e=this.el.firstElementChild;if(e&&e!==this.componentRenderedAs?.el){let i=t.from(e);if(!i)throw new Error(`The "renderer" must render a "<${t.name}>" type of component!`);this.componentRenderedAs=i}}return this.componentRenderedAs}}function Vt(t,e){return function(t,e){let i=document.createElement("style");i.setAttribute("name",e),"function"==typeof t?new Pt((()=>{i.textContent=String(t())})).connect():i.textContent=String(t);let n=document.head.querySelector("script");document.head.insertBefore(i,n)}(t,e),t}class Wt{el;lastClassNames=[];constructor(t){this.el=t}update(t){Array.isArray(t)?this.updateList(t):t&&"object"==typeof t?this.updateObject(t):"string"==typeof t&&this.updateString(t)}updateString(t){let e=t.split(/\s+/);this.updateList(e)}updateObject(t){let e=[];for(let i of Object.keys(t))t[i]&&e.push(i);this.updateList(e)}updateList(t){t=t.filter((t=>t));for(let e of this.lastClassNames)t.includes(e)||this.el.classList.remove(e);for(let e of t)this.lastClassNames.includes(e)||this.el.classList.add(e);this.lastClassNames=t}}class Kt{el;constructor(t){this.el=t}update(t){this.el.innerHTML=null==t?"":String(t).replace(/<script[\s\S]*?>[\s\S]*?<\/script\s*>/gi,"").replace(/<\w+[\s\S]*?>/g,(function(t){return t.replace(/\s*on\w+\s*=\s*(['"])?.*?\1/g,"")}))}}class _t{el;context;refType=0;refFn=null;constructor(t,e,i=[]){this.el=t,this.context=e,this.refType=i.includes("el")?0:i.includes("com")?1:i.includes("binding")?2:0}update(t){this.refFn=t}doReference(){if(0===this.refType)this.refFn.call(this.context,this.el);else if(1===this.refType){let t=Ot.from(this.el);this.refFn.call(this.context,t)}else this.refFn.call(this.context,!0)}afterConnectCallback(t){this.refFn&&this.doReference()}beforeDisconnectCallback(t){1&t&&this.refFn&&this.refFn.call(this.context,2!==this.refType&&null)}}class Ut{el;slotName=null;com=null;constructor(t){this.el=t}update(t){this.slotName=t}afterConnectCallback(t){let e=Ot.fromClosest(this.el.parentElement);e&&(this.com=e,e.$setSlotElement(this.slotName,this.el))}beforeDisconnectCallback(t){1&t&&this.com&&(this.com.$setSlotElement(this.slotName,null),this.com=null)}}class Ht{el;lastStyleValues={};constructor(t){this.el=t}update(t){"string"==typeof t?this.updateString(t):t&&"object"==typeof t&&this.updateObject(t)}updateString(t){let e=this.parseStyleString(t);this.updateObject(e)}parseStyleString(t){let e={};for(let i of t.split(/\s*;\s*/)){let[t,n]=i.split(/\s*:\s*/);e[t]=n}return e}updateObject(t){for(let e of Object.keys(this.lastStyleValues))t.hasOwnProperty(e)||this.el.style.setProperty(e,"");for(let[e,i]of Object.entries(t))i!==this.lastStyleValues[e]&&this.el.style.setProperty(e,i);this.lastStyleValues=t}}const jt={ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],"ease-in-quad":[.55,.085,.68,.53],"ease-in-cubic":[.55,.055,.675,.19],"ease-in-quart":[.895,.03,.685,.22],"ease-in-quint":[.755,.05,.855,.06],"ease-in-sine":[.47,0,.745,.715],"ease-in-expo":[.95,.05,.795,.035],"ease-in-circle":[.6,.04,.98,.335],"ease-in-back":[.6,-.28,.735,.045],"ease-out-quad":[.25,.46,.45,.94],"ease-out-cubic":[.215,.61,.355,1],"ease-out-quart":[.165,.84,.44,1],"ease-out-quint":[.23,1,.32,1],"ease-out-sine":[.39,.575,.565,1],"ease-out-expo":[.19,1,.22,1],"ease-out-circle":[.075,.82,.165,1],"ease-out-back":[.175,.885,.32,1.275],"ease-in-out-quad":[.455,.03,.515,.955],"ease-in-out-cubic":[.645,.045,.355,1],"ease-in-out-quart":[.77,0,.175,1],"ease-in-out-quint":[.86,0,.07,1],"ease-in-out-sine":[.445,.05,.55,.95],"ease-in-out-expo":[1,0,0,1],"ease-in-out-circle":[.785,.135,.15,.86],"ease-in-out-back":[.68,-.55,.265,1.55]},qt={linear:t=>t,"ease-in-elastic":t=>0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*(2*Math.PI)/3),"ease-out-elastic":t=>0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*(2*Math.PI)/3)+1,"ease-in-out-elastic":t=>0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*(2*Math.PI)/4.5)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*(2*Math.PI)/4.5)/2+1,"ease-in-bounce":t=>1-Gt(1-t),"ease-out-bounce":Gt,"ease-in-out-bounce":t=>t<.5?(1-Gt(1-2*t))/2:(1+Gt(2*t-1))/2};function Gt(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}function Yt(t){if(qt[t])return qt[t];{let[e,i,n,s]=jt[t];return qt[t]=function(t,e,i,n){let s=3*t-3*i+1,r=-6*t+3*i,o=3*t,l=3*e-3*n+1,a=-6*e+3*n,h=3*e;return function(t){let e=-t,i=0,n=1,d=(i+n)/2;for(let t=0;t<20;t++)((s*d+r)*d+o)*d+e<0?i=d:n=d,d=(i+n)/2;return function(t){let e=Math.pow(10,5);return Math.round(t*e)/e}(((l*d+a)*d+h)*d)}}(e,i,n,s)}}function Xt(t){return jt.hasOwnProperty(t)?"cubic-bezier("+jt[t].join(", ")+")":t}class Jt{canceled=!1;fn;id=null;startTimestamp=0;constructor(t){this.fn=t}get running(){return!!this.id}reset(){null!==this.id&&X(this.id),this.id=G(this.onCurrentFrame.bind(this)),this.canceled=!1,this.fn(0)}start(){this.reset()}onCurrentFrame(t){this.startTimestamp=t,this.id=Y(this.onFrame.bind(this))}onFrame(t){this.id=Y(this.onFrame.bind(this)),this.fn(t-this.startTimestamp)}flush(){this.reset()}cancel(){null!==this.id&&(X(this.id),this.id=null),this.canceled=!0}}function Qt(t,e){let i=typeof t;if(Array.isArray(t))return function(t,e){let i=t.map((function(t,i){return Qt(t,e[i])}));return function(t){return i.map((e=>e(t)))}}(t,e);if("number"===i)return function(t,e){return function(i){return t*(1-(n=i))+e*n;var n}}(t,e);if("object"===i)return"mix"in t&&"function"==typeof t.mix?function(t,e){return function(i){return t.mix(e,i)}}(t,e):function(t,e){let i=Object.keys(t),n={};for(let s of i){let i=t[s],r=e[s];n[s]=Qt(i,r)}return function(t){let e={};for(let s of i)e[s]=n[s](t);return e}}(t,e);throw new Error(`"${t}" is not able to mix with "${e}"!`)}const Zt={duration:200,easing:"ease-out-quad",delay:0},te={transform:"none"};class ee extends x{static DefaultOptions=Zt;el;options;animation=null;promise=null;resolve=null;startFrame=null;endFrame=null;constructor(t,e={}){super(),this.el=t,this.options={...Zt,...e}}get running(){return!!this.animation&&"running"===this.animation.playState}assignOptions(t={}){let e=!1;for(let[i,n]of Object.entries(t))this.options[i]!==n&&(this.options[i]=n,e=!0);return e}async untilEnd(){return!this.promise||this.promise}setFrom(t){return this.cancel(),this.startFrame=t,this}playFrom(t){let e={},i=getComputedStyle(this.el);for(let n of Object.keys(t))e[n]=i[n]||te[n]||"0";return this.startFrame=t,this.endFrame=e,this.startPlaying()}async playTo(t,e=!1){let i=this.startFrame;if(!i){i={};let e=getComputedStyle(this.el);for(let n of Object.keys(t))i[n]=e[n]||te[n]||"0"}return this.playBetween(i,t,e)}async playBetween(t,e,i=!1){this.cancel(),this.startFrame=t,this.endFrame=e;let n=await this.startPlaying();if(i)for(let[t,i]of Object.entries(e))this.el.style.setProperty(t,i);return n}async startPlaying(){this.running?this.fire("continued"):this.fire("started");let t=Xt(this.options.easing),e=this.options.duration,i=this.options.delay;this.animation=this.el.animate([this.startFrame,this.endFrame],{easing:t,duration:e,delay:i});let{promise:n,resolve:s}=et();this.promise=n,this.resolve=s,this.animation.onfinish=()=>{this.onFinished()},this.animation.oncancel=()=>{this.onCanceled()};let r=await n;return r&&(this.startFrame=this.endFrame,this.endFrame=null),r}finish(){this.animation&&this.animation.finish()}onFinished(){this.fire("finished"),this.end(!0)}cancel(){this.animation&&(this.animation.oncancel=null,this.animation.cancel(),this.onCanceled())}onCanceled(){this.fire("cancelled"),this.end(!1)}end(t){this.animation=null,this.promise=null,this.resolve&&(this.resolve(t),this.resolve=null),this.fire("ended",t)}}const ie={duration:200,easing:"ease-out-quad",delay:0};class ne extends x{static DefaultOptions=ie;easingFn=null;options;delayTimeout;frameLoop;promise=null;resolve=null;mixer=null;startValue=null;endValue=null;currentValue=null;onprogress=null;progress=0;constructor(t={}){super(),this.options={...ie,...t},this.delayTimeout=new se(this.startTransition.bind(this),this.options.delay),this.frameLoop=new Jt(this.onFrameLoop.bind(this)),this.easingFn=Yt(this.options.easing)}get running(){return!!this.promise}assignOptions(t={}){let e=!1;for(let[i,n]of Object.entries(t))this.options[i]!==n&&(this.options[i]=n,e=!0);return e&&(this.easingFn=Yt(this.options.easing)),e}async untilEnd(){return!this.promise||this.promise}setFrom(t){return this.cancel(),this.startValue=t,this.currentValue=t,this}playFrom(t,e=null){if(null===this.currentValue)throw new Error('Must call "setFrom" or "playBetween" firstly!');return this.cancel(),this.startValue=t,this.endValue=this.currentValue,this.mixer=Qt(this.startValue,this.endValue),this.onprogress=e,this.startDeferred()}playTo(t,e=null){if(null===this.currentValue)throw new Error('Must call "playFrom" or "playBetween" firstly!');return this.cancel(),this.startValue=this.currentValue,this.endValue=t,this.mixer=Qt(this.startValue,this.endValue),this.onprogress=e,this.startDeferred()}playBetween(t,e,i=null){return this.cancel(),this.startValue=t,this.endValue=e,this.currentValue=t,this.mixer=Qt(t,e),this.onprogress=i,this.startDeferred()}startDeferred(){this.running?this.fire("continued"):this.fire("started");let{promise:t,resolve:e}=et();return this.promise=t,this.resolve=e,this.delayTimeout.start(),t}startTransition(){this.frameLoop.start()}onFrameLoop(t){let e=function(t,e,i){return t<=0?0:t>=i?1:t=(t-0)/(i-0)||0}(t,0,this.options.duration);this.onProgress(e),1===e&&this.onFinish()}onProgress(t){let e=this.easingFn(t);this.progress=t,this.currentValue=this.mixer(e),this.onprogress&&this.onprogress(this.currentValue,t),this.fire("progress",this.currentValue,t)}onFinish(){this.fire("finished"),this.end(!0)}finish(){this.running&&(this.onProgress(1),this.fire("finished"),this.end(!0))}cancel(){this.running&&(this.fire("cancelled"),this.end(!1))}end(t){this.delayTimeout.cancel(),this.frameLoop.cancel(),this.promise=null,this.mixer=null,this.resolve&&(this.resolve(t),this.resolve=null),this.fire("ended",t)}}class se{fn;ms;id=null;constructor(t,e){this.fn=t,this.ms=e}get running(){return!!this.id}reset(){null!==this.id&&clearTimeout(this.id),this.id=setTimeout(this.onTimeout.bind(this),this.ms)}start(){this.reset()}onTimeout(){this.id=null,this.fn()}cancel(){null!==this.id&&(clearTimeout(this.id),this.id=null)}}class re{getter;options;constructor(t,e={}){this.getter=t,this.options=e}}class oe{static define(t){return function(e){return new re(t,e)}}el;version=0;result=null;mixedTransitions=[];ready=null;constructor(t){this.el=t}get running(){return!!this.ready||this.mixedTransitions.some((t=>t.transition.running))}update(t){this.result=t,this.result||this.clearTransitions()}clearTransitions(){for(let t of this.mixedTransitions)t.transition.cancel();this.mixedTransitions=[]}async enter(t){let{phase:e}=t.options;if("leave"===e||"none"===e)return!1;if(!await this.prepareTransitions("enter",t))return!1;let i=new CustomEvent("transition-enter-started",{bubbles:!1});this.el.dispatchEvent(i);let n=[];for(let t of this.mixedTransitions)n.push(this.playMixedTransition(t,"enter"));let s=(await Promise.all(n)).every((t=>t));if(s){let t=new CustomEvent("transition-enter-ended",{bubbles:!1});this.el.dispatchEvent(t)}return s}async leave(t){let{phase:e}=t.options;if("enter"===e||"none"===e)return!1;if(!await this.prepareTransitions("leave",t))return!1;let i=new CustomEvent("transition-leave-started",{bubbles:!1});this.el.dispatchEvent(i);let n=[];for(let t of this.mixedTransitions)n.push(this.playMixedTransition(t,"leave"));let s=(await Promise.all(n)).every((t=>t));if(s){let t=new CustomEvent("transition-leave-ended",{bubbles:!1});this.el.dispatchEvent(t)}return s}async prepareTransitions(t,e){let i=++this.version,{promise:n,resolve:s}=et();if(this.ready=n.then((()=>{this.ready=null})),await yt(),this.version!==i)return s(),!1;let r=await e.getter(this.el,e.options,t);if(s(),!r)return!1;if(this.version!==i)return!1;let o=Array.isArray(r)?r:[r];return this.updateMixedTransitions(o),!0}updateMixedTransitions(t){for(let t of this.mixedTransitions)t.transition.cancel();for(let e=0;e<t.length;e++){let i=t[e],n=this.getTransitionType(i);if(this.mixedTransitions.length<e+1||!this.isExistingMixedTransitionMatch(this.mixedTransitions[e],n,i)){let t,s=le({duration:i.duration,easing:i.easing,delay:i.delay});if(0===n)t=new ne(s);else{let e=i.el??this.el;t=new ee(e,s)}this.mixedTransitions[e]={type:n,transition:t,props:i}}}this.mixedTransitions.length>t.length&&(this.mixedTransitions=this.mixedTransitions.slice(0,t.length))}getTransitionType(t){return t.perFrame?0:1}isExistingMixedTransitionMatch(t,e,i){if(e!==t.type)return!1;if(1==e){let e=t.transition,n=i.el??this.el;if(e.el!==n)return!1}return!0}playMixedTransition(t,e){if(0===t.type){let i=t.props.perFrame,n=t.transition;return"enter"===e?n.playBetween(0,1,i):n.playBetween(1,0,i)}{let i=t.props.startFrame,n=t.props.endFrame,s=t.transition;return"enter"===e?s.playBetween(i,n):s.playBetween(n,i)}}async finish(){this.ready&&await this.ready;for(let{transition:t}of this.mixedTransitions)t.finish()}cancel(){for(let{transition:t}of this.mixedTransitions)t.cancel();this.version++}}function le(t){for(let e of Object.keys(t))null!==t[e]&&void 0!==t[e]||delete t[e];return t}const ae=oe.define((function(t,e={}){return{...e,startFrame:{opacity:"0"},endFrame:{opacity:"1"}}})),he=oe.define((function(t,e={}){let i=e.direction??"vertical",n="vertical"===i?t.offsetHeight:t.offsetWidth,s="vertical"===i?"height":"width",r=getComputedStyle(t),o="vertical"===i?r.paddingTop:r.paddingLeft,l="vertical"===i?r.paddingBottom:r.paddingRight,a="vertical"===i?"paddingTop":"paddingLeft",h="vertical"===i?"paddingBottom":"paddingRight",d="vertical"===i?r.marginTop:r.marginLeft,c="vertical"===i?r.marginBottom:r.marginRight,p="vertical"===i?"marginTop":"marginLeft",u="vertical"===i?"marginBottom":"marginRight",g={startFrame:{[s]:"0",[a]:"0",[h]:"0",[p]:"0",[u]:"0"},endFrame:{[s]:n+"px",[a]:o,[h]:l,[p]:d,[u]:c}};return e.fade&&(g.startFrame.opacity="0",g.endFrame.opacity="1"),function(t,e,i){for(let n of Object.keys(e)){if(i.includes(n))continue;let s=e[n];void 0!==s&&(t[n]=s)}return t}(g,e,["direction","fade"])}));class de{lm=new Map;rm=new Map;leftKeys(){return this.lm.keys()}hasRight(t){return this.rm.has(t)}getByLeft(t){return this.lm.get(t)}getByRight(t){return this.rm.get(t)}set(t,e){this.lm.set(t,e),this.rm.set(e,t)}}const ce=new WeakSet;class pe{el;global=!1;immediate=!1;result=null;transition;constructor(t,e,i=[]){this.el=t,this.global=i.includes("global"),this.immediate=i.includes("immediate"),this.transition=new oe(this.el),ce.add(this)}afterConnectCallback(t){8&t||ce.has(this)&&(ce.delete(this),!this.immediate)||(this.global||(2&t)>0)&&this.enter()}beforeDisconnectCallback(t){if(this.cancel(),!(8&t))return this.global||(2&t)>0?this.leave():void 0}update(t){this.result=t,this.result||this.transition.cancel()}cancel(){return this.transition.cancel()}enter(){let t=this.getResult();if(t)return this.transition.enter(t)}getResult(){return"function"==typeof this.result?this.result():this.result}leave(){let t=this.getResult();if(t)return this.transition.leave(t)}}class ue{items;offset=0;constructor(t){this.items=t}addItems(t){this.items.push(...t)}isEnded(){return this.offset>=this.items.length}getNext(){return this.isEnded()?-1:this.items[this.offset++]}peekNext(){return this.isEnded()?-1:this.items[this.offset]}}class ge{slot;context;renderFn;data=[];templates=[];constructor(t){this.slot=t}updateRenderFn(t){this.renderFn=t}updateData(t){let e=[...t],i=this.data,n=this.templates,s=(r=i,l=!0,0===(o=e).length?r.map((function(t,e){return{type:5,fromIndex:e,toIndex:-1,insertIndex:-1}})):0===r.length?o.map((function(t,e){return{type:4,fromIndex:-1,toIndex:e,insertIndex:0}})):function(t,e,i){let{indexMap:n,restOldIndices:s}=function(t,e){let i=new Map(e.map(((t,e)=>[t,e]))),n=new de,s=[];for(let e=0;e<t.length;e++){let r=t[e];i.has(r)?(n.set(e,i.get(r)),i.delete(r)):s.push(e)}return{indexMap:n,restOldIndices:s}}(t,e),r=[];for(let t of n.leftKeys()){let e=n.getByLeft(t);r.push(e)}let o=new ue(function(t){let e=0,i=[];for(let n=1;n<t.length;n++)t[n]<t[n-1]&&(i.push([e,n]),e=n);e<t.length&&i.push([e,t.length]);let n=[],s=-1;for(let e=0;e<i.length;e++){let[r,o]=i[e];t[r]>s?(n.push(...t.slice(r,o)),s=n[n.length-1]):o-r>n.length&&(n=t.slice(r,o),s=n[n.length-1])}return n}(r)),l=new ue(s),a=o.getNext(),h=-1===a?t.length:n.getByRight(a),d=[];for(let s=0;s<e.length;s++)if(s===a){let e=n.getByRight(a);d.push({type:1,fromIndex:e,toIndex:s,insertIndex:-1}),a=o.getNext(),h=-1===a?t.length:n.getByRight(a)}else if(n.hasRight(s)){let t=n.getByRight(s);d.push({type:2,fromIndex:t,toIndex:s,insertIndex:h})}else if(i&&!l.isEnded()){let t=l.getNext();d.push({type:3,fromIndex:t,toIndex:s,insertIndex:h})}else d.push({type:4,fromIndex:-1,toIndex:s,insertIndex:h});for(;!l.isEnded();){let t=l.getNext();d.push({type:5,fromIndex:t,toIndex:-1,insertIndex:-1})}return d}(r,o,l));var r,o,l;this.data=e,this.templates=[];for(let t of s){let{type:i,insertIndex:s,fromIndex:r,toIndex:o}=t,l=this.getItemAtIndex(n,s),a=this.getItemAtIndex(n,r),h=o>=0?e[o]:null;1===i?this.reuseTemplate(a,h,o):2===i||3===i?(this.moveTemplate(a,l),this.reuseTemplate(a,h,o)):4===i?this.createTemplate(h,o,l):5===i&&this.removeTemplate(a,r)}this.slot.updateExternalTemplateList(this.templates)}getItemAtIndex(t,e){return e<t.length&&e>=0?t[e]:null}createTemplate(t,e,i){let n=this.renderFn(t,e),s=n.maker.make(n.context);this.insertTemplate(s,i),s.update(n.values),this.slot.connected&&s.afterConnectCallback(3),this.templates.push(s)}reuseTemplate(t,e,i){let n=this.renderFn(e,i);t.update(n.values),this.templates.push(t)}removeTemplate(t,e){t.recycleNodes()}moveTemplate(t,e){let i=e?.startInnerPosition??this.slot.endOuterPosition;t.moveNodesBefore(i)}insertTemplate(t,e){let i=e?.startInnerPosition??this.slot.endOuterPosition;t.insertNodesBefore(i)}}class fe{slot;constructor(t){this.slot=t}update(t){this.slot.update(t)}}const me='<svg viewBox="0 0 15 15"><polyline style="fill:none;stroke:currentColor;" points="12.5,3.4 5.7,11.6 2.5,7.8"/></svg>',we='<svg viewBox="0 0 15 15"><line style="fill:none;stroke:currentColor;stroke-width:1.0526;" x1="12.5" y1="2.5" x2="2.5" y2="12.5"/><line style="fill:none;stroke:currentColor;stroke-width:1.0526;" x1="12.5" y1="12.5" x2="2.5" y2="2.5"/></svg>',ve='<svg viewBox="0 0 15 15"><polygon style="fill:currentColor; stroke:none;" points="7.5,11 3.5,4.4 4.2,4 7.5,9.4 10.8,4 11.5,4.4"/></svg>',ye='<svg viewBox="0 0 21 21"><rect style="fill:currentColor; stroke:none;" x="9.5" y="4" width="2" height="2"/><polygon style="fill:currentColor; stroke:none;" points="11.5,9 11.5,8 9.5,8 8.5,8 8.5,9 9.5,9 9.5,16 8.5,16 8.5,17 9.5,17 11.5,17 12.5,17 12.5,16 11.5,16"/><circle style="fill:none;stroke:currentColor;" cx="10.5" cy="10.5" r="10"/></svg>',xe='<svg viewBox="0 0 15 15"><path style="fill:none;stroke:currentColor;" d="M12.7,3.4c-1.1-1.1-2.8-1.1-3.8,0L7.5,4.7L6.1,3.4c-1.1-1.1-2.8-1.1-3.8,0c-1.1,1.1-1.1,2.8,0,3.8l1.4,1.4l3.8,3.8l3.8-3.8l1.4-1.4C13.8,6.2,13.8,4.4,12.7,3.4z"/></svg>';class be{pageSize;countGetter;dataGetter;preloadPageCount;cacheMap=new Map;requests=new Map;knownDataCount=null;constructor(t,e,i,n=0){this.pageSize=t,this.countGetter=e,this.dataGetter=i,this.preloadPageCount=n}setPreloadPageCount(t){this.preloadPageCount=t}getItem(t){let e=Math.floor(t/this.pageSize);return this.cacheMap.get(e)?.[t-e*this.pageSize]??null}setItem(t,e){let i=Math.floor(t/this.pageSize),n=this.cacheMap.get(i);n||this.cacheMap.set(i,n=[]),n[t-i*this.pageSize]=e}async getDataCount(){if(null!==this.knownDataCount)return this.knownDataCount;let t=this.countGetter();return this.knownDataCount=t instanceof Promise?await t:t,this.knownDataCount}getPageIndices(t,e){return[Math.floor(t/this.pageSize),Math.floor((e-1)/this.pageSize)]}getImmediateData(t,e){let[i,n]=this.getPageIndices(t,e),s=[];for(let r=i;r<=n;r++){let i=Math.max(0,t-r*this.pageSize),n=Math.min(this.pageSize,e-r*this.pageSize),o=this.cacheMap.get(r);if(o)s.push(...o.slice(i,n));else for(let t=i;t<n;t++)s.push(null)}return s}isRangeFresh(t,e){let[i,n]=this.getPageIndices(t,e);for(let t=i;t<=n;t++)if(!this.cacheMap.get(t))return!1;return!0}async getFreshData(t,e){let[i,n]=this.getPageIndices(t,e),s=[];for(let t=i;t<=n;t++)s.push(this.ensurePageData(t));return await Promise.all(s),this.preloadIfNeeded(n+1),this.getImmediateData(t,e)}async preloadIfNeeded(t){if(null!==this.knownDataCount&&this.preloadPageCount>0){let e=Math.ceil(this.knownDataCount/this.pageSize);for(let i=t;i<e&&i<t+this.preloadPageCount;i++)await this.ensurePageData(i)}}async ensurePageData(t){this.cacheMap.has(t)||await this.loadPageData(t)}async loadPageData(t){if(this.requests.has(t))return this.requests.get(t);let e=t*this.pageSize,i=(t+1)*this.pageSize;if(null!==this.knownDataCount&&(i=Math.min(i,this.knownDataCount)),e>=i)return;let n=this.dataGetter(e,i);if(n instanceof Promise){this.requests.set(t,n);let e=await n;e&&this.cacheMap.set(t,[...e]),this.requests.delete(t)}else this.cacheMap.set(t,[...n])}splice(t,e,...i){let n=i.length-e;this.moveDataItems(t,n);for(let e=0;e<i.length;e++)this.setItem(t+e,i[e])}moveDataItems(t,e){if(0===e)return;let i=this.knownDataCount;if(null===i){let t=Math.max(...this.cacheMap.keys());i=this.cacheMap.get(t).length+t*this.pageSize}if(e>0)for(let n=i-1;n>=t;n--)this.moveDataItem(n,n+e);else for(let n=t;n<i;n++)this.moveDataItem(n,n+e);null!==this.knownDataCount&&(this.knownDataCount+=e)}moveDataItem(t,e){if(t===e)return;let i=this.getItem(t);this.setItem(e,i)}clear(){this.cacheMap=new Map,this.requests=new Map,this.knownDataCount=null}}class Ce{map=new Map;keys(){return this.map.keys()}valueLists(){return this.map.values()}*values(){for(let t of this.map.values())yield*t}entries(){return this.map.entries()}*flatEntries(){for(let[t,e]of this.map.entries())for(let i of e)yield[t,i]}has(t,e){return!!this.map.get(t)?.includes(e)}hasKey(t){return this.map.has(t)}countOf(t){return this.map.get(t)?.length||0}valueCount(){let t=0;for(let e of this.map.values())t+=e.length;return t}keyCount(){return this.map.size}get(t){return this.map.get(t)}clone(){let t=new Ce;for(let[e,i]of this.map.entries())t.map.set(e,[...i]);return t}add(t,e){let i=this.map.get(t);i?i.push(e):(i=[e],this.map.set(t,i))}addSeveral(t,e){if(0===e.length)return;let i=this.map.get(t);i?i.push(...e):(i=[...e],this.map.set(t,i))}addIf(t,e){let i=this.map.get(t);i?i.includes(e)||i.push(e):(i=[e],this.map.set(t,i))}addSeveralIf(t,e){if(0===e.length)return;let i=this.map.get(t);i||(i=[],this.map.set(t,i));for(let t of e)i.includes(t)||i.push(t)}set(t,e){return this.map.set(t,e)}delete(t,e){let i=this.map.get(t);if(i){let n=i.indexOf(e);n>-1&&(i.splice(n,1),0===i.length&&this.map.delete(t))}}deleteSeveral(t,e){let i=this.map.get(t);if(i){for(let t of e){let e=i.indexOf(t);e>-1&&i.splice(e,1)}0===i.length&&this.map.delete(t)}}deleteOf(t){this.map.delete(t)}clear(){this.map=new Map}}class Se{lm=new Map;rm=new Map;leftKeys(){return this.lm.keys()}rightKeys(){return this.rm.keys()}entries(){return this.lm.entries()}hasLeft(t){return this.lm.has(t)}hasRight(t){return this.rm.has(t)}leftKeyCount(){return this.lm.size}rightKeyCount(){return this.rm.size}getByLeft(t){return this.lm.get(t)}getByRight(t){return this.rm.get(t)}clone(){let t=new Se;return t.lm=new Map(this.lm),t.rm=new Map(this.rm),t}set(t,e){this.lm.set(t,e),this.rm.set(e,t)}setUnRepeatably(t,e){this.deleteLeft(t),this.deleteRight(e),this.set(t,e)}deleteLeft(t){this.hasLeft(t)&&(this.rm.delete(this.lm.get(t)),this.lm.delete(t))}deleteRight(t){this.hasRight(t)&&(this.lm.delete(this.rm.get(t)),this.rm.delete(t))}clear(){this.lm=new Map,this.rm=new Map}}class ke{map=new WeakMap;has(t,e){return!!this.map.get(t)?.includes(e)}hasKey(t){return this.map.has(t)}countOf(t){return this.map.get(t)?.length||0}add(t,e){let i=this.map.get(t);i?i.push(e):(i=[e],this.map.set(t,i))}addSeveral(t,e){let i=this.map.get(t);i?i.push(...e):(i=[...e],this.map.set(t,i))}addIf(t,e){let i=this.map.get(t);i?i.includes(e)||i.push(e):(i=[e],this.map.set(t,i))}addSeveralIf(t,e){let i=this.map.get(t);i||(i=[],this.map.set(t,i));for(let t of e)i.includes(t)||i.push(t)}get(t){return this.map.get(t)}set(t,e){return this.map.set(t,e)}delete(t,e){let i=this.map.get(t);if(i){let n=i.indexOf(e);n>-1&&(i.splice(n,1),0===i.length&&this.map.delete(t))}}deleteSeveral(t,e){let i=this.map.get(t);if(i){for(let t of e){let e=i.indexOf(t);e>-1&&i.splice(e,1)}0===i.length&&this.map.delete(t)}}deleteOf(t){this.map.delete(t)}clear(){this.map=new WeakMap}}class Re{map=new WeakMap;has(t,e){let i=this.map.get(t);return!!i&&i.has(e)}hasKey(t){return this.map.has(t)}get(t,e){let i=this.map.get(t);if(i)return i.get(e)}set(t,e,i){let n=this.map.get(t);n||(n=new Map,this.map.set(t,n)),n.set(e,i)}delete(t,e){let i=this.map.get(t);i&&i.delete(e)}deleteOf(t){this.map.delete(t)}clear(){this.map=new WeakMap}}const De=new Re;function Pe(t,e){if(!e)return t;let i=De.get(t,e);return i||(i=t.bind(e),De.set(t,e,i)),i}function Te(t,e){if(0===t)return 0;if(e>0){let i=Math.pow(10,e);return Math.round(t*i)/i}{let i=Math.pow(10,-e);return Math.round(t/i)*i}}function Me(t,e,i){return Math.max(e,Math.min(i,t))}function Ee(t){return t>0?1:t<0?-1:0}function Ne(t){return function(t){return function(t){return Math.abs(t-0)<=Number.EPSILON}(t)?0:t}(t)}function*Le(t,e,i=(t<=e?1:-1)){let n=Ee(i);if(0===n)throw new RangeError('"Step" must not be zero!');for(let s=t;(s-e)*n<0;s+=i)yield s}function ze(t=0){let{promise:e,resolve:i}=et();return setTimeout(i,t),e}function Ie(t,e){return getComputedStyle(t)[e]}function $e(t,e){let i=Ie(t,e);return i&&parseFloat(i)||0}function Be(t){let e=null;return t.scrollHeight>t.clientHeight?e="vertical":t.scrollWidth>t.clientWidth&&(e="horizontal"),e}function Oe(t){let e=null,i=getComputedStyle(t);return"auto"===i.overflowY||"scroll"===i.overflowY?e="vertical":"auto"!==i.overflowX&&"scroll"!==i.overflowX||(e="horizontal"),e}function Ae(t){return t.type.startsWith("touch")?t.touches[0]||t.changedTouches[0]||null:t}function Fe(t){let e=Ae(t);return e?new DOMPoint(e.clientX,e.clientY):new DOMPoint(0,0)}function Ve(){return matchMedia("(hover:hover)").matches}let We=[];function Ke(){for(let t=0;t<We.length;t++)(0,We[t])();We=null}function _e(t,e){let i=[];for(let n=0;n<e;n++)i.push(t);return i}function Ue(t,...e){let i=[];for(let n of e){let e=t.indexOf(n);e>-1&&i.push(...t.splice(e,1))}return i}class He{orders=[];constructor(...t){for(let e of t)"object"==typeof e?this.orders.push({fn:this.normalizeOrderKey(e.by),direction:this.normalizeOrderDirection(e.direction),numeric:e.numeric??!1,ignoreCase:e.ignoreCase??!1}):this.orders.push({fn:this.normalizeOrderKey(e),direction:1,numeric:!1,ignoreCase:!1})}normalizeOrderKey(t){return"string"==typeof t||"number"==typeof t?e=>e[t]:t}normalizeOrderDirection(t){return"asc"===t?1:"desc"===t?-1:t??1}sort(t,e=1){1===("asc"===e?1:"desc"===e?-1:e)?t.sort(((t,e)=>this.compare(t,e))):t.sort(((t,e)=>-this.compare(t,e)))}toSorted(t,e=1){return 1===("asc"===e?1:"desc"===e?-1:e)?t.toSorted(((t,e)=>this.compare(t,e))):t.toSorted(((t,e)=>-this.compare(t,e)))}compare(t,e){let i=[];for(let{numeric:t,ignoreCase:e}of this.orders)if(t||e){let n=new Intl.Collator(void 0,{numeric:t,sensitivity:e?"base":void 0});i.push(n)}else i.push(null);for(let n=0;n<this.orders.length;n++){let s=i[n],{fn:r,direction:o}=this.orders[n],l=r(t),a=r(e);if(s){let t=s.compare(l,a);if(t<0)return-o;if(t>0)return o}else{if(l<a)return-o;if(l>a)return o}}return 0}binaryFindInsertIndex(t,e){return qe(t,e,(t=>this.compare(e,t)))}binaryFindLowerInsertIndex(t,e){return Ge(t,e,(t=>this.compare(e,t)))}binaryFind(t,e){return function(t,e,i){let n=Ge(t,e,i);if(n!==t.length)return 0===i(t[n])?t[n]:void 0}(t,e,(t=>this.compare(e,t)))}binaryInsert(t,e){return function(t,e,i){let n=qe(t,e,i);return t.splice(n,0,e),n}(t,e,(t=>this.compare(e,t)))}}function je(t,e){let i=function(t,e){let i=-1,n=1/0;for(let s=0;s<t.length;s++){let r=e(t[s],s);r<n&&(i=s,n=r)}return i}(t,e);return i>=0?t[i]:null}function qe(t,e,i){if(0===t.length)return 0;if(i(t[0],e)>0)return 0;if(i(t[t.length-1],e)<=0)return t.length;let n=0,s=t.length-1;for(;n+1<s;){let r=Math.floor((s+n)/2);i(t[r],e)<=0?n=r:s=r}return s}function Ge(t,e,i){let n=qe(t,e,i);for(;n>0&&0===i(e,t[n-1]);)n--;return n}function Ye(t,e){if(0===t.length)return 0;if(e(t[0])>0)return 0;if(e(t[t.length-1])<=0)return t.length;let i=0,n=t.length-1;for(;i+1<n;){let s=Math.floor((n+i)/2);e(t[s])<=0?i=s:n=s}return n}function Xe(t,e,i=10){if(t===e)return!0;if(0===i)return!1;if("object"!=typeof t||"object"!=typeof e||!t||!e)return!1;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((function(t,n){return Xe(t,e[n],i-1)}));{let n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(let s of n)if(!Xe(t[s],e[s],i-1))return!1;return!0}}class Je{map=new Map;heap;state=0;constructor(){this.heap=new ut((function(t,e){return t-e}))}isEmpty(){return this.heap.isEmpty()}barrier(t){if(this.map.has(t))return this.map.get(t).promise;let{promise:e,resolve:i}=et();return this.map.set(t,{promise:e,resolve:i}),this.heap.add(t),this.willResolve(),e}async willResolve(){0===this.state&&(this.state=1,await Promise.resolve(),this.resolve())}async resolve(){if(1===this.state){for(this.state=2;!this.isEmpty();)await this.resolveLatestStep(),await Promise.resolve(),await Promise.resolve();this.state=0}}async resolveLatestStep(){let t=this.heap.popHead(),{resolve:e}=this.map.get(t);0===t&&await yt(),this.map.delete(t),e()}clear(){this.map=new Map,this.heap.clear()}}const Qe=new Je;function Ze(){return Qe.barrier(0)}function ti(){return Qe.barrier(1)}class ei{canceled=!1;fn;ms;id=null;constructor(t,e){this.fn=t,this.ms=e}get running(){return!!this.id}reset(){null!==this.id&&clearTimeout(this.id),this.id=setTimeout(this.onTimeout.bind(this),this.ms),this.canceled=!1}start(){this.reset()}onTimeout(){this.id=null,this.fn()}flush(){this.cancel(),this.fn()}cancel(){null!==this.id&&(clearTimeout(this.id),this.id=null,this.canceled=!0)}}class ii{lastTaskPromise=null;async enqueue(t){let{promise:e,resolve:i}=et(),n=this.lastTaskPromise;this.lastTaskPromise=e,n&&await n,await t(),i(),this.lastTaskPromise===e&&(this.lastTaskPromise=null)}}class ni{lang="en";fallbackLang="en";map=new Map;add(t,e){let i=this.map.get(t);i||(this.map.set(t,i={}),dt(this.map,"")),Object.assign(i,e),dt(i,"")}get(t,...e){let i=this.map.get(this.lang);i||(i=this.map.get("en"));let n=i[t];var s;return e.length&&(s=e,n=n.replace(/\{(\w+)\}/g,(function(t,e){let i=s[e];return void 0===i&&(i=t),i}))),ht(this.map,""),ht(this,"lang"),ht(i,t),n}getBolded(t,...e){return this.get(t,...e.map((t=>String(t).replace(/</g,"&lt;").replace(/>/g,"&gt;")))).replace(/"(.+?)"/g,"<b>$1</b>")}}const si=new ni,ri=si.get.bind(si),oi=(()=>Math.PI/180)(),li=(()=>180/Math.PI)();function ai(t){return t*oi}function hi(t){return t*li}class di{static from(t){return new di(t.x,t.y)}static fromDiff(t,e){let i=t.x-e.x,n=t.y-e.y;return new di(i,n)}static fromDegree(t){return di.fromRadians(t/180*Math.PI)}static fromRadians(t){return new di(Math.cos(t),Math.sin(t))}x;y;constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){this.x=t,this.y=e}reset(){this.x=0,this.y=0}copyFrom(t){this.x=t.x,this.y=t.y}clone(){return new di(this.x,this.y)}equals(t){return this.x===t.x&&this.y===t.y}isZero(){return 0===this.x&&0===this.y}angleInDegree(){return hi(this.angle())}angle(){return Math.atan2(this.y,this.x)}round(){return this.clone().roundSelf()}roundSelf(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}ceil(){return this.clone().ceilSelf()}ceilSelf(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}floor(){return this.clone().floorSelf()}floorSelf(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}getLengthSquare(){return this.x*this.x+this.y*this.y}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}add(t){return this.clone().addSelf(t)}addSelf(t){return this.x+=t.x,this.y+=t.y,this}sub(t){return this.clone().subSelf(t)}subSelf(t){return this.x-=t.x,this.y-=t.y,this}multiply(t){return this.clone().multiplySelf(t)}multiplySelf(t){return this.x*=t.x,this.y*=t.y,this}complexMultiply(t){return this.clone().complexMultiplySelf(t)}complexMultiplySelf(t){let e=this.x*t.x-this.y*t.y,i=this.x*t.y+this.y*t.x;return this.x=e,this.y=i,this}multiplyScalar(t){return this.clone().multiplyScalarSelf(t)}multiplyScalarSelf(t){return this.x*=t,this.y*=t,this}divide(t){return this.clone().divideSelf(t)}divideSelf(t){return this.x/=t.x,this.y/=t.y,this}complexDivide(t){return this.clone().complexDivideSelf(t)}complexDivideSelf(t){let e=this.x*t.x+this.y*t.y,i=-this.x*t.y+this.y*t.x,n=t.getLengthSquare();return this.x=e/n,this.y=i/n,this}divideScalar(t){return this.clone().divideScalarSelf(t)}divideScalarSelf(t){return this.x/=t,this.y/=t,this}negative(){return this.multiplyScalar(-1)}negativeSelf(){return this.multiplyScalarSelf(-1)}rotate(t){return this.clone().rotateSelf(t)}rotateSelf(t){let e=Math.cos(t),i=Math.sin(t),{x:n,y:s}=this;return this.x=n*e-s*i,this.y=n*i+s*e,this}rotateInDegree(t){return this.rotate(ai(t))}rotateInDegreeSelf(t){return this.rotateSelf(ai(t))}transform(t){return this.clone().transformSelf(t)}transformSelf(t){let{a:e,b:i,c:n,d:s}=t,{x:r,y:o}=this;return this.x=e*r+n*o,this.y=i*r+s*o,this}normalize(){return this.clone().normalizeSelf()}normalizeSelf(){let t=this.getLength(),e=isFinite(t)?1/t:0;return this.x*=e,this.y*=e,this}mix(t,e){return this.clone().mixSelf(t,e)}mixSelf(t,e){return this.x=this.x*(1-e)+t.x*e,this.y=this.y*(1-e)+t.y*e,this}getRotateAngleFrom(t){return this.complexDivide(t).angle()}getRotateAngleInDegreeFrom(t){return hi(this.getRotateAngleFrom(t))}getRotateFlagFrom(t){return this.complexDivide(t).y>0?1:0}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}projectTo(t){return t.multiplyScalar(this.dot(t)/t.getLengthSquare())}restAfterProjectTo(t){return this.sub(this.projectTo(t))}backProjectFrom(t){let e=t.getLength(),i=this.getLength(),n=t.dot(this)/(e*i),s=0===n?0:i/n;return t.multiplyScalar(s/e)}toJSON(){return{x:this.x,y:this.y}}}class ci{static None=new ci(-1);static Center=new ci(0);static Left=new ci(1);static Right=new ci(2);static Top=new ci(3);static Bottom=new ci(4);static TopLeft=new ci(5);static BottomRight=new ci(6);static TopRight=new ci(7);static BottomLeft=new ci(8);static get StraightDirections(){return[ci.Left,ci.Right,ci.Top,ci.Bottom]}static get ObliqueDirections(){return[ci.TopLeft,ci.BottomRight,ci.TopRight,ci.BottomLeft]}static fromVector(t){let e=Ne(t.x),i=Ne(t.y);return e<0&&i<0?ci.TopLeft:e<0&&i>0?ci.BottomLeft:e<0&&i<0?ci.TopLeft:e>0&&i>0?ci.BottomRight:e>0&&i<0?ci.TopRight:e<0?ci.Left:e>0?ci.Right:i<0?ci.Top:i>0?ci.Bottom:0===e&&0===i?ci.Center:ci.None}static fromValue(t){return pi[t]}static fromBoxOffsetKey(t){return"left"===t?ci.Left:"right"===t?ci.Right:"top"===t?ci.Top:"bottom"===t?ci.Bottom:ci.None}static straightFromVector(t){let{x:e,y:i}=t,n=Math.abs(t.x),s=Math.abs(t.y);return e<0&&n>=s?ci.Left:e>0&&n>=s?ci.Right:i<0&&n<=s?ci.Top:i>0&&n<=s?ci.Bottom:0===e&&0===i?ci.Center:ci.None}value;constructor(t){this.value=t}get beHorizontal(){return this===ci.Left||this===ci.Right}get beVertical(){return this===ci.Top||this===ci.Bottom}get beStraight(){return this===ci.Top||this===ci.Bottom||this===ci.Left||this===ci.Right}get beOblique(){return this===ci.TopLeft||this===ci.TopRight||this===ci.BottomLeft||this===ci.BottomRight}get opposite(){return this===ci.Center||this===ci.None?this:this.value%2==1?ci.fromValue(this.value+1):ci.fromValue(this.value-1)}get horizontal(){return this===ci.TopLeft?ci.Left:this===ci.BottomRight||this===ci.TopRight?ci.Right:this===ci.BottomLeft?ci.Left:this.beHorizontal?this:ci.Center}get vertical(){return this===ci.TopLeft?ci.Top:this===ci.BottomRight?ci.Bottom:this===ci.TopRight?ci.Top:this===ci.BottomLeft?ci.Bottom:this.beVertical?this:ci.Center}get straightPreferVertical(){return this.beOblique?this.vertical:this}get straightPreferHorizontal(){return this.beOblique?this.horizontal:this}get horizontalMirror(){return this===ci.Left?ci.Right:this===ci.Right?ci.Left:this===ci.TopLeft?ci.TopRight:this===ci.TopRight?ci.TopLeft:this===ci.BottomLeft?ci.BottomRight:this===ci.BottomRight?ci.BottomLeft:this}get verticalMirror(){return this===ci.Top?ci.Bottom:this===ci.Bottom?ci.Top:this===ci.TopLeft?ci.BottomLeft:this===ci.BottomLeft?ci.TopLeft:this===ci.TopRight?ci.BottomRight:this===ci.BottomRight?ci.TopRight:this}get clockwisePerpendicular(){return this===ci.Left?ci.Top:this===ci.Right?ci.Bottom:this===ci.Top?ci.Right:this===ci.Bottom?ci.Left:this===ci.TopLeft?ci.TopRight:this===ci.BottomLeft?ci.TopLeft:this===ci.TopRight?ci.BottomRight:this===ci.BottomRight?ci.BottomLeft:this}get antiClockwisePerpendicular(){return this===ci.Left?ci.Bottom:this===ci.Right?ci.Top:this===ci.Top?ci.Left:this===ci.Bottom?ci.Right:this===ci.TopLeft?ci.BottomLeft:this===ci.BottomLeft?ci.BottomRight:this===ci.TopRight?ci.TopLeft:this===ci.BottomRight?ci.TopRight:this}get clockwiseNext(){return this===ci.Left?ci.TopLeft:this===ci.Right?ci.BottomRight:this===ci.Top?ci.TopRight:this===ci.Bottom?ci.BottomLeft:this===ci.TopLeft?ci.Top:this===ci.BottomLeft?ci.Left:this===ci.TopRight?ci.Right:this===ci.BottomRight?ci.Bottom:this}get antiClockwiseNext(){return this===ci.Left?ci.BottomLeft:this===ci.Right?ci.TopRight:this===ci.Top?ci.TopLeft:this===ci.Bottom?ci.BottomRight:this===ci.TopLeft?ci.Left:this===ci.BottomLeft?ci.Bottom:this===ci.TopRight?ci.Top:this===ci.BottomRight?ci.Right:this}get positive(){return this===ci.Left?ci.Right:this===ci.Top?ci.Bottom:this===ci.TopLeft||this===ci.BottomLeft||this===ci.TopRight?ci.BottomRight:this}get negative(){return this===ci.Right?ci.Left:this===ci.Bottom?ci.Top:this===ci.TopLeft||this===ci.BottomLeft||this===ci.TopRight?ci.TopLeft:this}get hvDirection(){return this.beHorizontal?"horizontal":this.beVertical?"vertical":null}toVector(){return this===ci.Left?new di(-1,0):this===ci.Right?new di(1,0):this===ci.Top?new di(0,-1):this===ci.Bottom?new di(0,1):this===ci.TopLeft?new di(-1,-1):this===ci.BottomRight?new di(1,1):this===ci.TopRight?new di(1,-1):this===ci.BottomLeft?new di(-1,1):this===ci.Center?new di(0,0):new di(NaN,NaN)}toAnchorVector(){let t=this.toVector();return t.x=t.x/2+.5,t.y=t.y/2+.5,t}isPerpendicularWith(t){return t===this.clockwisePerpendicular||t===this.antiClockwisePerpendicular}joinWith(t){let e=this.toVector(),i=t.toVector(),n=e.add(i);return ci.fromVector(n)}joinToStraight(t){let e=this.toVector(),i=t.toVector(),n=e.add(i);return Math.abs(n.x)>Math.abs(n.y)?n.y=0:Math.abs(n.x)<Math.abs(n.y)?n.x=0:(n.x=0,n.y=0),ci.fromVector(n)}isOppositeOf(t){return t===this.opposite}isCloseTo(t){let e=this.toVector(),i=t.toVector();return e.dot(i)>0}isFaceTo(t){let e=this.toVector(),i=t.toVector();return e.dot(i)<0}toBoxOffsetKey(){return this===ci.Left?"left":this===ci.Right?"right":this===ci.Top?"top":this===ci.Bottom?"bottom":null}toBoxOffsetKeys(){return this===ci.Left?["left"]:this===ci.Right?["right"]:this===ci.Top?["top"]:this===ci.Bottom?["bottom"]:this===ci.TopLeft?["top","left"]:this===ci.BottomLeft?["bottom","left"]:this===ci.TopRight?["top","right"]:this===ci.BottomRight?["bottom","right"]:[]}toCursorStyle(){return this.beHorizontal?"ew-resize":this.beVertical?"ns-resize":this===ci.BottomLeft||this===ci.TopRight?"nesw-resize":this===ci.BottomRight||this===ci.TopLeft?"nwse-resize":""}}const pi=(()=>({[-1]:ci.None,0:ci.Center,1:ci.Left,2:ci.Right,3:ci.Top,4:ci.Bottom,5:ci.TopLeft,6:ci.BottomRight,7:ci.TopRight,8:ci.BottomLeft}))();class ui{static Keys=["top","right","bottom","left"];static fromString(t){return new ui(...t.split(/\s+/).map((t=>Number(t))))}top;right;bottom;left;constructor(t=0,e=t,i=t,n=e){this.top=t,this.right=e,this.bottom=i,this.left=n}get horizontal(){return this.left+this.right}get vertical(){return this.top+this.bottom}reset(){this.top=0,this.right=0,this.bottom=0,this.left=0}set(t=0,e=t,i=t,n=e){this.top=t,this.right=e,this.bottom=i,this.left=n}copyFrom(t){this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left}clone(){return new ui(this.top,this.right,this.bottom,this.left)}getMaximumAbsoluteValue(){return Math.max(Math.abs(this.top),Math.abs(this.right),Math.abs(this.bottom),Math.abs(this.left))}collapse(...t){for(let e of t)for(let t of ui.Keys)this[t]=Math.max(this[t],e[t]);return this}collapseAt(t,e){let i=e.toBoxOffsetKeys();for(let e of i)this[e]=Math.max(this[e],t[e])}collapseValueBy(t,e){this[t]=Math.max(this[t],e)}collapseValueAt(t,e){let i=t.toBoxOffsetKeys();for(let t of i)this[t]=Math.max(this[t],e)}pickBy(t){let{top:e,right:i,bottom:n,left:s}=this;return e=t.includes("top")?e:0,i=t.includes("right")?i:0,n=t.includes("bottom")?n:0,s=t.includes("left")?s:0,new ui(e,i,n,s)}pickAt(t){let e=t.toBoxOffsetKeys();return this.pickBy(e)}multiplyScalar(t){return this.clone().multiplyScalarSelf(t)}multiplyScalarSelf(t){return this.top*=t,this.right*=t,this.bottom*=t,this.left*=t,this}round(){return this.clone().roundSelf()}roundSelf(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this}ceil(){return this.clone().ceilSelf()}ceilSelf(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this}floor(){return this.clone().floorSelf()}floorSelf(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this}toJSON(){return{top:this.top,right:this.right,bottom:this.bottom,left:this.left}}toArray(){return[this.top,this.right,this.bottom,this.left]}}class gi{static from(t){return new gi(t.x,t.y)}static fromDegree(t){return gi.fromRadians(ai(t))}static fromRadians(t){return new gi(Math.cos(t),Math.sin(t))}x;y;constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){this.x=t,this.y=e}reset(){this.x=0,this.y=0}copyFrom(t){this.x=t.x,this.y=t.y}clone(){return new gi(this.x,this.y)}equals(t){return this.x===t.x&&this.y===t.y}isZero(){return 0===this.x&&0===this.y}round(){return this.clone().roundSelf()}roundSelf(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}ceil(){return this.clone().ceilSelf()}ceilSelf(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}floor(){return this.clone().floorSelf()}floorSelf(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}add(t){return this.clone().addSelf(t)}addSelf(t){return this.x+=t.x,this.y+=t.y,this}sub(t){return this.clone().subSelf(t)}subSelf(t){return this.x-=t.x,this.y-=t.y,this}translate(t,e){return this.clone().translateSelf(t,e)}translateSelf(t,e){return this.x+=t,this.y+=e,this}translateBy(t){return this.clone().translateBySelf(t)}translateBySelf(t){return this.x+=t.x,this.y+=t.y,this}transform(t){return this.clone().transformSelf(t)}transformSelf(t){let{a:e,b:i,c:n,d:s,e:r,f:o}=t,{x:l,y:a}=this;return this.x=e*l+n*a+r,this.y=i*l+s*a+o,this}mix(t,e){return this.clone().mixSelf(t,e)}mixSelf(t,e){return this.x=this.x*(1-e)+t.x*e,this.y=this.y*(1-e)+t.y*e,this}distanceTo(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}toJSON(){return{x:this.x,y:this.y}}}class fi{static fromLike(t){return new fi(t.width,t.height)}width;height;constructor(t=0,e=0){this.width=t,this.height=e}get area(){return this.width*this.height}get empty(){return this.width<=0&&this.height<=0}set(t,e){this.width=t,this.height=e}reset(){this.width=0,this.height=0}copyFrom(t){this.width=t.width,this.height=t.height}clone(){return new fi(this.width,this.height)}round(){return this.clone().roundSelf()}roundSelf(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this}ceil(){return this.clone().ceilSelf()}ceilSelf(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this}floor(){return this.clone().floorSelf()}floorSelf(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this}equals(t){return this.width===t.width&&this.height===t.height}transform(t){return this.clone().transformSelf(t)}transformSelf(t){let{a:e,b:i,c:n,d:s}=t,{width:r,height:o}=this;return this.width=e*r+n*o,this.height=i*r+s*o,this}toJSON(){return{width:this.width,height:this.height}}}class mi{static i(){return new mi(1,0,0,1,0,0)}static zero(){return new mi(0,0,0,0,0,0)}static fromString(t){let e=t.match(/matrix\s*\((.+?)\)/);if(e){let t=e[1].split(/,\s*/).map((t=>Number(t)));return new mi(t[0],t[1],t[2],t[3],t[4],t[5])}return mi.i()}static fromMatrixLike(t){let{a:e,b:i,c:n,d:s,e:r,f:o}=t;return new mi(e,i,n,s,r,o)}static fromCoords(t,e){return new mi(t.x,t.y,e.x,e.y,0,0)}static fromBoxPair(t,e,i="stretch"){let n=t.x+t.width/2,s=t.y+t.height/2,r=e.x+e.width/2,o=e.y+e.height/2,l=e.width/t.width,a=e.height/t.height;return"contain"===i?l=a=Math.min(l,a):"cover"===i&&(l=a=Math.max(l,a)),mi.i().translateSelf(-n,-s).scaleSelf(l,a).translateSelf(r,o)}static fitBoxPair(t,e,i="contain"){let n="contain"===i?Math.min(e.width/t.width,e.height/t.height):Math.max(e.width/t.width,e.height/t.height),s=t.x+t.width/2,r=t.y+t.height/2,o=e.x+e.width/2,l=e.y+e.height/2;return mi.i().translateSelf(-s,-r).scaleSelf(n).translateSelf(o,l)}static decompressFactor(t,e,i){return mi.fromCoords(e,i).inverse().transformVector(t)}static decompress(t,e,i){let{x:n,y:s}=mi.decompressFactor(t,e,i);return[e.multiplyScalar(n),i.multiplyScalar(s)]}static makeNonSkewMatrixFromPoints(t,e){let i=t[0],n=t[1],s=e[0],r=e[1],o=di.fromDiff(i,n),l=new mi(o.x,o.y,-o.y,o.x,0,0),a=di.fromDiff(s,r),{x:h,y:d}=l.invertSelf().transformVector(a),c=-d,p=h,u=s.x-h*i.x+d*i.y,g=s.y-d*i.x-h*i.y;return new mi(h,d,c,p,u,g)}static makeNonRotationMatrixFromPoints(t,e){let i=t[0],n=t[1],s=e[0],r=e[1],o=i.mix(n,.5),l=s.mix(r,.5),a=di.fromDiff(n,i),h=di.fromDiff(r,s).getLength()/a.getLength(),d=h,c=l.x-h*o.x,p=l.y-h*o.y;return new mi(h,0,0,d,c,p)}a;b;c;d;e;f;constructor(t,e,i,n,s,r){this.a=t,this.b=e,this.c=i,this.d=n,this.e=s,this.f=r}set(t,e,i,n,s,r){this.a=t,this.b=e,this.c=i,this.d=n,this.e=s,this.f=r}reset(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0}copyFrom(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,this.f=t.f}clone(){let{a:t,b:e,c:i,d:n,e:s,f:r}=this;return new mi(t,e,i,n,s,r)}equals(t){return this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d&&this.e==t.e&&this.f==t.f}isI(){let{a:t,b:e,c:i,d:n,e:s,f:r}=this;return 1===t&&0===e&&0===i&&1===n&&0===s&&0===r}isZero(){let{a:t,b:e,c:i,d:n,e:s,f:r}=this;return 0===t&&0===e&&0===i&&0===n&&0===s&&0===r}isRigid(){let{a:t,b:e,c:i,d:n}=this;return t*t+e*e==1&&i*i+n*n==1}isSimilar(){let{a:t,b:e,c:i,d:n}=this;return t*t+e*e==i*i+n*n}isSkewed(){let{a:t,b:e,c:i,d:n}=this;return t*t+i*i-e*e-n*n!=0}isMirrored(){return this.getDeterminant()<0}getDeterminant(){let{a:t,b:e,c:i,d:n}=this;return t*n-e*i}getEigenValues(){let{a:t,b:e,c:i,d:n}=this;return function(t,e,i){let n=Math.sqrt(e*e-4*i);return isNaN(n)?null:(n*=Ee(1),[(-e-n)/2,(-e+n)/2])}(0,-(t+n),t*n-e*i)||[0,0]}getPrimaryScaling(){let t=this.getEigenValues();return Math.max(...t.map(Math.abs))}getSecondaryScaling(){let t=this.getEigenValues();return Math.min(...t.map(Math.abs))}multiply(t){return this.clone().multiplySelf(t)}multiplySelf(t){let e=this,i=e.a*t.a+e.c*t.b,n=e.b*t.a+e.d*t.b,s=e.a*t.c+e.c*t.d,r=e.b*t.c+e.d*t.d,o=e.a*t.e+e.c*t.f+e.e,l=e.b*t.e+e.d*t.f+e.f;return this.a=i,this.b=n,this.c=s,this.d=r,this.e=o,this.f=l,this}multiplyScalar(t){return this.clone().multiplyScalarSelf(t)}multiplyScalarSelf(t){return this.a*=t,this.b*=t,this.c*=t,this.d*=t,this.e*=t,this.f*=t,this}preMultiply(t){return this.clone().preMultiplySelf(t)}preMultiplySelf(t){let e=this,i=t.a*e.a+t.c*e.b,n=t.b*e.a+t.d*e.b,s=t.a*e.c+t.c*e.d,r=t.b*e.c+t.d*e.d,o=t.a*e.e+t.c*e.f+t.e,l=t.b*e.e+t.d*e.f+t.f;return this.a=i,this.b=n,this.c=s,this.d=r,this.e=o,this.f=l,this}translate(t,e){return this.clone().translateSelf(t,e)}translateSelf(t,e){return this.preMultiplySelf({a:1,c:0,e:t,b:0,d:1,f:e})}translateBy(t){return this.clone().translateBySelf(t)}translateBySelf(t){return this.preMultiplySelf({a:1,c:0,e:t.x,b:0,d:1,f:t.y})}scale(t,e=t){return this.clone().scaleSelf(t,e)}scaleSelf(t,e=t){return this.preMultiplySelf({a:t,c:0,e:0,b:0,d:e,f:0})}rotateInDegree(t){return this.rotate(ai(t))}rotateInDegreeSelf(t){return this.rotateSelf(ai(t))}rotate(t){return this.clone().rotateSelf(t)}rotateSelf(t){let e=Math.sin(t),i=Math.cos(t);return this.preMultiplySelf({a:i,c:-e,e:0,b:e,d:i,f:0})}skewInDegree(t,e=t){return this.skew(ai(t),ai(e))}skewInDegreeSelf(t,e=t){return this.skewSelf(ai(t),ai(e))}skew(t,e=t){return this.clone().skewSelf(t,e)}skewSelf(t,e=t){let i=Math.tan(t),n=Math.tan(e);return this.preMultiplySelf({a:1,c:i,e:0,b:n,d:1,f:0})}inverse(){return this.clone().invertSelf()}invertSelf(){let{a:t,b:e,c:i,d:n,e:s,f:r}=this,o=n,l=-i,a=i*r-s*n,h=t*o+e*l;if(0===h)this.reset();else{let i=1/h;this.a=o*i,this.b=-e*i,this.c=l*i,this.d=t*i,this.e=a*i,this.f=(s*e-t*r)*i}return this}transformPoint(t){let{a:e,b:i,c:n,d:s,e:r,f:o}=this,{x:l,y:a}=t;return new gi(e*l+n*a+r,i*l+s*a+o)}transformVector(t){let{a:e,b:i,c:n,d:s}=this,{x:r,y:o}=t;return new di(e*r+n*o,i*r+s*o)}transformBox(t){let e=new gi(t.x,t.y).transformSelf(this),i=new gi(t.x+t.width,t.y).transformSelf(this),n=new gi(t.x,t.y+t.height).transformSelf(this),s=new gi(t.x+t.width,t.y+t.height).transformSelf(this);return vi.fromCoords(e,i,n,s)}transformSize(t){let{a:e,b:i,c:n,d:s}=this,{width:r,height:o}=t;return new fi(e*r+n*o,i*r+s*o)}mix(t,e){return this.clone().mixSelf(t,e)}mixSelf(t,e){let i=1-e;return this.a=this.a*i+t.a*e,this.b=this.b*i+t.b*e,this.c=this.c*i+t.c*e,this.d=this.d*i+t.d*e,this.e=this.e*i+t.e*e,this.f=this.f*i+t.f*e,this}toString(){let{a:t,b:e,c:i,d:n,e:s,f:r}=this;return`matrix(${t}, ${e}, ${i}, ${n}, ${s}, ${r})`}toJSON(){let{a:t,b:e,c:i,d:n,e:s,f:r}=this;return{a:t,b:e,c:i,d:n,e:s,f:r}}}class wi{static fromPoints(t,e){return new wi(t,di.fromDiff(e,t))}point;vector;constructor(t,e){this.point=t,this.vector=e}intersect(t){let e=function(t,e){let i=t.point,n=t.vector,s=e.point,r=e.vector,o=mi.fromCoords(n,r);if(0===o.getDeterminant()){let t=di.fromDiff(s,i);if(0!==t.cross(n))return null;let e,o=t.dot(n)/n.getLengthSquare(),l=t.add(r).dot(n)/n.getLengthSquare();e=Math.max(o,l)<0?Math.max(o,l)/2:Math.min(o,l)>1?Math.min(o,l)/2:(Math.max(o,l,0)+Math.min(o,l,1))/2;let a=s.addSelf(r.multiplyScalarSelf(e));return{point:a,miu:di.fromDiff(a,i).dot(n)/n.getLengthSquare(),niu:e,intersected:!0}}let l=o.inverse().transformVector(di.fromDiff(s,i)),a=l.x,h=-l.y;return{point:i.add(n.multiplyScalar(a)),miu:a,niu:h,intersected:!1}}(this,t);if(!e)return null;let{miu:i,niu:n}=e;return e.intersected=i>=0&&i<=1&&n>=0&&n<=1,e}}class vi{static empty(){return new vi(0,0,0,0)}static fromLike(t){return new vi(t.x,t.y,t.width,t.height)}static fromCoords(...t){if(0===t.length)return null;let e=t[0].x,i=t[0].y,n=t[0].x,s=t[0].y;for(let r=1;r<t.length;r++){let o=t[r];e=Math.min(e,o.x),i=Math.min(i,o.y),n=Math.max(n,o.x),s=Math.max(s,o.y)}return new vi(e,i,n-e,s-i)}static fromUnion(...t){if(0===t.length)return null;let e=t[0].x,i=t[0].y,n=t[0].right,s=t[0].bottom;for(let r=1;r<t.length;r++){let o=t[r];e=Math.min(e,o.left),i=Math.min(i,o.top),n=Math.max(n,o.right),s=Math.max(s,o.bottom)}return new vi(e,i,n-e,s-i)}x;y;width;height;constructor(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return new gi(this.x+this.width/2,this.y+this.height/2)}get centerX(){return this.x+this.width/2}get centerY(){return this.y+this.height/2}get topLeft(){return new gi(this.left,this.top)}get topRight(){return new gi(this.right,this.top)}get bottomLeft(){return new gi(this.left,this.bottom)}get bottomRight(){return new gi(this.right,this.bottom)}get area(){return this.width*this.height}get empty(){return this.width<=0&&this.height<=0}set(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}reset(){this.x=0,this.y=0,this.width=0,this.height=0}copyFrom(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}clone(){return new vi(this.x,this.y,this.width,this.height)}isIntersectWith(t){let e=Math.max(this.left,t.left),i=Math.max(this.top,t.top),n=Math.min(this.right,t.right),s=Math.min(this.bottom,t.bottom);return e<n&&i<s}isIntersectWithAtHV(t,e){return"horizontal"===e?Math.max(this.left,t.left)<Math.min(this.right,t.right):Math.max(this.top,t.top)<Math.min(this.bottom,t.bottom)}round(){return this.clone().roundSelf()}roundSelf(){let{x:t,y:e,right:i,bottom:n}=this;return t=Math.round(t),e=Math.round(e),i=Math.round(i),n=Math.round(n),this.x=t,this.y=e,this.width=i-t,this.height=n-e,this}ceil(){return this.clone().ceilSelf()}ceilSelf(){let{x:t,y:e,right:i,bottom:n}=this;return t=Math.floor(t),e=Math.floor(e),i=Math.ceil(i),n=Math.ceil(n),this.x=t,this.y=e,this.width=i-t,this.height=n-e,this}floor(){return this.clone().floorSelf()}floorSelf(){let{x:t,y:e,right:i,bottom:n}=this;return t=Math.ceil(t),e=Math.ceil(e),i=Math.floor(i),n=Math.floor(n),this.x=t,this.y=e,this.width=i-t,this.height=n-e,this}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}edges(){return[new wi(this.topLeft,new di(this.width,0)),new wi(this.topRight,new di(0,this.height)),new wi(this.bottomRight,new di(-this.width,0)),new wi(this.bottomLeft,new di(0,-this.height))]}size(){return fi.fromLike(this)}paddingTo(t){return new ui(t.y-this.y,this.right-t.right,this.bottom-t.bottom,t.x-this.x)}union(t){return this.clone().unionSelf(t)}unionSelf(t){if(this.empty)this.copyFrom(t);else if(!t.empty){let e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.right,t.right),s=Math.max(this.bottom,t.bottom);this.x=e,this.y=i,this.width=n-e,this.height=s-i}return this}intersect(t){return this.clone().intersectSelf(t)}intersectSelf(t){let e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.right,t.right),s=Math.min(this.bottom,t.bottom);return this.x=e,this.y=i,this.width=Math.max(n-e,0),this.height=Math.max(s-i,0),this}difference(t){return this.clone().differenceSelf(t)}differenceSelf(t){let e=this.intersect(t);if(e.empty)return this;if(e.equals(this))return this.width=0,this.height=0,this;if(e.width===this.width)if(this.y===e.y){let{bottom:t}=this;this.y=e.bottom,this.height=t-e.bottom}else this.bottom===e.bottom&&(this.height=e.y-this.y);else if(e.height===this.height)if(this.x===e.x){let{right:t}=this;this.x=e.right,this.width=t-e.right}else this.right===e.right&&(this.width=e.x-this.x);return this}intersectAtHV(t,e){return this.clone().intersectAtHVSelf(t,e)}intersectAtHVSelf(t,e){if("horizontal"===e){let e=Math.max(this.x,t.x),i=Math.min(this.right,t.right);this.x=e,this.width=i-e}else{let e=Math.max(this.y,t.y),i=Math.min(this.bottom,t.bottom);this.y=e,this.height=i-e}return this}unionAtHV(t,e){return this.clone().unionAtHVSelf(t,e)}unionAtHVSelf(t,e){if("horizontal"===e){let e=Math.min(this.x,t.x),i=Math.max(this.right,t.right);this.x=e,this.width=i-e}else{let e=Math.min(this.y,t.y),i=Math.max(this.bottom,t.bottom);this.y=e,this.height=i-e}return this}unionAt(t,e){return this.clone().unionAtSelf(t,e)}unionAtSelf(t,e){let{x:i,y:n,right:s,bottom:r}=this;return e.isCloseTo(ci.Left)?i=Math.min(i,t.x):e.isCloseTo(ci.Right)&&(s=Math.max(s,t.right)),e.isCloseTo(ci.Top)?n=Math.min(n,t.y):e.isCloseTo(ci.Top)&&(r=Math.max(r,t.bottom)),this.x=i,this.y=n,this.width=s-i,this.height=r-n,this}expand(t,e,i,n){return this.clone().expandSelf(t,e,i,n)}expandSelf(t=0,e=t,i=t,n=e){return this.x=this.x-n,this.y=this.y-t,this.width=Math.max(this.width+e+n,0),this.height=Math.max(this.height+t+i,0),this}expandByBoxOffsets(t){return this.clone().expandByBoxOffsetsSelf(t)}expandByBoxOffsetsSelf(t){let{top:e,right:i,bottom:n,left:s}=t;return this.x=this.x-s,this.y=this.y-e,this.width=Math.max(this.width+i+s,0),this.height=Math.max(this.height+e+n,0),this}expandToContain(t){return this.clone().expandToContainSelf(t)}expandToContainSelf(t){let e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.right,t.x),s=Math.max(this.bottom,t.y);return this.x=e,this.y=i,this.width=n-e,this.height=s-i,this}translate(t,e){return this.clone().translateSelf(t,e)}translateSelf(t,e){return this.x+=t,this.y+=e,this}translateBy(t){return this.clone().translateBySelf(t)}translateBySelf(t){return this.x+=t.x,this.y+=t.y,this}transform(t){return this.clone().transformSelf(t)}transformSelf(t){let e=new gi(this.x,this.y).transformSelf(t),i=new gi(this.right,this.y).transformSelf(t),n=new gi(this.x,this.bottom).transformSelf(t),s=new gi(this.right,this.bottom).transformSelf(t),r=e.x,o=e.y,l=e.x,a=e.y;for(let t of[i,n,s])r=Math.min(r,t.x),o=Math.min(o,t.y),l=Math.max(l,t.x),a=Math.max(a,t.y);return this.x=r,this.y=o,this.width=l-r,this.height=a-o,this}anchorPointAt(t){let e=t.toAnchorVector();return this.anchorPointByVector(e)}anchorPointByVector(t){return new gi(this.x+t.x*this.width,this.y+t.y*this.height)}containsPoint(t){return this.x<=t.x&&this.right>=t.x&&this.y<=t.y&&this.bottom>=t.y}containsPointAfterExpanded(t,e){return this.x-e<=t.x&&this.right+e>=t.x&&this.y-e<=t.y&&this.bottom+e>=t.y}containsBox(t){return this.x<=t.x&&this.right>=t.right&&this.y<=t.y&&this.bottom>=t.bottom}getCornerPoints(){let{top:t,right:e,bottom:i,left:n}=this;return[new gi(n,t),new gi(e,t),new gi(e,i),new gi(n,i)]}minDistancedVectorToPoint(t){let e=t.x>=this.left&&t.x<=this.right,i=t.y>=this.top&&t.y<=this.bottom,n=0,s=0;return e||(n=je([t.x-this.right,t.x-this.left],Math.abs)),i||(s=je([t.y-this.top,t.y-this.bottom],Math.abs)),new di(n,s)}minDistancedDirectionToBox(t){let e=this.minDistancedVectorToBox(t);return ci.fromVector(e)}minDistancedVectorToBox(t){if(this.isIntersectWith(t))return new di(0,0);let{left:e,right:i,top:n,bottom:s}=this,{left:r,right:o,top:l,bottom:a}=t,h=je([Math.max(o-e,0),Math.min(r-i,0)],Math.abs),d=je([Math.max(a-n,0),Math.min(l-s,0)],Math.abs);return new di(h,d)}minBouncedVectorToPoint(t){let e=t.x>=this.left&&t.x<=this.right,i=t.y>=this.top&&t.y<=this.bottom,n=0,s=0;return e&&(n=je([t.x-this.left,t.x-this.right],Math.abs)),i&&(s=je([t.y-this.top,t.y-this.bottom],Math.abs)),new di(n,s)}minBouncedDirectionToBox(t){let e=this.minBouncedVectorToBox(t);return ci.fromVector(e)}minBouncedVectorToBox(t){if(!this.isIntersectWith(t))return new di(0,0);let{left:e,right:i,top:n,bottom:s}=this,{left:r,right:o,top:l,bottom:a}=t,h=je([o-e,r-i],Math.abs),d=je([a-n,l-s],Math.abs);return new di(h,d)}distanceToPoint(t){let e=t.x>=this.left&&t.x<=this.right,i=t.y>=this.top&&t.y<=this.bottom,n=0,s=0;return e&&i?(n=je([t.x-this.left,t.x-this.right],Math.abs),s=je([t.y-this.top,t.y-this.bottom],Math.abs),-Math.min(Math.abs(n),Math.abs(s))):(e||(n=je([t.x-this.right,t.x-this.left],Math.abs)),i||(s=je([t.y-this.top,t.y-this.bottom],Math.abs)),Math.min(Math.abs(n),Math.abs(s)))}distanceToBox(t){let{left:e,right:i,top:n,bottom:s}=this,{left:r,right:o,top:l,bottom:a}=t,h=je([o-e,r-i],Math.abs),d=je([a-n,l-s],Math.abs);return this.isIntersectWith(t)?-Math.min(Math.abs(h),Math.abs(d)):Math.min(Math.abs(h),Math.abs(d))}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}}let yi;const xi=new Ce,bi=new WeakSet;function Ci(t){for(let e of t){let t=xi.get(e.target);if(t)for(let i of[...t])bi.has(i)||i(e)}}function Si(t,e,i=null,n={}){yi||(yi=new ResizeObserver(Ci));let s=Pe(e,i);xi.has(t,s)||(bi.add(s),Y((()=>{Y((()=>{bi.delete(s)}))})),yi.observe(t,n),xi.add(t,s))}function ki(t,e,i){if(e){let n=Pe(e,i);xi.delete(t,n)}else xi.deleteOf(t);xi.hasKey(t)||yi?.unobserve(t)}const Ri=new Ce,Di=new MutationObserver(Mi),Pi=[];let Ti=!1;async function Mi(){Ti||(Ti=!0,await yt(),function(){for(let t of Pi)t();Ti=!1}())}const Ei=new Ce,Ni=new WeakMap;let Li=!1;function zi(){for(let t of Ei.keys()){let e=t.getBoundingClientRect(),i=Ni.get(t);if(!i||i.x!==e.x||i.y!==e.y||i.width!==e.width||i.height!==e.height){for(let i of Ei.get(t))i(e);Ni.set(t,e)}}}const Ii=(()=>({c:ci.Center,t:ci.Top,b:ci.Bottom,l:ci.Left,r:ci.Right,cc:ci.Center,tl:ci.TopLeft,tr:ci.TopRight,tc:ci.Top,bl:ci.BottomLeft,br:ci.BottomRight,bc:ci.Bottom}))();function $i(t){if(!/^(?:[tbc][lrc]-[tbc][lrc]|[tbclr]-[tbclr]|[tbc][lrc]|[tbclr])/.test(t))throw`"${t}" is not a valid position string!`;let e,i;if(t.length<=2)i=Ii[t],e=i.opposite;else{let n=t.split("-");e=Ii[n[0]],i=Ii[n[1]]}return[e,i]}function Bi(t,e,i){let n;return n="number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:t[0],right:t[1]??t[0],bottom:t[2]??t[0],left:t[3]??t[1]??t[0]},e&&(i.beVertical&&(n.top+=e.offsetHeight,n.bottom+=e.offsetHeight),i.beHorizontal&&(n.right+=e.offsetWidth,n.left+=e.offsetWidth)),n}function Oi(t,e,i){let n=t.toVector(),s=new di;return t.horizontal!==ci.Center&&e.horizontal!==ci.Center&&(s.x+=n.x*i[t.horizontal.toBoxOffsetKey()]),t.vertical!==ci.Center&&e.vertical!==ci.Center&&(s.y+=n.y*i[t.vertical.toBoxOffsetKey()]),s}function Ai(t,e){let i=e.toAnchorVector();return{x:t.x+i.x*t.width,y:t.y+i.y*t.height}}function Fi(t,e){let i=e.toAnchorVector();return{x:i.x*t.width,y:i.y*t.height}}let Vi=1;const Wi=new WeakMap,Ki=new ke;class _i{type=1;aligner;anchor;target;anchorName;constructor(t){this.aligner=t,this.anchor=t.anchor,this.target=this.aligner.target;let e=(i=this.anchor,Wi.get(i));var i;e||(e=this.aligner.options.name||"--anchor-"+Vi++,function(t,e,i){t.style.setProperty("anchor-name",e),Wi.set(t,e),Ki.add(t,i)}(this.anchor,e,this)),this.anchorName=e,this.target.style.setProperty("position-anchor",this.anchorName)}reset(){for(let t of ui.Keys)this.target.style[t]="";var t;this.target.style.setProperty("position-anchor",""),this.target.style.setProperty("position-area",""),t=this.anchor,Ki.delete(t,this),Ki.hasKey(t)||(Wi.delete(t),t.style.setProperty("anchor-name",""))}align(t){let e=this.mapPositionToAreaAndTranslate(t);this.setPositionProperties(t,e)}mapPositionToAreaAndTranslate(t){let e,i,n=t.targetDirection,s=t.anchorDirection,r=s.joinToStraight(n.opposite),o=s.joinToStraight(r.opposite),l=n.joinToStraight(r),a=new di;return n.isOppositeOf(s)?s===ci.Center?(e="center",i="center"):s.beHorizontal?(e="center",i=s.toBoxOffsetKey()):s.beVertical?(e=s.toBoxOffsetKey(),i="center"):[e,i]=s.toBoxOffsetKeys():(r.beVertical&&o!==ci.Center?(e=r.toBoxOffsetKey(),i="span-"+o.opposite.toBoxOffsetKey()):r.beHorizontal&&o!==ci.Center?(e="span-"+o.opposite.toBoxOffsetKey(),i=r.toBoxOffsetKey()):s.beStraight?(e="span-"+s.opposite.toBoxOffsetKey(),i="center"):(e="span-"+s.vertical.opposite.toBoxOffsetKey(),i="span-"+s.horizontal.opposite.toBoxOffsetKey()),o!==l&&(a=o.toAnchorVector().sub(l.toAnchorVector()))),{areaV:e,areaH:i,targetTranslate:a}}setPositionProperties(t,e){let i=this.target,n=t.targetTranslate,{targetTranslate:s,areaV:r,areaH:o}=e,l=new di;i.style.setProperty("position-area",r+" "+o),l.x+=s.x*t.targetRect.width,l.y+=s.y*t.targetRect.height,l.addSelf(n),"left"===o||"span-left"===o?(i.style.setProperty("right",-l.x+"px"),i.style.setProperty("left","")):"center"!==o&&(i.style.setProperty("left",l.x+"px"),i.style.setProperty("right","")),"top"===r||"span-top"===r?(i.style.setProperty("bottom",-l.y+"px"),i.style.setProperty("top","")):"center"!==r&&(i.style.setProperty("top",l.y+"px"),i.style.setProperty("bottom",""))}}class Ui{type=1;aligner;target;triangle;useCSSAnchorPositioning=!1;lastComputed=null;cssAlignment=null;constructor(t){this.aligner=t,this.target=t.target,this.triangle=t.options.triangle}async reset(){if(this.lastComputed&&(await ti(),this.resetBeforeAlign(),this.useCSSAnchorPositioning?this.cssAlignment.reset():(this.target.style.top="",this.target.style.right="",this.target.style.left=""),this.lastComputed.triangle)){let t=this.triangle;t.style.top="",t.style.right="",t.style.bottom="",t.style.left=""}}resetBeforeAlign(){this.lastComputed&&this.lastComputed.target.limitHeight&&(this.target.style.height="")}align(t){this.useCSSAnchorPositioning=this.aligner.shouldUseCSSAnchorPositioning(),this.useCSSAnchorPositioning?this.applyCSSAnchorPositioningProperties(t):this.applyCSSPositionProperties(t),this.applyTargetProperties(t),this.applyTriangleProperties(t),this.lastComputed=t}applyCSSAnchorPositioningProperties(t){this.cssAlignment||(this.cssAlignment=new _i(this.aligner));let e=Ai(t.anchor.rect,t.anchorDirection),i=Fi(t.target.rect,t.targetDirection),n=new di(t.target.position.x-(e.x-i.x),t.target.position.y-(e.y-i.y)),s={anchorDirection:t.anchorDirection,targetDirection:t.targetDirection,targetRect:t.target.rect,targetTranslate:n};this.cssAlignment.align(s)}applyCSSPositionProperties(t){let{x:e,y:i}=t.target.position;t.target.absolutePositionOffset&&(e+=t.target.absolutePositionOffset.x,i+=t.target.absolutePositionOffset.x),t.anchorFaceDirection===ci.Left?(this.target.style.left="auto",this.target.style.right=document.documentElement.clientWidth-t.target.rect.right+"px"):(this.target.style.left=e+"px",this.target.style.right="auto"),this.target.style.top=i+"px"}applyTargetProperties(t){t.target.limitHeight&&(this.target.style.height=t.target.limitHeight+"px")}applyTriangleProperties(t){let e=this.aligner.options.triangle;e&&t.triangle&&(e.style.top=t.triangle.inset.top,e.style.right=t.triangle.inset.right,e.style.bottom=t.triangle.inset.bottom,e.style.left=t.triangle.inset.left,e.style.transform=t.triangle.transform)}}class Hi{aligner;target;triangle;anchorRect;targetRect;triangleRelRect;constructor(t,e){this.aligner=t,this.target=t.target,this.triangle=t.options.triangle,this.anchorRect=e,this.targetRect=t.target.getBoundingClientRect(),this.triangleRelRect=this.getTriangleRelRect()}getTriangleRelRect(){if(!this.triangle)return null;let t=this.triangle.getBoundingClientRect();return new DOMRect(t.x-this.targetRect.x,t.y-this.targetRect.y,t.width,t.height)}async compute(){let t={anchorFaceDirection:this.aligner.anchorFaceDirection,anchorDirection:this.aligner.anchorDirection,targetDirection:this.aligner.targetDirection,anchor:{rect:this.anchorRect},target:{position:new di,limitHeight:null,rect:this.targetRect,flipped:!1,absolutePositionOffset:this.getAbsoluteLayoutOffset()},triangle:null};return await this.doTargetAlignment(t),this.triangle&&this.alignTriangle(t),t.anchorFaceDirection=t.anchorFaceDirection,t.target.rect=this.targetRect,t.target.flipped=t.anchorFaceDirection!==this.aligner.anchorFaceDirection,t}getAbsoluteLayoutOffset(){if("absolute"===Ie(this.target,"position")&&this.aligner.anchor!==document.body&&this.aligner.anchor!==document.documentElement){let t=new di,e=this.target.offsetParent;if(e){let i=e.getBoundingClientRect();t.x-=i.left,t.y-=i.top}return t}return null}async doTargetAlignment(t){let e=this.getTargetRelativeAnchorPoint(t),i=this.getAnchorAbsoluteAnchorPoint();t.target.position=this.getPositionByAnchors(e,i),this.alignTargetVertical(t),t.target.limitHeight&&(await ti(),this.target.style.height=t.target.limitHeight+"px",await Ze(),this.targetRect=this.target.getBoundingClientRect(),e=this.getTargetRelativeAnchorPoint(t),t.target.position=this.getPositionByAnchors(e,i)),this.alignTargetHorizontal(t)}getTargetRelativeAnchorPoint(t){let e={x:0,y:0};return this.aligner.options.fixedTriangle&&this.triangleRelRect?t.anchorFaceDirection.beVertical?e.x=this.triangleRelRect.left+this.triangleRelRect.width/2:t.anchorFaceDirection.beHorizontal&&(e.y=this.triangleRelRect.top+this.triangleRelRect.height/2):e=Fi(this.targetRect,this.aligner.targetDirection),e}getAnchorAbsoluteAnchorPoint(){return Ai(this.anchorRect,this.aligner.anchorDirection)}getPositionByAnchors(t,e){let i=new di(e.x-t.x,e.y-t.y),n=Oi(this.aligner.anchorDirection,this.aligner.targetDirection,this.aligner.gaps);return i.addSelf(n),i}alignTargetVertical(t){let e=t.target.position.y,i=document.documentElement.clientHeight,n=this.anchorRect.top-this.aligner.gaps.top,s=i-(this.anchorRect.bottom+this.aligner.gaps.bottom),r=!1,o=this.targetRect.height;t.anchorFaceDirection.beVertical&&(t.anchorFaceDirection===ci.Top&&e<0&&n<s&&this.aligner.options.flipDirection?(e=this.anchorRect.bottom+this.aligner.gaps.bottom,this.flipDirections(t,ci.Bottom)):t.anchorFaceDirection===ci.Bottom&&e+o>i&&n>s&&this.aligner.options.flipDirection&&(e=this.anchorRect.top-this.aligner.gaps.top-o,this.flipDirections(t,ci.Top))),this.aligner.options.stickToEdges&&(t.anchorFaceDirection===ci.Top&&e<0?(e=0,o=n,r=!0):t.anchorFaceDirection===ci.Bottom&&e+o>i?(o=s,r=!0):!t.anchorFaceDirection.beVertical&&this.targetRect.height>i&&(e=0,o=i,r=!0)),this.aligner.options.stickToEdges&&(t.anchorFaceDirection.beVertical||(e+o+this.aligner.edgeGaps.bottom>i&&(e=i-o-this.aligner.edgeGaps.bottom),e-this.aligner.edgeGaps.top<0&&(e=this.aligner.edgeGaps.top))),r&&(t.target.limitHeight=o),t.target.position.y=e}flipDirections(t,e){t.anchorFaceDirection=e,e.beHorizontal?(t.anchorDirection=t.anchorDirection.vertical.joinWith(e),t.targetDirection=t.targetDirection.vertical.joinWith(e.opposite)):(t.anchorDirection=t.anchorDirection.horizontal.joinWith(e),t.targetDirection=t.targetDirection.horizontal.joinWith(e.opposite))}alignTargetHorizontal(t){let e=t.target.position.x,i=document.documentElement.clientWidth,n=this.anchorRect.left-this.aligner.gaps.left,s=i-(this.anchorRect.right+this.aligner.gaps.right),r=this.targetRect.width;t.anchorFaceDirection.beHorizontal&&(t.anchorFaceDirection===ci.Left&&e<0&&n<s&&this.aligner.options.flipDirection?(e=this.anchorRect.right+this.aligner.gaps.right,t.target.position.x=this.anchorRect.right,this.flipDirections(t,ci.Right)):t.anchorFaceDirection===ci.Right&&e>i-r&&n>s&&this.aligner.options.flipDirection&&(e=this.anchorRect.left-this.aligner.gaps.left-r,this.flipDirections(t,ci.Left))),this.aligner.options.stickToEdges&&(t.anchorFaceDirection.beHorizontal||(e+r+this.aligner.edgeGaps.right>i&&(e=i-r-this.aligner.edgeGaps.right),e-this.aligner.edgeGaps.left<0&&(e=this.aligner.edgeGaps.left))),t.target.position.x=e}alignTriangle(t){let e=this.triangleRelRect,i=[];if(t.triangle={inset:{top:"",left:"",right:"",bottom:""},transform:"",flipped:!1},t.anchorFaceDirection.beVertical){let n=this.computeTrianglePosition(this.targetRect.width,this.anchorRect.width,this.anchorRect.x-t.target.position.x,e.width,e.x,t);i.push(`translateX(${n}px)`)}else if(t.anchorFaceDirection.beHorizontal){let n=this.computeTrianglePosition(this.targetRect.height,this.anchorRect.height,this.anchorRect.y-t.target.position.y,e.height,e.y,t);i.push(`translateY(${n}px)`)}t.anchorFaceDirection!==this.aligner.anchorFaceDirection&&(t.anchorFaceDirection.beHorizontal?i.push("scaleX(-1)"):i.push("scaleY(-1)"),t.triangle.flipped=!0),t.anchorFaceDirection===ci.Top?(t.triangle.inset.top="auto",t.triangle.inset.bottom=-e.height+"px",t.triangle.inset.left="0"):t.anchorFaceDirection===ci.Bottom?(t.triangle.inset.top=-e.height+"px",t.triangle.inset.bottom="auto",t.triangle.inset.left="0"):t.anchorFaceDirection===ci.Left?(t.triangle.inset.left="auto",t.triangle.inset.right=-e.width+"px",t.triangle.inset.top="0"):t.anchorFaceDirection===ci.Right&&(t.triangle.inset.left=-e.width+"px",t.triangle.inset.right="auto",t.triangle.inset.top="0"),t.triangle.transform=i.join(" ")}computeTrianglePosition(t,e,i,n,s,r){let o=0;o=this.aligner.options.fixedTriangle?s:r.anchorDirection.beStraight&&r.targetDirection.beStraight?Math.max(0,i)/2+Math.min(t,i+e)/2-n/2:r.targetDirection.beStraight?t/2-n/2:r.anchorDirection.beStraight?(i+e)/2-n/2:t<=e?t/2-n/2:(i+e)/2-n/2;let l=Math.max(0,i),a=Math.min(t-n/2,i+e-n/2);return o=Math.max(o,l),o=Math.min(o,a),o}}const ji={position:"b",gaps:0,edgeGaps:0,stickToEdges:!0,flipDirection:"auto",triangle:void 0,fixedTriangle:!1};class qi{static getAnchorFaceDirection(t){let[e,i]=$i(t);return i.joinToStraight(e.opposite)}static cssAnchorPositioningSupports(){return CSS.supports("anchor-name","none")}target;anchor=null;options;anchorDirection;targetDirection;anchorFaceDirection;gaps;edgeGaps;alignment=null;constructor(t,e){this.target=t,e&&this.updateOptions(e)}get aligning(){return!!this.alignment}async updateOptions(t={}){let e={...ji,...t};if(Xe(this.options,e))return;this.options=e;let i=$i(e.position);this.targetDirection=i[0],this.anchorDirection=i[1],this.anchorFaceDirection=this.anchorDirection.joinToStraight(this.targetDirection.opposite),await Ze(),this.gaps=Bi(e.gaps,e.triangle,this.anchorFaceDirection),this.edgeGaps=Bi(e.edgeGaps,e.triangle,this.anchorFaceDirection),this.anchor&&this.aligning&&this.update()}async alignTo(t){this.anchor=t,await this.update(),Si(this.target,this.update,this),this.shouldUseCSSAnchorPositioning()||async function(t,e,i=null){let n=Pe(e,i);Ei.has(t,n)||(await yt(),Ei.add(t,n),Ni.set(t,t.getBoundingClientRect()),Li||(function(t,e=null){let i=Pe(t,e);0===Pi.length&&(Di.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0}),window.addEventListener("resize",Mi),window.addEventListener("wheel",Mi)),Pi.push(i)}(zi),Li=!0))}(t,this.update,this)}async update(){this.anchor&&(this.shouldDoPureCSSAlignment()?await this.doPureCSSAnchorAlignment():await this.doAnchorMeasuredAlignment(this.anchor))}alignToEvent(t){this.doEventMeasuredAlignment(t)}stop(){this.alignment&&(ki(this.target,this.update,this),this.shouldUseCSSAnchorPositioning()&&function(t,e,i){if(e){let n=Pe(e,i);Ei.delete(t,n)}else Ei.deleteOf(t);0===Ei.keyCount()&&(function(t,e=null){let i=Pe(t,e),n=Pi.indexOf(i);n>-1&&Pi.splice(n,1),0===Pi.length&&(Di.disconnect(),window.removeEventListener("resize",Mi),window.removeEventListener("wheel",Mi),window.removeEventListener("transitionend",Mi),window.removeEventListener("animationend",Mi))}(zi),Li=!1)}(this.anchor,this.update,this),this.alignment=null)}shouldDoPureCSSAlignment(){return this.shouldUseCSSAnchorPositioning()&&!(this.needAdjustTriangle()||this.canFlip())}shouldUseCSSAnchorPositioning(){return qi.cssAnchorPositioningSupports()&&this.anchor instanceof HTMLElement&&this.anchor!==document.documentElement}needAdjustTriangle(){return!!this.options.triangle&&!this.options.fixedTriangle}canFlip(){return!(null===this.options.flipDirection||"auto"===this.options.flipDirection&&this.anchorFaceDirection===ci.Center)}async doPureCSSAnchorAlignment(){let t=await this.updateAlignment(0);await Ze();let e={anchorDirection:this.anchorDirection,targetDirection:this.targetDirection,targetRect:this.target.getBoundingClientRect(),targetTranslate:Oi(this.anchorDirection,this.targetDirection,this.gaps)};await ti(),t.align(e)}async doAnchorMeasuredAlignment(t){let e=await this.updateAlignment(1);e.resetBeforeAlign(),await Ze();let i=t===document.documentElement?new DOMRect(0,0,document.documentElement.clientWidth,document.documentElement.clientHeight):t.getBoundingClientRect(),n=new Hi(this,i),s=await n.compute();await ti(),e.align(s)}async doEventMeasuredAlignment(t){let e=await this.updateAlignment(1);e.resetBeforeAlign();let i=new DOMRect(t.clientX,t.clientY,0,0);await Ze();let n=new Hi(this,i),s=await n.compute();e.align(s)}async updateAlignment(t){return this.alignment&&this.alignment.type!==t&&(await ti(),this.alignment.reset(),this.alignment=null),this.alignment||(this.alignment=0===t?new _i(this):new Ui(this)),this.alignment}}class Gi{selected=new Set;latestTouched=null;hasSelected(t){return this.selected.has(t)}hasAnySelected(){return this.selected.size>0}getSelectedCount(){return this.selected.size}getSelected(){return this.selected}getLatestSelected(){let t=null;for(let e of this.selected)t=e;return t}getLatestTouched(){return this.latestTouched}select(...t){for(let e of t)this.selected.add(e);t.length>0&&(this.latestTouched=t[t.length-1])}selectOnly(...t){this.selected=new Set(t),t.length>0&&(this.latestTouched=t[t.length-1])}selectByMouseEvent(t,e,i){let n=e[t];if(i.shiftKey){let i=this.getLatestTouched(),s=i?e.indexOf(i):-1;-1===s&&(s=0);let r=Math.min(s,t),o=Math.max(s,t)+1,l=e.slice(r,o);l.push(n),this.hasSelected(n)?this.deselect(...l):this.select(...l)}else i.ctrlKey?this.toggleSelect(n):this.selectOnly(n)}limitSelectionAt(t){if(0===this.selected.size)return;let e=new Set(t),i=[];for(let t of this.selected)e.has(t)||i.push(t);for(let t of i)this.selected.delete(t)}deselect(...t){for(let e of t)this.selected.delete(e);t.length>0&&(this.latestTouched=t[t.length-1])}toggleSelect(t){return this.selected.has(t)?(this.deselect(t),!1):(this.select(t),!0)}clear(){this.selected.size>0&&this.selected.clear()}}const Yi={minimumMoves:0};class Xi{onMove=null;onEnd=null;options;startPoint;latestPosition;started=!1;constructor(t,e={}){this.options={...Yi,...e},this.startPoint=this.latestPosition=new DOMPoint(t.clientX,t.clientY),R(document,"mousemove",this.onDragMove,this),D(document,"mouseup",this.onDragEnd,this)}onDragMove(t){let e=new DOMPoint(t.clientX,t.clientY),i={x:e.x-this.startPoint.x,y:e.y-this.startPoint.y},n={x:e.x-this.latestPosition.x,y:e.y-this.latestPosition.y};if(this.latestPosition=e,!this.started){if(!(Math.sqrt(i.x**2+i.y**2)>this.options.minimumMoves))return;this.started=!0}this.onMove?.(i,n,t)}onDragEnd(t){this.end(),this.onEnd?.(t)}end(){T(document,"mousemove",this.onDragMove,this),T(document,"mouseup",this.onDragEnd,this)}}const Ji=new Set,Qi=new Se,Zi=new ei(tn,3e3);async function tn(){requestIdleCallback(en)}function en(){for(let[t,e]of Qi.entries())document.contains(e)||(Qi.deleteRight(e),t.finish());Qi.leftKeyCount()>0&&Zi.reset()}function nn(t){let e=!1;for(let i of function*(t){let e=[...Ji.values()];for(let i of e)i.popup.contains(t)&&(yield i)}(t))Qi.setUnRepeatably(i,t),e=!0;e&&Zi.reset()}function sn(t){for(let e of function*(t){for(;;){let e=Qi.getByRight(t);if(!e)break;yield e,t=e.trigger}}(t))e.onLockReleased(),Qi.deleteLeft(e)}function rn(t){for(let e of Qi.leftKeys())if(e.popup.contains(t))return!0;return!1}class on{entered=!1;trigger;popup;callback;timeout;constructor(t,e,i,n={}){this.trigger=t,this.popup=e,this.callback=i;let s=n.delay??200;this.timeout=new ei(this.onTimeout.bind(this),s),n.mouseIn&&this.onMouseEnter();for(let i of[t,e])R(i,"mouseenter",this.onMouseEnter,this),R(i,"mouseleave",this.onMouseLeave,this)}onMouseEnter(){this.entered||(this.entered=!0,nn(this.trigger),Ji.add(this),this.timeout.cancel())}onMouseLeave(){this.entered&&(this.entered=!1,Qi.hasLeft(this)||this.timeout.reset())}onTimeout(){Qi.hasLeft(this)||this.finish()}onLockReleased(){this.entered||this.timeout.reset()}finish(){this.callback(),sn(this.trigger),Ji.delete(this)}cancel(){this.timeout.cancel();for(let t of[this.trigger,this.popup])T(t,"mouseenter",this.onMouseEnter,this),T(t,"mouseleave",this.onMouseLeave,this);sn(this.trigger),Ji.delete(this)}}class ln{filter=null;orderRule=null;data=[];constructor(t={}){Object.assign(this,t),this.$order_computer=new Dt(this.$compute_order,this.$reset_order,this),this.$order_computer.connect(),this.$currentData_computer=new Dt(this.$compute_currentData,this.$reset_currentData,this),this.$currentData_computer.connect()}setOrder(t,e=null,i=!1,n=!1){this.orderRule=t&&null!==e?{by:t,direction:e,numeric:i,ignoreCase:n}:null,dt(this,"orderRule")}$order_computer=void 0;$compute_order(){return ht(this,"orderRule"),null!==this.orderRule?new He(this.orderRule):null}get order(){return ht(this,"order"),this.$order_computer.get()}$reset_order(){dt(this,"order")}$currentData_computer=void 0;$compute_currentData(){let t=this.data;if(this.filter){let e=t;t=e.filter(this.filter),ht(e,"")}return this.order&&(this.filter?this.order.sort(t):t=this.order.toSorted(t)),ht(this,"data","filter","order"),t}get currentData(){return ht(this,"currentData"),this.$currentData_computer.get()}$reset_currentData(){dt(this,"currentData")}clear(){this.data=[],this.orderRule=null,this.filter=null,dt(this,"data","orderRule","filter")}}class an{pageSize=1;preloadPageCount=0;orderName=null;orderDirection=null;filterWord=null;constructor(t={}){Object.assign(this,t),this.$dataLoader_computer=new Dt(this.$compute_dataLoader,this.$reset_dataLoader,this),this.$dataLoader_computer.connect(),this.$applyPreloadPageCount_effector=new Pt(this.applyPreloadPageCount,this),this.$applyPreloadPageCount_effector.connect(),this.$applyOrder_effector=new Pt(this.applyOrder,this),this.$applyOrder_effector.connect(),this.$applyFilter_effector=new Pt(this.applyFilter,this),this.$applyFilter_effector.connect()}$dataLoader_computer=void 0;$compute_dataLoader(){return ht(this,"pageSize"),new be(this.pageSize,this.dataCountGetter.bind(this),this.pageDataGetter.bind(this))}get dataLoader(){return ht(this,"dataLoader"),this.$dataLoader_computer.get()}$reset_dataLoader(){dt(this,"dataLoader")}$applyPreloadPageCount_effector=void 0;applyPreloadPageCount(){this.dataLoader.setPreloadPageCount(this.preloadPageCount),ht(this,"dataLoader","preloadPageCount")}$applyOrder_effector=void 0;applyOrder(){}$applyFilter_effector=void 0;applyFilter(){}async getDataCount(){return ht(this,"dataLoader"),this.dataLoader.getDataCount()}getImmediateData(t,e){return ht(this,"dataLoader"),this.dataLoader.getImmediateData(t,e)}async getFreshData(t,e){return ht(this,"dataLoader"),this.dataLoader.getFreshData(t,e)}reload(){this.dataLoader.clear()}}function hn(t,e,i,n,s,r=0){let o=i.getClientSize(t),l=i.getScrolled(t),a="end"===s?-1:1,h=n-l;return Ye(e,(function(t){let e=i.getOffset(t)+h,n=i.getOffsetSize(t),s=e+n;return(Math.min(s,o)-Math.max(e,0))/Math.min(n,o)<=r?e<0?-1:1:a}))}function dn(t,e,i,n,s){let r=i.getScrolled(t),o=s-r,l=n-r,a=function(t,e){let i=Ye(t,e);for(;i>0&&0===e(t[i-1]);)i--;return i}(e,(function(t){let e=i.getOffset(t)+l,n=i.getOffsetSize(t);return o<e?1:o>e+n?-1:0}));return a===e.length&&(a=e.length-1),a}class cn{direction=null;constructor(t=null){this.direction=t}setDirection(t=null){this.direction=t}getStartPadding(t){return"vertical"===this.direction?$e(t,"paddingTop"):"horizontal"===this.direction?$e(t,"paddingLeft"):0}getEndPadding(t){return"vertical"===this.direction?$e(t,"paddingBottom"):"horizontal"===this.direction?$e(t,"paddingRight"):0}setStartPosition(t,e){"vertical"===this.direction?t.style.top=e:"horizontal"===this.direction&&(t.style.left=e)}setEndPosition(t,e){"vertical"===this.direction?t.style.bottom=e:"horizontal"===this.direction&&(t.style.right=e)}getScrolled(t){return"vertical"===this.direction?t.scrollTop:"horizontal"===this.direction?t.scrollLeft:0}setScrolled(t,e){"vertical"===this.direction?t.scrollTop=e:"horizontal"===this.direction&&(t.scrollLeft=e)}setSize(t,e){"vertical"===this.direction?t.style.height=e+"px":"horizontal"===this.direction&&(t.style.width=e+"px")}getInnerSize(t){return this.getClientSize(t)-this.getStartPadding(t)-this.getEndPadding(t)}getClientSize(t){return"vertical"===this.direction?t.clientHeight:"horizontal"===this.direction?t.clientWidth:0}getOffsetSize(t){return"vertical"===this.direction?t.offsetHeight:"horizontal"===this.direction?t.offsetWidth:0}getScrollSize(t){return"vertical"===this.direction?t.scrollHeight:"horizontal"===this.direction?t.scrollWidth:0}getOuterSize(t){return"vertical"===this.direction?t.clientHeight:"horizontal"===this.direction?t.clientWidth:0}getOffset(t){return"vertical"===this.direction?t.offsetTop:"horizontal"===this.direction?t.offsetLeft:0}getOuterOffset(t){return"vertical"===this.direction?t.offsetTop-$e(t,"marginTop"):"horizontal"===this.direction?t.offsetLeft-$e(t,"marginLeft"):0}getEndOuterOffset(t){return"vertical"===this.direction?t.offsetTop+t.offsetHeight+$e(t,"marginBottom"):"horizontal"===this.direction?t.offsetLeft+t.offsetWidth+$e(t,"marginRight"):0}}const pn=new WeakMap;async function un(t,e=null,i=0,n=0,s="ease-out"){let r=fn(t);if(!r)return!1;let{wrapper:o,direction:l}=r;if(!(e=e??l))return!1;if(pn.get(o)?.cancel(),"vertical"===e){let r=o.scrollTop,l=null,a=wn(t,o,e),h=a-i-r,d=a+t.offsetHeight+i-o.clientHeight-r;if(h<0&&d<0?l=Math.max(h,d)+r:d>0&&h>0&&(l=Math.min(d,h)+r),null!==l&&l!==r){if(n){let t=new ne({duration:n,easing:s});return t.playBetween(r,l,(t=>{o.scrollTop=t})),pn.set(o,t),t.untilEnd()}return o.scrollTop=l,!0}return!1}if("horizontal"===e){let r=o.scrollLeft,l=null,a=wn(t,o,e),h=a-i-r,d=a+t.offsetWidth+i-o.clientWidth-r;if(h<0&&d<0||t.offsetWidth>o.clientWidth?l=Math.max(0,a-i):d>0&&h>0&&(l=Math.min(o.scrollWidth,a+t.offsetWidth+i)-o.clientWidth),null!==l&&l!==r){if(n){let t=new ne({duration:n,easing:s});return t.playBetween(r,l,(t=>{o.scrollLeft=t})),pn.set(o,t),await t.untilEnd()}return o.scrollLeft=l,!0}}return!1}async function gn(t,e=null,i=0,n=0,s="ease-out"){let r=fn(t);if(!r)return!1;let{wrapper:o,direction:l}=r;if(!(e=e??l))return!1;pn.has(t)&&pn.get(t).cancel();let a=wn(t,o,e),h="horizontal"===e?"scrollLeft":"scrollTop",d=o[h],c=Math.max(0,a-i);if(c!==d){if(n){let e=new ne({duration:n,easing:s});return e.playBetween(d,c,(t=>{o[h]=t})),pn.set(t,e),e.untilEnd()}return o[h]=c,!0}return!1}function fn(t){for(;t;){let e=mn(t);if(null!==e)return{wrapper:t,direction:e};t=t.parentElement}return null}function mn(t){let e=null;return t.scrollHeight>t.clientHeight?e="vertical":t.scrollWidth>t.clientWidth&&(e="horizontal"),e}function wn(t,e,i){let n="horizontal"===i?"offsetLeft":"offsetTop",s=t,r=0;for(;s;)if(r+=s[n],s=s.offsetParent,s.contains(e)){s===e.offsetParent&&(r-=e[n]);break}return r}const vn=new t("\x3c!----\x3e\x3c!----\x3e"),yn=new d((function(){let t,i=vn.make(),n=i.content.firstChild,s=i.content.lastChild,r=new m(new e(1,s),1),o=new ge(r);return{el:i,position:new e(1,n),update(e){t!==e[0]&&(o.updateRenderFn(e[0]),t=e[0]),o.updateData(e[1])},parts:[[r,1]]}}));class xn extends Ot{static SlotContentType=0;data=[];renderFn;overflowDirection="vertical";scrollerSelector=null;$doa_computer=void 0;$compute_doa(){return ht(this,"overflowDirection"),new cn(this.overflowDirection)}get doa(){return ht(this,"doa"),this.$doa_computer.get()}$reset_doa(){dt(this,"doa")}$scroller_computer=void 0;$compute_scroller(){return ht(this,"scrollerSelector"),null!==this.scrollerSelector?this.el.closest(this.scrollerSelector)??this.el.parentElement:this.el.parentElement}get scroller(){return ht(this,"scroller"),this.$scroller_computer.get()}$reset_scroller(){dt(this,"scroller")}onCreated(){super.onCreated(),this.$doa_computer=new Dt(this.$compute_doa,this.$reset_doa,this),this.$scroller_computer=new Dt(this.$compute_scroller,this.$reset_scroller,this)}onConnected(){super.onConnected(),this.$doa_computer.connect(),this.$scroller_computer.connect()}onWillDisconnect(){super.onWillDisconnect(),this.$doa_computer.disconnect(),this.$scroller_computer.disconnect()}render(){return ht(this,"data","renderFn"),ht(this.data,""),new f(yn,[this.renderFn,this.data],this)}getIndexAtOffset(t){let e=dn(this.scroller,this.el.children,this.doa,0,t);return ht(this,"scroller","doa"),e}isIndexVisible(t,e=0){return t>=this.getStartVisibleIndex(e)&&t<=this.getEndVisibleIndex(e)}getStartVisibleIndex(t=0){return ht(this,"scroller","doa"),hn(this.scroller,this.el.children,this.doa,0,"start",t)}getEndVisibleIndex(t=0){return ht(this,"scroller","doa"),hn(this.scroller,this.el.children,this.doa,0,"end",t)}async scrollIndexToStart(t,e,i,n){if(!this.el.parentElement)return!1;let s=this.el.children[t];return!!s&&(ht(this,"overflowDirection"),gn(s,this.overflowDirection,e,i,n))}async scrollIndexToView(t,e,i,n){if(!this.el.parentElement)return!1;let s=this.el.children[t];return!!s&&(ht(this,"overflowDirection"),un(s,this.overflowDirection,e,i,n))}}class bn{latestSize=0;reset(){this.latestSize=0}update(t,e,i){if(0===t||0===e)return;let n=e/t;i&&n<this.latestSize/2&&(n=this.latestSize/2),this.latestSize=n}getLatestSize(){return this.latestSize}}class Cn{scroller;slider;stat=new bn;doa;continuousRenderRange=null;preEndPositions=null;preAdditionalStat=null;scrollerSize=0;latestPlaceholderProperties={endIndex:0,itemSize:0,dataCount:0,placeholderSize:0};latestSliderPositionProperties={startIndex:0,endIndex:0,startPosition:0,endPosition:0};constructor(t,e,i){this.scroller=t,this.slider=e,this.doa=i}setPreEndPositions(t){this.preEndPositions=t,t&&!this.preAdditionalStat?this.preAdditionalStat=new bn:!t&&this.preAdditionalStat&&(this.preAdditionalStat=null)}cacheSliderPosition(t,e,i){"start"===i?(this.latestSliderPositionProperties.startIndex=t,this.latestSliderPositionProperties.startPosition=e):(this.latestSliderPositionProperties.endIndex=t,this.latestSliderPositionProperties.endPosition=e)}readScrollerSize(){this.scrollerSize=this.doa.getClientSize(this.scroller)}hasMeasured(){return this.getItemSize()>0}getItemSize(){return this.stat.getLatestSize()}getSafeRenderCount(t,e){if(0===this.scrollerSize)return 1;let i=this.getItemSize();if(0===i)return 1;let n=this.scrollerSize+t,s=this.scrollerSize/i,r=n/i;return Math.abs(r-e)<.5&&e>s?e:Math.ceil(n/i)}calcSliderPositionByIndex(t,e){if(this.preEndPositions){let e=this.preAdditionalStat.getLatestSize();return(t>0?this.preEndPositions[t-1]:0)+e*t}return"start"===e?this.getItemSize()*t:this.getItemSize()*t+this.scrollerSize}calcStartIndexByScrolled(){let t=this.doa.getScrolled(this.scroller);if(this.preEndPositions){let e=this.preAdditionalStat.getLatestSize();return function(t,e,i){if(0===t.length)return 0;if(t[0]+e>i)return 0;if(t[t.length-1]+e*t.length<=i)return t.length;let n=0,s=t.length-1;for(;n+1<s;){let r=Math.floor((s+n)/2);t[r]+e*(r+1)<=i?n=r:s=r}return s}(this.preEndPositions,e,t)}{let e=this.getItemSize();return e>0?Math.floor(t/e):0}}breakContinuousRenderRange(){this.continuousRenderRange=null}measureAfterRendered(t,e,i){let n=this.doa.getInnerSize(this.slider),s=this.doa.getClientSize(this.slider),r=s-n;"start"===i?(this.latestSliderPositionProperties.endIndex=e,this.latestSliderPositionProperties.endPosition=this.latestSliderPositionProperties.startPosition+s):(this.latestSliderPositionProperties.startIndex=t,this.latestSliderPositionProperties.startPosition=this.latestSliderPositionProperties.endPosition-s),this.continuousRenderRange?(t<=this.continuousRenderRange.startIndex&&(this.continuousRenderRange.startIndex=t,this.continuousRenderRange.startPosition=this.latestSliderPositionProperties.startPosition),e>=this.continuousRenderRange.endIndex&&(this.continuousRenderRange.endIndex=e,this.continuousRenderRange.endPosition=this.latestSliderPositionProperties.endPosition)):this.continuousRenderRange={startIndex:t,endIndex:e,startPosition:this.latestSliderPositionProperties.startPosition,endPosition:this.latestSliderPositionProperties.endPosition};let o=this.continuousRenderRange.endIndex-this.continuousRenderRange.startIndex,l=this.continuousRenderRange.endPosition-this.continuousRenderRange.startPosition-r;if(o>0&&l>0&&this.stat.update(o,l,!0),o>0&&this.preEndPositions){let i=t>0?this.preEndPositions[t-1]:0,s=e>0?this.preEndPositions[e-1]:0;this.preAdditionalStat.update(o,n-(s-i),!1)}}shouldUpdatePlaceholderSize(t,e){if(e!==this.latestPlaceholderProperties.dataCount)return!0;if(!(t>this.latestPlaceholderProperties.endIndex))return!1;let i=this.calcPlaceholderSize(e)-this.latestSliderPositionProperties.endPosition,n=this.latestPlaceholderProperties.placeholderSize-this.latestSliderPositionProperties.endPosition;return Math.abs(i-n)/Math.max(i,n)>.333}calcPlaceholderSize(t){if(this.preEndPositions)return(this.preEndPositions.length>0?this.preEndPositions[this.preEndPositions.length-1]:0)+this.preAdditionalStat.getLatestSize()*t;let e=this.getItemSize(),i=this.latestSliderPositionProperties;return i.endIndex<=t&&i.endIndex>0&&i.endPosition>0?this.latestSliderPositionProperties.endPosition+e*(t-i.endIndex):i.startIndex<=t&&i.startIndex>0&&i.startPosition>0?this.latestSliderPositionProperties.startPosition+e*(t-i.startIndex):e*t}cachePlaceholderProperties(t,e,i){this.latestPlaceholderProperties={endIndex:t,itemSize:this.stat.getLatestSize(),dataCount:e,placeholderSize:i}}checkUnCoveredSituation(t,e,i){let n=this.doa.getClientSize(this.scroller),s=this.doa.getClientSize(this.slider),r=this.doa.getScrolled(this.scroller),o=this.latestSliderPositionProperties.startPosition-r,l=o+s,a=0===r&&t>0,h=r+n===this.doa.getScrollSize(this.scroller)&&e<i;return l<0||o>n?"break":o-1>0||a?"start":l+1<n||h?"end":null}}class Sn{scroller;slider;repeat;placeholder;updateRendering;asFollower;measurement;doa;reservedPixels=200;dataCount=0;renderQueue=new ii;needToApply={startIndex:0,endIndex:void 0,alignDirection:"start",tryPersistScrollPosition:!1};startIndex=0;endIndex=0;alignDirection="start";constructor(t,e,i,n,s,r,o){this.scroller=t,this.slider=e,this.repeat=i,this.placeholder=n,this.asFollower=s,this.doa=r,this.updateRendering=o,this.measurement=new Cn(t,e,r)}setAlignDirection(t){this.alignDirection=t}setReservedPixels(t){this.reservedPixels=t}setDataCount(t){this.dataCount=t}setPreEndPositions(t){this.measurement.setPreEndPositions(t)}setRenderIndices(t,e=void 0,i="start",n=!1){this.needToApply={startIndex:t,endIndex:e,alignDirection:i,tryPersistScrollPosition:n}}async connect(){R(this.scroller,"scroll",this.onScrollerScroll,this,{passive:!0}),await St(),await this.readScrollerSize(),Si(this.scroller,this.readScrollerSize,this)}async disconnect(){this.asFollower||(await ti(),this.setRenderIndices(this.locateVisibleIndex("start"))),T(this.scroller,"scroll",this.onScrollerScroll,this),ki(this.scroller,this.readScrollerSize,this)}onScrollerScroll(){this.checkCoverage()}async readScrollerSize(){await Ze(),this.measurement.readScrollerSize()}async update(){await St(),await this.renderQueue.enqueue((()=>this.doNormalUpdate())),await this.checkCoverage()}async doNormalUpdate(){let t=this.measurement.hasMeasured(),e=!1,i=this.needToApply;i?(e=await this.updateByApplyingIndices(i),this.needToApply=null):await this.updateWithStartIndexPersist(),t&&this.setPlaceholderSizeProgressively(),e||(await Ze(),this.measurement.measureAfterRendered(this.startIndex,this.endIndex,this.alignDirection),i&&!t&&i.startIndex&&(await ti(),this.setPlaceholderSizeProgressively(),await this.updateByApplyingIndices(i),await Ze(),this.measurement.measureAfterRendered(this.startIndex,this.endIndex,this.alignDirection)),t&&this.checkEdgeCasesAfterMeasured())}async updateByApplyingIndices(t){let{startIndex:e,endIndex:i,alignDirection:n,tryPersistScrollPosition:s}=t,r=this.measurement.hasMeasured(),o=this.endIndex-this.startIndex;if(s&&o>0){await Ze();let t=this.locateVisibleIndex("start"),s=this.locateVisibleIndex("end"),r=!1;if("start"===n?Math.max(s,e+1)-Math.min(t,e)<=o?(e=Math.min(t,e),i=e+o,r=!0):e>s&&(i=Math.max(s,e+1),e=i-o):Math.max(s,i)-Math.min(t,i)<=o?(i=Math.max(s,i),e=i-o,r=!0):i<t&&(e=i-1,i=e+o),r)return await this.updateContinuously(n,e,i),!0}return this.setIndices(e,i),this.setAlignDirection(n??"start"),await ti(),this.updateRendering(),this.resetPositions(r,s?void 0:e,s?void 0:i),!1}async updateWithStartIndexPersist(){let t=!0;this.endIndex>this.dataCount&&(t=!1),this.setIndices(this.startIndex),this.setAlignDirection("start"),await ti(),this.updateRendering(),t||this.resetPositions(!0)}setIndices(t,e=void 0){let i=this.endIndex-this.startIndex,n=this.measurement.getSafeRenderCount(this.reservedPixels,i);void 0===t&&(t=e-n),t=Math.min(t,this.dataCount-n),t=Math.max(0,t),e=e??t+n,e=Math.min(e,this.dataCount),this.startIndex=t,this.endIndex=e}resetPositions(t,e=this.startIndex,i=this.endIndex){let n=this.measurement.calcSliderPositionByIndex("start"===this.alignDirection?this.startIndex:this.endIndex,this.alignDirection);if(this.setSliderPosition(n),this.measurement.breakContinuousRenderRange(),t&&!this.asFollower){e=Math.max(e,this.startIndex),i=Math.min(i,this.endIndex);let t=this.measurement.calcSliderPositionByIndex("start"===this.alignDirection?e:i,this.alignDirection);"end"===this.alignDirection&&(t-=this.measurement.scrollerSize),this.doa.setScrolled(this.scroller,t)}}setSliderPosition(t){"start"===this.alignDirection?(this.doa.setStartPosition(this.slider,t+"px"),this.doa.setEndPosition(this.slider,"auto")):(this.doa.setStartPosition(this.slider,"auto"),this.doa.setEndPosition(this.slider,this.measurement.scrollerSize-t+"px"));let e="start"===this.alignDirection?this.startIndex:this.endIndex;this.measurement.cacheSliderPosition(e,t,this.alignDirection)}setPlaceholderSizeProgressively(){if(!this.placeholder)return;if(!this.measurement.shouldUpdatePlaceholderSize(this.endIndex,this.dataCount))return;let t=this.measurement.calcPlaceholderSize(this.dataCount);this.setPlaceholderSize(t)}setPlaceholderSize(t){this.placeholder&&(this.doa.setSize(this.placeholder,t),this.measurement.cachePlaceholderProperties(this.endIndex,this.dataCount,t))}async checkEdgeCasesAfterMeasured(){if(0===this.startIndex){let t=-this.measurement.latestSliderPositionProperties.startPosition;if(0!==t){let e=this.doa.getScrolled(this.scroller)+t;await ti(),this.doa.setScrolled(this.scroller,e),this.setAlignDirection("start"),this.setSliderPosition(0)}}else if(this.measurement.latestSliderPositionProperties.startPosition<=0){let t=this.measurement.calcSliderPositionByIndex(this.startIndex,"start"),e=t-this.measurement.latestSliderPositionProperties.startPosition,i=this.doa.getScrolled(this.scroller)+e;await ti(),this.doa.setScrolled(this.scroller,i),this.setPlaceholderSize(this.measurement.latestPlaceholderProperties.placeholderSize+e),this.setAlignDirection("start"),this.setSliderPosition(t)}if(this.endIndex===this.dataCount)this.measurement.latestPlaceholderProperties.placeholderSize>this.measurement.latestSliderPositionProperties.endPosition&&(await ti(),this.setPlaceholderSize(this.measurement.latestSliderPositionProperties.endPosition));else if(this.doa.getScrolled(this.scroller)+this.doa.getClientSize(this.scroller)>=this.doa.getScrollSize(this.scroller)){let t=this.measurement.calcSliderPositionByIndex(this.dataCount,"end")-this.measurement.calcSliderPositionByIndex(this.endIndex,"end");await ti(),this.setPlaceholderSize(this.measurement.latestPlaceholderProperties.placeholderSize+t)}}async checkCoverage(){0===this.startIndex&&this.endIndex===this.dataCount||await this.renderQueue.enqueue((()=>this.updateByCoverage()))}async updateByCoverage(){await Ze();let t=this.measurement.checkUnCoveredSituation(this.startIndex,this.endIndex,this.dataCount);if(null!==t)if("end"===t||"start"===t){let e,i,n="end"===t?"start":"end",s=this.locateVisibleIndex(n);"start"===n?e=s:(i=s,e=this.startIndex-this.endIndex+i),await this.updateContinuously(n,e,i)}else"break"===t&&(await this.updatePersistScrollPosition(),this.setPlaceholderSizeProgressively(),await Ze(),this.measurement.measureAfterRendered(this.startIndex,this.endIndex,this.alignDirection),this.checkEdgeCasesAfterMeasured())}async updateContinuously(t,e,i){let n=null,s=!1,r=this.startIndex,o=this.endIndex;if(this.setIndices(e,i),Math.min(this.endIndex,o)-Math.max(this.startIndex,r)<=0)s=!0;else if("start"===t){if(this.startIndex<r)s=!0;else if(this.startIndex!==r){let t=this.startIndex-r,e=this.repeat.children[t];await Ze(),n=this.measurement.latestSliderPositionProperties.startPosition+this.doa.getOuterOffset(e)-this.doa.getStartPadding(this.slider)}}else if(this.endIndex<r+1||this.endIndex>o)s=!0;else if(this.endIndex!==o){let t=this.endIndex-r-1,e=this.repeat.children[t];await Ze(),n=this.measurement.latestSliderPositionProperties.startPosition+this.doa.getEndOuterOffset(e)+this.doa.getEndPadding(this.slider)}s?await this.updateByNewIndices():await this.updateBySliderPosition(t,n),this.setPlaceholderSizeProgressively(),await Ze(),this.measurement.measureAfterRendered(this.startIndex,this.endIndex,this.alignDirection),this.checkEdgeCasesAfterMeasured()}async updatePersistScrollPosition(){let t=this.measurement.calcStartIndexByScrolled();this.setIndices(t),this.setAlignDirection("start"),await ti(),this.updateRendering(),this.resetPositions(!1)}async updateBySliderPosition(t,e){this.setAlignDirection(t),await ti(),this.updateRendering(),null!==e&&this.setSliderPosition(e)}async updateByNewIndices(){this.setAlignDirection("start"),await ti(),this.updateRendering(),this.resetPositions(!0)}locateVisibleIndex(t,e=0){return hn(this.scroller,this.repeat.children,this.doa,this.measurement.latestSliderPositionProperties.startPosition,t,e)+this.startIndex}}const kn=new t("\x3c!----\x3e\x3c!----\x3e"),Rn=new d((function(t){let i=kn.make(),n=i.content.firstChild,s=i.content.lastChild,r=new m(new e(1,s),1),o=new ge(r);return o.updateRenderFn(t.renderLiveFn.bind(t)),{el:i,position:new e(1,n),update(t){o.updateData(t[0])},parts:[[r,1]]}}));class Dn extends xn{static SlotContentType=0;reservedPixels=200;asFollower=!1;preEndPositions=null;placeholder=null;renderer=null;get startIndex(){return ht(this,"renderer"),ht(this.renderer,"startIndex"),this.renderer.startIndex}get endIndex(){return ht(this,"renderer"),ht(this.renderer,"endIndex"),this.renderer.endIndex}get alignDirection(){return ht(this,"renderer"),ht(this.renderer,"alignDirection"),this.renderer.alignDirection}get liveData(){return ht(this,"data"),ht(this.data,""),this.data.slice(this.startIndex,this.endIndex)}onCreated(){super.onCreated(),this.$applyReservedPixels_effector=new Pt(this.applyReservedPixels,this),this.$applyDataCount_effector=new Pt(this.applyDataCount,this),this.$applyPreEndPositions_effector=new Pt(this.applyPreEndPositions,this)}$applyReservedPixels_effector=void 0;applyReservedPixels(){this.renderer.setReservedPixels(this.reservedPixels),ht(this,"renderer","reservedPixels")}$applyDataCount_effector=void 0;applyDataCount(){this.renderer.setDataCount(this.data.length),this.willUpdate(),ht(this,"renderer","data"),ht(this.data,"")}$applyPreEndPositions_effector=void 0;applyPreEndPositions(){this.renderer.setPreEndPositions(this.preEndPositions),ht(this,"renderer","preEndPositions")}update(){this.connected&&this.$needsUpdate&&(this.renderer.update(),this.$needsUpdate=!1)}updateLiveData(){this.$needsUpdate=!0,super.update()}render(){return ht(this.liveData,""),new f(Rn,[this.liveData],this)}renderLiveFn(t,e){return ht(this,"renderFn"),this.renderFn(t,this.startIndex+e)}beforeDisconnectCallback(t){super.beforeDisconnectCallback(t),(1&t)>0&&(this.placeholder.remove(),this.placeholder=null,this.renderer=null,dt(this,"placeholder","renderer"))}onConnected(){super.onConnected(),this.initPlaceholder(),this.initRenderer(),this.renderer.connect(),this.$applyReservedPixels_effector.connect(),this.$applyDataCount_effector.connect(),this.$applyPreEndPositions_effector.connect()}initPlaceholder(){this.placeholder||(this.placeholder=document.createElement("div"),this.placeholder.style.cssText="position: absolute; left: 0; top: 0; width: 1px; visibility: hidden;",this.scroller.prepend(this.placeholder),dt(this,"placeholder"))}initRenderer(){if(this.renderer)return;let t=this.scroller,e=this.el;for(;e.parentElement!==t;)e=e.parentElement;this.renderer=new Sn(this.scroller,e,this.el,this.placeholder,this.asFollower,this.doa,this.updateLiveData.bind(this)),dt(this,"renderer")}onWillDisconnect(){super.onWillDisconnect(),this.renderer.disconnect(),this.$applyReservedPixels_effector.disconnect(),this.$applyDataCount_effector.disconnect(),this.$applyPreEndPositions_effector.disconnect()}isIndexRendered(t){return t>=this.startIndex&&t<this.endIndex}getIndexAtOffset(t){let e=dn(this.scroller,this.el.children,this.doa,this.renderer.measurement.latestSliderPositionProperties.startPosition,t);return ht(this,"scroller","doa","renderer"),ht(this.renderer.measurement,"latestSliderPositionProperties"),ht(this.renderer.measurement.latestSliderPositionProperties,"startPosition"),this.startIndex+e}getStartVisibleIndex(t=0){return ht(this,"renderer"),this.renderer.locateVisibleIndex("start",t)}getEndVisibleIndex(t=0){return ht(this,"renderer"),this.renderer.locateVisibleIndex("end",t)}setStartVisibleIndex(t){this.renderer.setRenderIndices(t),this.willUpdate()}async scrollIndexToStart(t,e,i,n){return this.isIndexRendered(t)||await this.toRenderItemAtIndex(t,"start"),super.scrollIndexToStart(t-this.startIndex,e,i,n)}async toRenderItemAtIndex(t,e){let i,n,s=this.endIndex-this.startIndex;if("start"===e)i=t;else{let e=this.getEndVisibleIndex();e-t>s?i=t:n=e}this.renderer.setRenderIndices(i,n,e,!0),this.willUpdate(),await yt(),await yt()}async scrollIndexToView(t,e,i,n){if(!this.isIndexRendered(t)){let e=t>=this.startIndex?"start":"end";await this.toRenderItemAtIndex(t,e)}return super.scrollIndexToView(t-this.startIndex,e,i,n)}}class Pn extends Dn{pageSize=0;dataCountGetter;pageDataGetter;preloadPageCount=0;dataLoader;needsUpdateDataCount=!0;get liveData(){return ht(this,"dataLoader"),this.dataLoader.getImmediateData(this.startIndex,this.endIndex)}onCreated(){super.onCreated(),this.$applyPreloadPageCount_effector=new Pt(this.applyPreloadPageCount,this),this.$onDataLoaderChange_watcher=new Mt((function(){return ht(this,"dataLoader"),this.dataLoader}),this.onDataLoaderChange,this)}applyDataCount(){}$applyPreloadPageCount_effector=void 0;applyPreloadPageCount(){this.dataLoader.setPreloadPageCount(this.preloadPageCount),ht(this,"dataLoader","preloadPageCount")}$onDataLoaderChange_watcher=void 0;onDataLoaderChange(){this.reload()}onConnected(){super.onConnected(),this.needsUpdateDataCount&&(this.needsUpdateDataCount=!1,this.updateDataCount()),this.$applyPreloadPageCount_effector.connect(),this.$onDataLoaderChange_watcher.connect()}async updateDataCount(){let t=await this.dataLoader.getDataCount();this.renderer.setDataCount(t),this.willUpdate()}async onUpdated(){super.onUpdated(),this.dataLoader.isRangeFresh(this.startIndex,this.endIndex)?this.fire("freshly-updated"):(await this.dataLoader.getFreshData(this.startIndex,this.endIndex),this.willUpdate())}reload(){this.dataLoader.clear(),this.connected?(this.updateDataCount(),this.willUpdate()):this.needsUpdateDataCount=!0}}const Tn=new t("\x3c!----\x3e"),Mn=new d((function(t){let i,n,s,r=Tn.make(),o=t.el,l=r.content.firstChild,a=new Wt(o),h=new Wt(o),d=new Wt(o);return o.setAttribute("tabindex","0"),{el:r,position:new e(1,l),update(t){i!==t[0]&&(a.updateString("button size-"+t[0]),i=t[0]),n!==t[1]&&(h.updateObject({primary:t[1]}),n=t[1]),s!==t[2]&&(d.updateObject({flat:t[2]}),s=t[2])}}}));class En extends Ot{static SlotContentType=0;static style=Vt(".button{display:inline-flex;justify-content:center;align-items:center;border:1px solid var(--border-color);color:var(--border-color);border-radius:var(--border-radius);padding:calc(0.2em - 1px) 0.6em;background:var(--background-color);text-align:center;cursor:pointer;vertical-align:top;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:hover,&:focus{background-color:var(--border-color);color:var(--background-color);}&:focus{box-shadow:0 0 var(--focus-shadow-blur-radius) var(--primary-color);}&:active{background:var(--border-color);border-color:var(--border-color);color:var(--background-color);}.icon{&:first-child{margin-right:0.15em;margin-left:-0.25em;}&:last-child{margin-left:0.15em;margin-right:-0.25em;}&:only-child{margin-left:-0.25em;margin-right:-0.25em;}}&.primary{background:var(--primary-color);border-color:var(--primary-color);color:#fff;&:hover,&:focus{background:color-mix(in srgb,var(--primary-color) 80%,var(--text-color));border-color:color-mix(in srgb,var(--primary-color) 80%,var(--text-color));}&:active{background:color-mix(in srgb,var(--primary-color) 60%,var(--text-color));border-color:color-mix(in srgb,var(--primary-color) 60%,var(--text-color));}}&.flat{border-color:transparent;padding-left:0;padding-right:0;color:color-mix(in srgb,var(--border-color) 66%,var(--text-color));&:hover,&:focus{background:none;color:var(--text-color);}&:active{background:none;}&:focus{box-shadow:none;}}}","Button");size="default";primary=!1;flat=!1;render(){return ht(this,"size","primary","flat"),new f(Mn,[this.size,this.primary,this.flat],this)}}const Nn=new t("\x3c!----\x3e"),Ln=new d((function(t){let i=Nn.make(),n=t.el,s=i.content.firstChild;return n.classList.add("button-group"),{el:i,position:new e(1,s)}}));class zn extends Ot{static SlotContentType=0;static style=Vt(".button-group{display:inline-flex;vertical-align:top;.button{&:nth-child(n+2){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;}&:nth-last-child(n+2){border-top-right-radius:0;border-bottom-right-radius:0;}&.primary{position:relative;z-index:1;}&:hover{position:relative;z-index:1;}}}","ButtonGroup");render(){return new f(Ln,[],this)}}const In=new t("\x3c!----\x3e"),$n=new d((function(t){let i,n=In.make(),s=t.el,r=n.content.firstChild,o=new Ht(s);return s.classList.add("row"),{el:n,position:new e(1,r),update(t){i!==t[0]&&(o.updateObject({"justify-content":"flex-"+t[0]}),i=t[0])}}})),Bn=new d((function(t){let i,n,s=In.make(),r=t.el,o=s.content.firstChild,l=new Ht(r),a=new Ht(r);return r.classList.add("col"),{el:s,position:new e(1,o),update(t){i!==t[0]&&(l.updateObject({"margin-left":t[0]}),i=t[0]),n!==t[1]&&(a.updateObject({width:t[1]}),n=t[1])}}}));class On extends Ot{static SlotContentType=0;static style=Vt(".row{display:flex;flex-wrap:wrap;}","Row");columnCount=24;justify="start";gutter=0;cols=[];render(){return ht(this,"justify"),new f($n,[this.justify],this)}register(t){this.cols.push(t),t.once("will-disconnect",(()=>{Ue(this.cols,t)})),dt(this.cols,"")}getLeftColumnCount(t){let{columnCount:e}=this,i=0;for(let n of this.cols){if(n===t)break;i+=Math.min(n.span,e)+n.offset%e,ht(n,"span","offset")}return ht(this,"columnCount"),i}}class An extends Ot{static SlotContentType=0;static style=Vt(".col{}","Col");span=1;offset=0;row;onConnected(){super.onConnected();let t=On.from(this.el.parentElement);if(!t)throw new Error('"<Col>" must be included by a "<Row>" as it\'s child!');t.register(this),this.row=t}render(){let t=this.getMarginLeft(),e=this.getWidth();return new f(Bn,[t,e],this)}getMarginLeft(){let t=this.row.getLeftColumnCount(this),{columnCount:e,gutter:i}=this.row,n=this.offset%e,s=(t+n)%e==0;return ht(this,"row","offset"),ht(this.row,"columnCount"),n>0?n/i*100+"%":s?"0":i+"px"}getWidth(){let{gutter:t,columnCount:e}=this.row,i=Math.min(this.span,e),n=i/e,s=t*(i-1-(e-1)*n);return ht(this,"row","span"),ht(this.row,"gutter"),`calc(${100*n}% - ${-s}px)`}}const Fn=new t("<svg></svg>"),Vn=new d((function(t){let i,n,s,r=Fn.make(),o=t.el,l=r.content.firstChild,a=new Wt(o),h=new Kt(l);return{el:r,position:new e(1,l),update(t){i!==t[0]&&(a.updateString("icon size-"+t[0]),i=t[0]),n!==t[1]&&(l.setAttribute("viewBox",t[1]),n=t[1]),s!==t[2]&&(h.update(t[2]),s=t[2])}}}));class Wn extends Ot{static style=Vt(".icon{display:inline-flex;stroke:currentColor;fill:none;vertical-align:middle;position:relative;svg{width:1lh;height:1lh;}}","Icon");size="default";icon="";render(){let t=function(t){let e=t.match(/<svg[\s\S]+?viewBox=["'](.+?)["'][\s\S]*?>\s*([\s\S]+?)\s*<\/svg>/);if(!e)return null;let i=e[1].split(/[\s+]/).map((t=>Number(t))),n=e[2];return{box:{x:i[0],y:i[1],width:i[2],height:i[3]},inner:n}}(this.icon);if(ht(this,"icon"),!t)return null;let{box:{x:e,y:i,width:n,height:s},inner:r}=t;return e+=(n-22)/2,i+=(s-22)/2,ht(this,"size"),new f(Vn,[this.size,[e,i,22,22].join(" "),r],this)}}class Kn extends Ot{radios=[];value=null;onCreated(){super.onCreated(),this.$onValueChange_watcher=new Mt((function(){return ht(this,"value"),this.value}),this.onValueChange,this)}onConnected(){super.onConnected(),this.$onValueChange_watcher.connect()}onWillDisconnect(){super.onWillDisconnect(),this.$onValueChange_watcher.disconnect()}register(t){this.radios.push(t);let e=this.onRadioChecked.bind(this,t);t.on("change",e),t.once("will-disconnect",(()=>{Ue(this.radios,t),t.off("change",e)})),dt(this.radios,"")}$onValueChange_watcher=void 0;onValueChange(t){if(null!==t)for(let e of this.radios)e.value===t?e.checked=!0:e.checked=!1,dt(e,"checked")}onRadioChecked(t){this.value=t.value,this.fire("change",this.value),dt(this,"value")}}const _n=new t('<div></div><div class="radio-label"><slot></slot></div>'),Un=new d((function(t){let i,n,s,r=_n.make(),o=t.el,l=r.content.firstChild,a=r.content.lastChild.firstChild,h=new Wt(o),d=new Wt(o),c=new Wn(l);return o.addEventListener("click",t.onClick.bind(t)),o.addEventListener("focus",t.onFocus.bind(t)),a.append(...t.$getRestSlotNodes()),o.setAttribute("tabindex","0"),l.classList.add("radio-icon"),{el:r,position:new e(1,l),update(t){i!==t[0]&&(h.updateString("radio size-"+t[0]),i=t[0]),n!==t[1]&&(d.updateObject({checked:t[1]}),n=t[1]),s!==t[2]&&(c.icon=t[2],s=t[2],dt(c,"icon"))},parts:[[c,1]]}}));class Hn extends Ot{static SlotContentType=0;static style=Vt(".radio{display:inline-flex;vertical-align:top;align-items:center;cursor:pointer;&:hover{color:var(--primary-color);}&:focus{color:var(--primary-color);box-shadow:0 0 0 1px var(--primary-color);}&.checked{color:var(--primary-color);}}.radio-icon{position:relative;border-radius:50%;margin-right:0.2em;}.radio-label{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:0.2em;}","Radio");size="default";group=null;checked=!1;value=null;onConnected(){super.onConnected();let t=Kn.fromClosest(this.el.parentElement,3);t&&(this.group=t,this.checked=this.group.value==this.value,this.group.register(this))}render(){return ht(this,"size","checked"),new f(Un,[this.size,this.checked,this.checked?'<svg viewBox="0 0 17 17"><circle style="fill:none;stroke:currentColor;" cx="8.5" cy="8.5" r="8"/><circle style="fill-rule:evenodd;clip-rule:evenodd;fill:currentColor; stroke:none;" cx="8.5" cy="8.5" r="3.5"/></svg>':'<svg viewBox="0 0 17 17"><circle style="fill:none;stroke:currentColor;" cx="8.5" cy="8.5" r="8"/></svg>'],this)}onClick(){this.getChecked()}getChecked(){this.checked||(this.checked=!0,this.fire("change",!0),dt(this,"checked"))}onFocus(){this.checked||(R(this.el,"blur",this.onBlur,this),V(document,"keydown",["once","Enter"],this.onEnter,this))}onBlur(){T(this.el,"blur",this.onBlur,this),W(document,"keydown",this.onEnter,this)}onEnter(){this.getChecked()}}class jn extends Ot{checkboxes=[];value=[];onCreated(){super.onCreated(),this.$onValueChange_watcher=new Mt((function(){return ht(this,"value"),this.value}),this.onValueChange,this)}onConnected(){super.onConnected(),this.$onValueChange_watcher.connect()}onWillDisconnect(){super.onWillDisconnect(),this.$onValueChange_watcher.disconnect()}register(t){this.checkboxes.push(t);let e=this.onCheckboxChange.bind(this,t);t.on("change",e),t.once("will-disconnect",(()=>{Ue(this.checkboxes,t),t.off("change",e)})),dt(this.checkboxes,"")}$onValueChange_watcher=void 0;onValueChange(t){for(let e of this.checkboxes)t.includes(e.value)?e.checked=!0:e.checked=!1,dt(e,"checked")}onCheckboxChange(t){if(t.checked)this.value.push(t.value),dt(this.value,"");else{let e=this.value.indexOf(t.value);e>-1&&(this.value.splice(e,1),dt(this.value,""))}this.fire("change",this.value)}}const qn=new t('<div></div><div class="checkbox-label"><slot></slot></div>'),Gn=new d((function(t){let i,n,s,r,o=qn.make(),l=t.el,a=o.content.firstChild,h=o.content.lastChild.firstChild,d=new Wt(l),c=new Wt(l),p=new Wt(l),u=new Wn(a);return l.addEventListener("click",t.onClick.bind(t)),l.addEventListener("focus",t.onFocus.bind(t)),l.addEventListener("blur",t.onBlur.bind(t)),h.append(...t.$getRestSlotNodes()),l.setAttribute("tabindex","0"),a.classList.add("checkbox-icon"),u.size="inherit",{el:o,position:new e(1,a),update(t){i!==t[0]&&(d.updateString("checkbox size-"+t[0]),i=t[0]),n!==t[1]&&(c.updateObject({checked:t[1]}),n=t[1]),s!==t[2]&&(p.updateObject({indeterminate:t[2]}),s=t[2]),r!==t[3]&&(u.icon=t[3],r=t[3],dt(u,"icon"))},parts:[[u,1]]}}));class Yn extends Ot{static SlotContentType=0;static style=Vt(".checkbox{display:inline-flex;vertical-align:top;align-items:center;cursor:pointer;&:hover{color:var(--primary-color);}&:focus{color:var(--primary-color);box-shadow:0 0 0 1px var(--primary-color);}&.indeterminate,&.checked{color:var(--primary-color);}}.checkbox-icon{position:relative;margin-right:0.2em;}.checkbox-label{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:0.2em;}","Checkbox");size="default";group=null;checked=!1;indeterminate=!1;value=null;onConnected(){super.onConnected();let t=jn.fromClosest(this.el.parentElement);t&&(this.group=t,this.checked=this.group.value.includes(this.value),this.group.register(this))}render(){let t=this.checked?'<svg viewBox="0 0 17 17"><path style="fill:currentColor; stroke:none;" d="M3.6,0h9.8c2,0,3.6,1.6,3.6,3.6v9.8c0,2-1.6,3.6-3.6,3.6H3.6c-2,0-3.6-1.6-3.6-3.6V3.6C0,1.6,1.6,0,3.6,0z"/><polyline style="fill:none;stroke:#FFFFFF;" points="13.3,4.8 6.8,12.2 3.7,8.7"/></svg>':this.indeterminate?'<svg viewBox="0 0 17 17"><path style="fill:currentColor; stroke:none;" d="M3.6,0h9.8c2,0,3.6,1.6,3.6,3.6v9.8c0,2-1.6,3.6-3.6,3.6H3.6c-2,0-3.6-1.6-3.6-3.6V3.6C0,1.6,1.6,0,3.6,0z"/><path style="fill:none;stroke:#FFFFFF;stroke-linecap:square;" d="M4.4,8.5h8.1"/></svg>':'<svg viewBox="0 0 17 17"><path style="fill:none;stroke:currentColor;" d="M4.1,0.5H13c2,0,3.6,1.6,3.6,3.6V13c0,2-1.6,3.6-3.6,3.6H4.1c-2,0-3.6-1.6-3.6-3.6V4.1C0.5,2.1,2.1,0.5,4.1,0.5z"/></svg>';return ht(this,"checked","size","indeterminate"),new f(Gn,[this.size,this.checked,this.indeterminate,t],this)}onClick(){this.toggleChecked()}toggleChecked(){this.checked=!this.checked,this.indeterminate=!1,this.fire("change",this.checked),dt(this,"checked","indeterminate")}onFocus(){V(document,"keydown",["Enter"],this.onEnter,this)}onEnter(t){t.preventDefault(),this.toggleChecked()}onBlur(){W(document,"keydown",this.onEnter,this)}}const Xn=new t('<div class="switch-ball"></div>'),Jn=new d((function(t){let i,n,s=Xn.make(),r=t.el,o=s.content.firstChild,l=new Wt(r),a=new Wt(r);return r.addEventListener("click",t.onClick.bind(t)),r.addEventListener("focus",t.onFocus.bind(t)),r.addEventListener("blur",t.onBlur.bind(t)),r.setAttribute("tabindex","0"),{el:s,position:new e(1,o),update(t){i!==t[0]&&(l.updateString("switch size-"+t[0]),i=t[0]),n!==t[1]&&(a.updateObject({"switch-on":t[1]}),n=t[1])}}}));class Qn extends Ot{static SlotContentType=0;static style=Vt(function(t,...e){return new w("css",t,e)}([".switch{display:inline-block;vertical-align:top;width:2em;height:1.25em;border-radius:0.625em;background:var(--field-color);padding:1px;transition:background-color 0.2s ",";cursor:pointer;&:hover{background:color-mix(in srgb,var(--field-color) 80%,var(--text-color));}&:focus{box-shadow:0 0 var(--focus-shadow-blur-radius) var(--primary-color);}}.switch-ball{width:calc(1.25em - 2px);height:calc(1.25em - 2px);background:var(--background-color);border-radius:50%;transition:margin 0.2s ",";}.switch-on{background:var(--primary-color);.switch-ball{border-color:var(--background-color);margin-left:0.75em;}&:hover{background:var(--primary-color);}}"],[Xt("ease-out-cubic"),Xt("ease-out-cubic")]),"Switch");size="default";value=!1;render(){return ht(this,"size","value"),new f(Jn,[this.size,this.value],this)}onClick(){this.toggleValue(),this.el.blur()}toggleValue(){this.setValue(!this.value)}setValue(t){t!==this.value&&(this.value=t,this.fire("change",t),dt(this,"value"))}onFocus(){R(document,"keydown",this.onKeyDown,this)}onKeyDown(t){let e=L(t);"Enter"===e?(t.preventDefault(),this.toggleValue()):"ArrowLeft"===e?this.value&&(t.preventDefault(),this.setValue(!1)):"ArrowRight"===e&&(this.value||(t.preventDefault(),this.setValue(!0)))}onBlur(){T(document,"keydown",this.onKeyDown,this)}}const Zn=new t("<div></div>"),ts=new d((function(t){let i,n,s,o,l,a=Zn.make(),h=a.content.firstChild,d=new qo(h),c=new pe(h,t),p=new r;return d.asCover=!0,{el:a,position:new e(1,h),update(t){i!==t[0]&&(d.size=t[0],i=t[0],dt(d,"size")),n!==t[1]&&(d.strokeSize=t[1],n=t[1],dt(d,"strokeSize")),s!==t[2]&&(d.speed=t[2],s=t[2],dt(d,"speed")),t[3]&&l!==t[3]&&(c.update(t[3]),l=t[3]),t[3]&&!o?(p.update(c),o=t[3]):!t[3]&&o&&(p.update(null),o=t[3])},parts:[[d,1],[p,1]]}})),es={size:18,strokeSize:3,speed:.6,transition:ae()};class is{el;options=es;value=!1;loader=null;constructor(t){this.el=t}async afterConnectCallback(){this.value&&!this.loader&&(this.loader=await this.renderLoader(),this.loader.appendTo(this.el))}beforeDisconnectCallback(t){if(this.loader){if(!(8&t))return this.loader.remove(!0).then((()=>{this.loader=null}));this.loader.remove(),this.loader=null}}async update(t,e={}){(t=Boolean(t))!==this.value&&(this.value=t,this.options={...e,...es},this.value?this.loader||(this.loader=await this.renderLoader(),this.loader.appendTo(this.el)):this.loader&&(this.loader.remove(!0),this.loader=null))}async renderLoader(){let t=At(new f(ts,[this.options.size,this.options.strokeSize,this.options.speed,this.options.transition],this));return await t.connectManually(),qo.from(t.el.firstElementChild)}}const ns=new Ce,ss=new WeakMap,rs=new WeakMap;function os(t){let e=ns.get(t);if(!e)return null;let i=null,n=null;for(let t of e){let e=ss.get(t);if(e&&!e.canPopupReuse())continue;let s=t.getAs(Vs);if(s&&!rn(s.el)){if(e&&e.opened){i=t;break}n=t}}return i??n}function ls(t){ss.delete(t)}function as(t){return rs.get(t)}class hs extends x{opened=!1;willShowSoon=!1;willHideSoon=!1;showTimeout=null;hideTimeout=null;willShow(t){return!this.opened&&!this.willShowSoon&&(this.showTimeout=new ei((()=>{this.showTimeout=null,this.show()}),t),this.showTimeout.start(),this.willShowSoon=!0,!0)}willNotShow(){this.showTimeout?.cancel(),this.willShowSoon=!1}willHide(t){return!(!this.opened||this.willHideSoon||(this.hideTimeout=new ei((()=>{this.hide()}),t),this.hideTimeout.start(),this.willHideSoon=!0,0))}willNotHide(){this.hideTimeout?.cancel(),this.hideTimeout=null,this.willHideSoon=!1}show(){this.willNotShow(),this.willNotHide(),this.opened||(this.opened=!0,this.fire("do-show"))}hide(){this.willNotShow(),this.willNotHide(),this.opened&&(this.opened=!1,this.fire("do-hide"))}}class ds extends x{trigger="hover";matchSelector=void 0;el;content=null;unwatchLeave=null;bound=0;latestTriggerEvent=null;constructor(t){super(),this.el=t}getLatestTriggerEvent(){return this.latestTriggerEvent}setTriggerType(t){t=this.mapTriggerType(t),this.trigger!==t&&(this.clear(),this.trigger=t)}setMatchSelector(t){this.matchSelector=t}mapTriggerType(t){return"hover"!==t||Ve()||(t="mousedown"),t}bindEnter(){1&this.bound||("click"===this.trigger||"mousedown"===this.trigger||"contextmenu"===this.trigger?R(this.el,this.trigger,this.triggerWithoutDelay,this):"hover"===this.trigger?R(this.el,"mouseenter",this.triggerWithDelay,this):"focus"===this.trigger&&(R(this.el,"focus",this.triggerWithDelay,this),this.el.contains(document.activeElement)&&this.fire("will-show")),this.bound|=1)}unbindEnter(){1&this.bound&&("click"===this.trigger||"mousedown"===this.trigger||"contextmenu"===this.trigger?T(this.el,this.trigger,this.triggerWithoutDelay,this):"hover"===this.trigger?T(this.el,"mouseenter",this.triggerWithDelay,this):"focus"===this.trigger&&T(this.el,"focus",this.triggerWithDelay,this),this.bound&=-2)}triggerWithoutDelay(t){let e=t.target;this.matchSelector&&!e.closest(this.matchSelector)||(t.preventDefault(),t.stopPropagation(),this.latestTriggerEvent=t,this.toggleShowHide())}triggerWithDelay(t){let e=t.target;this.matchSelector&&!e.closest(this.matchSelector)||(t.stopPropagation(),this.latestTriggerEvent=t,this.fire("will-show"))}toggleShowHide(){this.fire("toggle-show-hide")}bindLeaveBeforeShow(){4&this.bound||("hover"===this.trigger&&D(this.el,"mouseleave",this.cancelShowPopup,this),this.bound|=4)}unbindLeaveBeforeShow(){4&this.bound&&("hover"===this.trigger&&T(this.el,"mouseleave",this.cancelShowPopup,this),this.bound&=-5)}cancelShowPopup(){this.fire("cancel-show")}bindLeave(t,e){this.unbindLeaveBeforeShow(),this.content=e,2&this.bound||("hover"===this.trigger?Ve()?this.bindMouseLeave(t,e):R(document,"touchstart",this.onDocMouseDownOrTouch,this):"click"===this.trigger||"contextmenu"===this.trigger?(R(document,"mousedown",this.onDocMouseDownOrTouch,this),R(document,"wheel",this.onDocMouseWheel,this,{passive:!0})):"focus"===this.trigger&&R(this.el,"blur",this.hidePopupLater,this),this.bound|=2)}bindMouseLeave(t,e){this.unwatchLeave=function(t,e,i,n){let s=new on(t,e,i,n);return()=>s.cancel()}(this.el,e,(()=>{this.fire("immediate-hide")}),{delay:t,mouseIn:!0})}onDocMouseDownOrTouch(t){let e=t.target;this.content&&this.content.contains(e)||this.fire("will-hide")}onDocMouseWheel(t){let e=t.target;this.content?.contains(e)||this.fire("will-hide")}hidePopupLater(){this.fire("will-hide")}unbindLeave(){2&this.bound&&("hover"===this.trigger?Ve()?this.unwatchLeave&&(this.unwatchLeave(),this.unwatchLeave=null):T(document,"touchstart",this.onDocMouseDownOrTouch,this):"click"===this.trigger||"contextmenu"===this.trigger?(T(document,"mousedown",this.onDocMouseDownOrTouch,this),T(document,"wheel",this.onDocMouseWheel,this)):"focus"===this.trigger&&T(this.el,"blur",this.hidePopupLater,this),this.bound&=-3)}clear(){this.unbindEnter(),this.unbindLeave(),this.unbindLeaveBeforeShow(),this.content=null}}const cs={position:"b",gaps:0,edgeGaps:0,stickToEdges:!0,flipDirection:"auto",fixedTriangle:!1,followEvents:!1,trigger:"hover",showDelay:0,hideDelay:100,showImmediately:!1,autoFocus:!1,pointable:!0,cacheable:!1,keepVisible:!1};class ps{el;context;state;binder;options=cs;renderer=null;updateComplete=null;persistVisible=!1;rendered=null;popup=null;aligner=null;constructor(t,e){this.el=t,this.context=e,this.binder=new ds(this.el),this.state=new hs,this.initEvents()}get opened(){return this.state.opened}afterConnectCallback(){this.binder.setTriggerType(this.options.trigger),this.binder.setMatchSelector(this.options.matchSelector),this.binder.bindEnter(),this.shouldShowImmediately()&&this.showPopupLater()}beforeDisconnectCallback(){this.opened&&this.hidePopup()}shouldShowImmediately(){return!!this.renderer&&this.options.showImmediately}shouldKeepVisible(){return!!this.renderer&&this.options.keepVisible}initEvents(){this.binder.on("will-show",this.onWillShow,this),this.binder.on("will-hide",this.onWillHide,this),this.binder.on("cancel-show",this.onCancelShow,this),this.binder.on("immediate-hide",this.onImmediateHide,this),this.binder.on("toggle-show-hide",this.onToggleShowHide,this),this.state.on("do-show",this.doShowPopup,this),this.state.on("do-hide",this.doHidePopup,this)}onWillShow(){this.showPopupLater()}onWillHide(){this.shouldKeepVisible()||this.hidePopupLater()}onCancelShow(){this.opened?this.hidePopup():this.state.willNotShow()}onImmediateHide(){this.shouldKeepVisible()||this.hidePopup()}onToggleShowHide(){this.opened?this.state.hide():this.state.show()}showPopupLater(){if(!this.renderer)return;let t=this.options.showDelay,e=this.options.key;e&&function(t){let e=os(t);if(!e)return!1;let i=ss.get(e);return!!i&&i.opened}(e)&&(t=0),"click"!==this.binder.trigger&&"focus"!==this.binder.trigger||(t=0),this.state.willShow(t)&&this.binder.bindLeaveBeforeShow()}showPopup(){this.renderer&&this.state.show()}async doShowPopup(){this.renderer&&(this.options.onOpenedChange?.(!0),nn(this.el),await this.createPopupAndUntilUpdated(),this.opened&&(this.appendPopup(),this.alignPopup(),this.binder.bindLeave(this.options.hideDelay,this.popup.el)))}hidePopupLater(){let t=this.options.hideDelay;this.state.willHide(t)}hidePopup(){this.state.hide()}doHidePopup(){var t;this.options.onOpenedChange?.(!1),this.aligner?.stop(),this.binder.unbindLeave(),t=this.el,Ri.deleteOf(t),Ri.hasKey(t),sn(this.el),this.popup?.remove(!0),this.rendered?.remove()}update(t,e={}){this.renderer=t,this.options={...cs,...e},!this.opened&&this.shouldKeepVisible()?(this.persistVisible=!0,this.showPopupLater()):this.opened&&this.persistVisible&&!this.shouldKeepVisible()?(this.persistVisible=!1,this.hidePopup()):this.opened&&t&&this.updatePopupAndUntil()}async updatePopupAndUntil(){if(this.updateComplete)return this.updateComplete;let{promise:t,resolve:e}=et();this.updateComplete=t,await Promise.resolve(),await this.updatePopup(),this.updateComplete=null,e()}async updatePopup(){let t=this.rendered;if(t.renderer=this.renderer,t.context=this.context,dt(t,"renderer","context"),await t.connectManually(),await yt(),!this.opened)return;let e=t.getAs(Vs);e?(e!==this.popup&&(this.popup=e,function(t,e){rs.set(t,e)}(e,this)),this.opened&&(e.triangleDirection=qi.getAnchorFaceDirection(this.options.position).opposite.toBoxOffsetKey(),e.el.style.pointerEvents=this.options.pointable?"":"none",dt(e,"triangleDirection"))):this.hidePopup()}async createPopupAndUntilUpdated(){let t=this.rendered;if(t)this.options.key&&function(t,e){let i=os(t);if(!i)return;let n=ss.get(i);!n||n===e||(ls(i),n.clearPopup())}(this.options.key,this);else{let e=this.options.key?function(t){let e=os(t);if(!e)return null;let i=ss.get(e);return i&&(ls(e),i.clearPopup()),e}(this.options.key):null;e?t=e:(t=At(this.renderer,this.context),this.options.key&&function(t,e){ns.add(t,e)}(this.options.key,t)),this.rendered=t,function(t,e){ss.set(t,e)}(t,this)}await this.updatePopupAndUntil()}appendPopup(){if(!this.opened)return;let t=!document.body.contains(this.popup.el);this.popup.appendTo(document.body,t),this.mayGetFocus()}onElIntersectionChanged(t){0===t.intersectionRatio?this.hidePopup():this.alignPopup()}alignPopup(){if(!this.opened)return;this.options.onWillAlign?.(this.popup);let t=this.getAlignAnchorElement();if(this.aligner&&this.aligner.anchor===t&&this.aligner.target===this.popup.el||(this.aligner=new qi(this.popup.el,this.getAlignerOptions())),this.options.followEvents){let t=this.binder.getLatestTriggerEvent();t&&this.aligner.alignToEvent(t)}else this.aligner.alignTo(t)}getAlignAnchorElement(){return this.options.alignTo?"function"==typeof this.options.alignTo?this.options.alignTo(this.el)??this.el:this.el.querySelector(this.options.alignTo)??this.el:this.el}getAlignerOptions(){let t=this.popup.el.querySelector("[class*='triangle']"),e=this.shouldKeepVisible();return{position:this.options?.position,gaps:this.options?.gaps,edgeGaps:this.options?.edgeGaps,stickToEdges:this.options?.stickToEdges&&!e,flipDirection:this.options?.flipDirection,fixedTriangle:this.options?.fixedTriangle,triangle:t??void 0}}mayGetFocus(){let t=this.binder.trigger,e=this.popup.el;this.options.autoFocus&&"hover"!==t&&"focus"!==t&&e.tabIndex>=0&&e.focus()}canPopupReuse(){return!(!this.options.key||this.shouldKeepVisible()&&this.opened)}clearPopup(){this.opened&&this.hidePopup(),this.popup&&function(t){rs.delete(t)}(this.popup),this.rendered=null,this.popup=null,this.aligner=null}}const us=new t("<div>\x3c!----\x3e\x3c!----\x3e</div>"),gs=new d((function(){let t,i,n,s,r=us.make(),o=r.content.firstChild,l=o.firstChild,a=o.lastChild,h=new qs(o),d=new Wt(o),c=new m(new e(1,a));return h.$applyRestSlotRangeNodes(l,a),{el:r,position:new e(1,o),update(e){t!==e[0]&&(d.updateString(e[0]),t=e[0]),i!==e[1]&&(h.type=e[1],i=e[1],dt(h,"type")),n!==e[2]&&(h.size=e[2],n=e[2],dt(h,"size")),s!==e[3]&&(c.update(e[3]),s=e[3])},parts:[[h,1],[c,0]]}})),fs={key:"tooltip",position:"r",gaps:1,stickToEdges:!0,showDelay:0,hideDelay:200,type:"default",size:"default"};class ms extends ps{update(t,e={}){e={...fs,...e},super.update(t?this.popupRenderer.bind(this,t):null,e)}popupRenderer(t){let e="function"==typeof t?t.call(this.context):t;return new f(gs,[this.options.className??"",this.options.type,this.options.size,e],this)}shouldShowImmediately(){return!!this.renderer&&(this.options.showImmediately||"prompt"===this.options.type||"error"===this.options.type)}shouldKeepVisible(){return!!this.renderer&&(this.options.keepVisible||"prompt"===this.options.type||"error"===this.options.type)}}const ws={key:"contextmenu",followEvents:!0,trigger:"contextmenu",position:"br",showDelay:0,hideDelay:100};class vs extends ps{update(t,e={}){e={...ws,...e},super.update(t,e)}}const ys=new WeakMap;function xs(t){return ys.get(t)}const bs={padding:1};class Cs{onUpdate;rect;options;lastUpdateTime=0;edgeDistanceVector=new di(0,0);frameLoop;constructor(t,e={}){this.options={...bs,...e},this.rect=vi.fromLike(t.getBoundingClientRect()).expandSelf(-this.options.padding),this.frameLoop=new Jt(this.onAnimationFrame.bind(this))}onAnimationFrame(t){let e=t-this.lastUpdateTime;this.lastUpdateTime=t,this.onUpdate(this.edgeDistanceVector,e)}updateEvent(t){let e=this.rect,i=new di(0,0),n=Fe(t);n.x<e.x?i.x=n.x-e.x:n.x>e.right&&(i.x=n.x-e.right),n.y<e.y?i.y=n.y-e.y:n.y>e.bottom&&(i.y=n.y-e.bottom),this.edgeDistanceVector=i,this.updateFrameLoop(i)}updateFrameLoop(t){t.getLength()>0?this.frameLoop.running||(this.lastUpdateTime=0,this.frameLoop.start()):this.frameLoop.running&&this.frameLoop.cancel()}end(){this.frameLoop.cancel()}}class Ss{dragging;draggingEl;startStyleText=null;translate={x:0,y:0};scroller=null;scrollDirection=null;scrollerPosition=0;edgeTimer=null;constructor(t,e,i,n){this.dragging=t,this.draggingEl=e,this.setBaseDraggingStyle(n),i&&("order"===t.mode&&(this.startStyleText=this.draggingEl.style.cssText),this.setAdditionalDraggingStyle()),t.options.canCauseScrolling&&this.initScroller()}setBaseDraggingStyle(t){document.body.style.cursor="grabbing",document.body.style.userSelect="none";let e=$e(this.draggingEl,"marginLeft"),i=$e(this.draggingEl,"marginTop");this.draggingEl.style.left=t.x-e+"px",this.draggingEl.style.top=t.y-i+"px"}setAdditionalDraggingStyle(){"tr"!==this.draggingEl.localName&&(this.draggingEl.style.position="fixed"),this.draggingEl.style.zIndex="9999",this.draggingEl.style.boxShadow="0 0 var(--popup-shadow-blur-radius) var(--popup-shadow-color)",this.draggingEl.style.pointerEvents="none",this.draggingEl.style.willChange="transform"}initScroller(){let t=function(t){for(;t;){let e=Oe(t);if(null!==e)return{wrapper:t,direction:e};t=t.parentElement}return null}(this.dragging.el);t&&(this.scroller=t.wrapper,this.scrollDirection=t.direction,this.scrollerPosition="vertical"===this.scrollDirection?this.scroller.scrollTop:"horizontal"===this.scrollDirection?this.scroller.scrollLeft:0,this.edgeTimer=new Cs(this.scroller,{padding:0}),this.edgeTimer.onUpdate=this.onEdgeTimerUpdate.bind(this))}onEnterDrag(t){}onEnterDrop(t){}onLeaveDrop(t){}translateDraggingElement(t,e){this.translate=t,this.draggingEl.style.transform=`translate(${t.x}px, ${t.y}px)`,this.edgeTimer?.updateEvent(e)}canDrop(){return!0}getInsertIndex(){return-1}onEdgeTimerUpdate(t,e){if(this.scroller)if("vertical"===this.scrollDirection){if(0!==t.y){let i=this.scroller.clientHeight,n=this.scroller.scrollHeight,s=this.scrollerPosition+this.getIncrementalMovement(t.y,e);s=Math.max(s,0),s=Math.min(s,n-i),s!==this.scrollerPosition&&(this.scrollerPosition=s,this.scroller.scrollTop=s)}}else if("horizontal"===this.scrollDirection&&0!==t.x){let i=this.scroller.clientWidth,n=this.scroller.scrollWidth,s=this.scrollerPosition+this.getIncrementalMovement(t.x,e);s=Math.max(s,0),s=Math.min(s,n-i),s!==this.scrollerPosition&&(this.scrollerPosition=s,this.scroller.scrollLeft=s)}}getIncrementalMovement(t,e){return t*e/16.66}async endDragging(){this.clearDraggingStyle()}clearDraggingStyle(){document.body.style.cursor="",document.body.style.userSelect="",this.startStyleText&&(this.draggingEl.style.cssText=this.startStyleText)}}class ks extends Ss{autoLayout;movedElements=new Set;translatedElements=new Set;outerWidth;outerHeight;placeholder;startDrop;draggingTo=null;activeDrop=null;draggingToRect=null;draggingToIndex=-1;itemsAlignDirection="vertical";slideSiblings=null;slideOnlyEnteringSiblingData=null;constructor(t,e){let i=t.el.getBoundingClientRect(),n=t.el.cloneNode();super(t,t.el,!0,i),this.startDrop=this.activeDrop=e,this.itemsAlignDirection=e?.options.itemsAlignDirection??"vertical",this.autoLayout="absolute"!==Ie(this.draggingEl,"position"),this.outerWidth=function(t){let e=t.offsetWidth;return e?e+$e(t,"marginLeft")+$e(t,"marginRight"):0}(this.draggingEl),this.outerHeight=function(t){let e=t.offsetHeight;return e?e+$e(t,"marginTop")+$e(t,"marginBottom"):0}(this.draggingEl),this.prepareSiblings(),this.placeholder=this.initPlaceholder(n,i),e&&this.insertPlaceholder(e,!1)}setAdditionalDraggingStyle(){super.setAdditionalDraggingStyle();let t=this.draggingEl.getBoundingClientRect();this.draggingEl.style.width=t.width+"px",this.draggingEl.style.height=t.height+"px"}prepareSiblings(){if(!this.dragging.options.slideOnly)return;let t=[...this.dragging.el.parentElement.children].filter((t=>t!==this.dragging.el&&xs(t)));this.slideSiblings=t.map((t=>xs(t)))}initPlaceholder(t,e){return t.style.visibility="hidden",t.style.width=e.width+"px",t.style.height=e.height+"px",t}insertPlaceholder(t,e){if(this.startDrop===t)for(let t of this.walkSiblingsAfter(this.draggingEl))this.moveElement(t,1,e);t.el.append(this.placeholder)}*walkSiblingsAfter(t){for(let e=t.nextElementSibling;e;e=e.nextElementSibling)yield e}moveElement(t,e,i){if(t===this.draggingEl)return;let n="horizontal"===this.itemsAlignDirection?this.outerWidth:this.outerHeight,s=e;this.autoLayout||this.draggingEl.compareDocumentPosition(t)!==t.DOCUMENT_POSITION_FOLLOWING||(s-=1);let r="vertical"===this.itemsAlignDirection?"translateY":"translateX",o=0!==s?`${r}(${s*n}px)`:"none";i?this.playTransitionTo(t,{transform:o}):t.style.transform=o,e?this.movedElements.add(t):this.movedElements.delete(t),s?this.translatedElements.add(t):this.translatedElements.delete(t)}async playTransitionTo(t,e){let i=new ee(t,{duration:this.dragging.options.transitionDuration??ee.DefaultOptions.duration,easing:this.dragging.options.transitionEasing??ee.DefaultOptions.easing});t.style.pointerEvents="none",await i.playTo(e,!0)&&(t.style.pointerEvents="")}onEnterDrag(t){if(!this.activeDrop)return;let e=new Set([t.el,...this.walkSiblingsAfter(t.el)]);e.delete(this.draggingEl),e.delete(this.placeholder),this.movedElements.has(t.el)&&e.delete(t.el);for(let t of this.movedElements)e.has(t)||this.moveElement(t,0,!0);for(let t of e)this.movedElements.has(t)||this.moveElement(t,1,!0);this.draggingTo=t,this.draggingToRect=t.el.getBoundingClientRect(),this.draggingToIndex=this.calcDraggingToIndex(t,e.has(t.el))}calcDraggingToIndex(t,e){let i=this.startDrop===this.activeDrop,n=t.index;return i&&n>this.dragging.index?e?n-1:n:e?n:n+1}translateDraggingElement(t){this.translate=t,this.dragging.options.slideOnly?"vertical"===this.itemsAlignDirection?this.draggingEl.style.transform=`translateY(${t.y}px)`:this.draggingEl.style.transform=`translateX(${t.x}px)`:this.draggingEl.style.transform=`translate(${t.x}px, ${t.y}px)`,this.dragging.options.slideOnly&&this.testForEnteringSibling()}testForEnteringSibling(){let t=vi.fromLike(this.draggingEl.getBoundingClientRect()),e=this.slideSiblings,i=!1;for(let n of e){let e=vi.fromLike(n.el.getBoundingClientRect());if(t.isIntersectWithAtHV(e,this.itemsAlignDirection)){if(i=!0,n===this.slideOnlyEnteringSiblingData)break;if("none"===Ie(n.el,"pointerEvents"))break;this.onEnterDrag(n),this.slideOnlyEnteringSiblingData=n;break}}i||(this.slideOnlyEnteringSiblingData=null)}onEnterDrop(t){this.activeDrop=t,this.itemsAlignDirection=t.options.itemsAlignDirection??"vertical",this.insertPlaceholder(t,!0)}onLeaveDrop(t){if(t===this.activeDrop){for(let t of this.movedElements)this.moveElement(t,0,!0);this.activeDrop=null,this.draggingTo=null,this.draggingToRect=null,this.draggingToIndex=-1}}canDrop(){return!!(this.draggingTo||this.activeDrop&&this.startDrop!==this.activeDrop)}getInsertIndex(){return this.draggingToIndex}async endDragging(){this.canDrop()?(await this.transitionDraggingElementToDropArea(),this.draggingEl.style.transform=""):(this.activeDrop!==this.startDrop&&this.moveSiblingsToGiveSpace(!0),await this.playTransitionTo(this.draggingEl,{transform:"none"})),this.restoreMovedElements(!1),this.clearDraggingStyle()}async transitionDraggingElementToDropArea(){let t=this.draggingEl.getBoundingClientRect(),e=this.draggingToRect||this.placeholder.getBoundingClientRect(),i=e.left-t.left+this.translate.x,n=e.top-t.top+this.translate.y;"horizontal"===this.itemsAlignDirection?(this.dragging.index<this.draggingToIndex&&(i=e.right-t.right+this.translate.x),this.dragging.options.slideOnly&&(n=0)):(this.dragging.index<this.draggingToIndex&&(n=e.bottom-t.bottom+this.translate.y),this.dragging.options.slideOnly&&(i=0));let s=`translate(${i}px, ${n}px)`;await this.playTransitionTo(this.draggingEl,{transform:s})}moveSiblingsToGiveSpace(t){for(let e of this.walkSiblingsAfter(this.draggingEl))this.moveElement(e,1,t)}restoreMovedElements(t){for(let e of this.translatedElements.keys())t?this.playTransitionTo(e,{transform:"none"}):e.style.transform="";this.movedElements.clear(),this.translatedElements.clear(),this.placeholder.remove()}}class Rs{dragging=null;movement=null;enteredDroppable=new Set;followElementRendered=null;followElement=null;activeDrop=null;async startDragging(t,e){this.dragging=t;let i=null;for(let e of[...this.enteredDroppable])if(document.contains(e.el)){if(e.options.name===t.options.name||Array.isArray(t.options.name)&&t.options.name.includes(e.options.name)){i=e;break}}else this.enteredDroppable.delete(e);if(i?.fireEnter(this.dragging),this.activeDrop=i,"order"===this.dragging.mode)this.movement=new ks(this.dragging,i);else{let i=!this.dragging.options.followElementRenderer,n=null,s=function(t){let e=Ae(t);return e?new DOMPoint(e.pageX,e.pageY):new DOMPoint(0,0)}(e);if(this.dragging.options.followElementRenderer){let t=this.followElementRendered=At(this.dragging.options.followElementRenderer);await t.connectManually(),n=t.el.firstElementChild??this.dragging.el.cloneNode(!0)}else n=this.dragging.el.cloneNode(!0);if(t.options.draggingClassName&&n.classList.add(t.options.draggingClassName),t.options.persistStyleProperties)for(let e of t.options.persistStyleProperties)n.style.setProperty(e,Ie(this.dragging.el,e));document.body.append(n),this.followElement=n,this.movement=new Ss(this.dragging,n,i,s)}}translateDraggingElement(t,e){this.movement?.translateDraggingElement(t,e)}enterDrag(t){this.canEnterToSwapWith(t)&&this.movement?.onEnterDrag(t)}canEnterToSwapWith(t){return!(!this.dragging||"order"!==this.dragging.mode||this.dragging.options.name!==t.options.name||this.dragging===t)}enterDrop(t){this.enteredDroppable.add(t),this.canDropTo(t)&&(t.fireEnter(this.dragging),this.activeDrop=t,this.movement?.onEnterDrop(t))}canDropTo(t){let e=this.dragging;if(!e)return!1;if(Array.isArray(e.options.name)){if(!e.options.name.includes(t.options.name))return!1}else if(e.options.name!==t.options.name)return!1;return e.el!==t.el&&!(t.options.canDrop&&!t.options.canDrop(e.data))}leaveDrop(t){"order"===this.dragging?.mode&&this.dragging?.options.slideOnly||(this.enteredDroppable.delete(t),this.activeDrop===t&&(t.fireLeave(this.dragging),this.movement?.onLeaveDrop(t),this.activeDrop=null))}async endDragging(){if(!this.dragging)return;let t=this.dragging,e=this.movement,i=this.activeDrop;if(this.dragging=null,this.movement=null,this.activeDrop=null,i&&this.enteredDroppable.delete(i),this.followElementRendered&&(this.followElementRendered.remove(),this.followElementRendered=null),this.followElement&&(this.followElement.remove(),this.followElement=null),e){let n=e.canDrop()&&i,s=e.getInsertIndex();await e.endDragging(),n&&i.fireDrop(t,s)}}}const Ds=new Rs,Ps={name:"",canCauseScrolling:!1};class Ts{el;context;options=Ps;data=null;connected=!1;inHanding=!1;inDragging=!1;startPosition=null;constructor(t,e){this.el=t,this.context=e}afterConnectCallback(){var t;this.connected||(t=this,ys.set(t.el,t),R(this.el,"mousedown",this.onMouseDown,this),R(this.el,"mouseenter",this.onMouseEnter,this),this.el.setAttribute("draggable","false"),this.connected=!0)}beforeDisconnectCallback(t){1&t&&(T(this.el,"mousedown",this.onMouseDown,this),T(this.el,"mouseenter",this.onMouseEnter,this),this.endDragging(),this.el.removeAttribute("draggable"),this.connected=!1)}onMouseDown(t){this.options.matchSelector&&!t.target.closest(this.options.matchSelector)||(t.preventDefault(),this.inHanding=!0,this.inDragging=!1,this.startPosition=Fe(t),R(document,"mousemove",this.onMouseMove,this),R(document,"mouseup",this.onMouseUp,this))}onMouseMove(t){let e=Fe(t),i={x:e.x-this.startPosition.x,y:e.y-this.startPosition.y},n=Math.sqrt(i.x**2+i.y**2);!this.inDragging&&n>5&&(this.options.onStart?.call(this.context,t),t.defaultPrevented?this.endDragging():(Ds.startDragging(this,t),this.startPosition=e,this.inDragging=!0,i.x=0,i.y=0)),this.inDragging&&Ds.translateDraggingElement(i,t)}onMouseUp(){this.endDragging()}endDragging(){if(this.inHanding&&(T(document,"mousemove",this.onMouseMove,this),T(document,"mouseup",this.onMouseUp,this),this.inHanding=!1),this.inDragging){let t=Ds.activeDrop;Ds.endDragging(),this.options.draggingClassName&&this.el.classList.remove(this.options.draggingClassName),this.options.onEnd?.call(this.context,t)}}onMouseEnter(){Ds.enterDrag(this)}}const Ms={name:"",slideOnly:!1,canCauseScrolling:!1};class Es extends Ts{mode="order";options=Ms;index=-1;update(t,e,i={}){this.data=t,this.index=e,this.options={...Ms,...i}}}const Ns={name:"",fileDroppable:!1};class Ls{el;context;options=Ns;dropCallback;connected=!1;constructor(t,e){this.el=t,this.context=e}afterConnectCallback(){this.connected||(R(this.el,"mouseenter",this.onMouseEnter,this),this.options.fileDroppable&&(R(this.el,"dragover",this.onDragOver,this),R(this.el,"dragenter",this.onDragEnter,this),R(this.el,"drop",this.onDrop,this)),this.connected=!0)}beforeDisconnectCallback(t){1&t&&(T(this.el,"mouseenter",this.onMouseEnter,this),this.options.fileDroppable&&(T(this.el,"dragover",this.onDragOver,this),T(this.el,"dragenter",this.onDragEnter,this),T(this.el,"drop",this.onDrop,this)),this.connected=!1)}update(t,e={}){this.dropCallback=t,this.options={...Ns,...e}}onMouseEnter(){Ds.enterDrop(this),D(this.el,"mouseleave",this.onMouseLeave,this)}onDragEnter(t){t.stopPropagation(),this.canDropByDragEvent(t)&&(t.preventDefault(),this.options.fileDropEffect&&(t.dataTransfer.dropEffect=this.options.fileDropEffect),this.mayAddEnterClassName(),this.options.onEnter&&this.options.onEnter(t.dataTransfer),R(this.el,"dragleave",this.onDragLeave,this))}canDropByDragEvent(t){return!(!this.isFileItemExisting(t)||this.options.canDrop&&!this.options.canDrop(t.dataTransfer))}isFileItemExisting(t){if(!t.dataTransfer?.items)return!1;for(let e of t.dataTransfer.items)if("file"===e.kind)return!0;return!1}mayAddEnterClassName(){if(this.options.enterClassName){let t=this.getElementToApplyEnterStyle();t?.classList.add(this.options.enterClassName)}}mayRemoveEnterClassName(){if(this.options.enterClassName){let t=this.getElementToApplyEnterStyle();t?.classList.remove(this.options.enterClassName)}}getElementToApplyEnterStyle(){let t=this.el;return this.options.enterClassNameApplyTo&&(t=t.closest(this.options.enterClassNameApplyTo)),t}onDragOver(t){t.stopPropagation(),this.canDropByDragEvent(t)&&(t.preventDefault(),this.options.fileDropEffect&&(t.dataTransfer.dropEffect=this.options.fileDropEffect))}onDragLeave(t){t.stopPropagation(),this.el.contains(t.relatedTarget)&&this.el!==t.relatedTarget||(this.mayRemoveEnterClassName(),this.options.onLeave&&this.options.onLeave(t.dataTransfer))}onDrop(t){t.preventDefault(),this.mayRemoveEnterClassName(),this.dropCallback.call(this.context,t.dataTransfer,0),T(this.el,"dragleave",this.onDragLeave,this)}fireEnter(t){this.mayAddEnterClassName(),this.options.onEnter&&this.options.onEnter(t.data)}onMouseLeave(){Ds.leaveDrop(this)}fireLeave(t){this.mayRemoveEnterClassName(),this.options.onLeave&&this.options.onLeave(t.data)}fireDrop(t,e){this.mayRemoveEnterClassName(),this.dropCallback.call(this.context,t.data,e)}}const zs=new t("<svg><path></path></svg>"),Is=new d((function(t){let i,n,s,r,o,l,a=zs.make(),h=t.el,d=a.content.firstChild,c=d.firstChild,p=new Ht(h);return h.classList.add("triangle"),{el:a,position:new e(1,d),update(t){i===t[0]&&n===t[1]||(p.updateString(t[0]+": "+t[1]+"px"),i=t[0],n=t[1]),s!==t[2]&&(d.setAttribute("viewBox",t[2]),s=t[2]),r!==t[3]&&(d.setAttribute("width",t[3]),r=t[3]),o!==t[4]&&(d.setAttribute("height",t[4]),o=t[4]),l!==t[5]&&(c.setAttribute("d",t[5]),l=t[5])}}}));class $s extends Ot{static SlotContentType=0;static style=Vt(".triangle{position:absolute;}.triangle svg{display:block;}.triangle path{stroke:none;fill:var(--popup-background-color);}","Triangle");width=10;height=6;direction="top";render(){let t=this.width,e=this.height,i="top"===this.direction||"bottom"===this.direction?t:e,n="top"===this.direction||"bottom"===this.direction?e:t,s=[0,0,i,n].join(" "),r=new DOMPoint(t/2,0),o=new DOMPoint(t,e),l=new DOMPoint(0,e),a="left"===this.direction?270:"bottom"===this.direction?180:"right"===this.direction?90:0,h=new DOMMatrix;h.rotateSelf(0,0,a),r=r.matrixTransform(h),o=o.matrixTransform(h),l=l.matrixTransform(h);let d=Math.max(0,-o.x),c=Math.max(0,-o.y);r.x+=d,r.y+=c,o.x+=d,o.y+=c,l.x+=d,l.y+=c;let p=`M${r.x} ${r.y} L${o.x} ${o.y} L${l.x} ${l.y}Z`;return ht(this,"width","height","direction"),new f(Is,[this.direction,-this.height,s,i,n,p],this)}}const Bs=new t("\x3c!----\x3e<slot></slot>"),Os=new d((function(t){let i=Bs.make(),n=t.el,s=i.content.firstChild,r=i.content.lastChild,o=new pe(n,t,["immediate"]),l=new m(new e(1,r)),a=new fe(l);return r.append(...t.$getRestSlotNodes()),n.classList.add("popup"),n.setAttribute("tabindex","0"),o.update(ae()),{el:i,position:new e(1,s),update(t){a.update(t[0])},parts:[[o,2],[l,1]]}})),As=new t("<div></div>"),Fs=new d((function(){let t,i=As.make(),n=i.content.firstChild,s=new $s(n);return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.direction=e[0],t=e[0],dt(s,"direction"))},parts:[[s,1]]}}));class Vs extends Ot{static style=Vt(".popup{position:absolute;left:0;top:0;background:var(--popup-background-color);border-radius:var(--popup-border-radius);width:max-content;max-width:100vw;max-height:100vh;z-index:1000;filter:drop-shadow(0 0 calc(var(--popup-shadow-blur-radius) / 2) var(--popup-shadow-color));}","Popup");triangle=!0;triangleDirection="top";getTriggerElement(){let t=as(this);return t?t.el:null}render(){return ht(this,"triangle"),new f(Os,[this.triangle?(ht(this,"triangleDirection"),new f(Fs,[this.triangleDirection],this)):null],this)}close(){let t=as(this);t&&t.hidePopup()}}const Ws=new t('\x3c!----\x3e<div class="tooltip-text"><slot></slot></div>\x3c!----\x3e'),Ks=new d((function(t){let i,n,s=Ws.make(),r=t.el,o=s.content.firstChild,l=s.content.childNodes[1],a=l.firstChild,h=s.content.lastChild,d=new Wt(r),c=new pe(r,t,["immediate"]),p=new m(new e(1,l)),u=new fe(p),g=new m(new e(1,h)),f=new fe(g);return a.append(...t.$getRestSlotNodes()),c.update(ae()),{el:s,position:new e(1,o),update(t){i===t[0]&&n===t[1]||(d.updateString("popup tooltip size-"+t[0]+" type-"+t[1]),i=t[0],n=t[1]),u.update(t[2]),f.update(t[3])},parts:[[c,2],[p,1],[g,1]]}})),_s=new t("<div></div>"),Us=new d((function(){let t,i=_s.make(),n=i.content.firstChild,s=new $s(n);return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.direction=e[0],t=e[0],dt(s,"direction"))},parts:[[s,1]]}})),Hs=new t('<div class="tooltip-close"><div></div></div>'),js=new d((function(t){let i=Hs.make(),n=i.content.firstChild,s=n.firstChild,r=new Wn(s);return n.addEventListener("click",t.close.bind(t)),r.icon=we,r.size="inherit",{el:i,position:new e(1,n),parts:[[r,0]]}}));class qs extends Vs{static SlotContentType=0;static style=Vt(".tooltip{display:flex;max-width:15em;padding:0.4em 0.8em;line-height:1.4;}.tooltip-text{flex:1;min-width:0;font-size:0.928em;}.tooltip-close{display:flex;width:1lh;height:1lh;margin-right:-0.4em;margin-left:0.2em;cursor:pointer;&:active{transform:translateY(1px);}.icon{margin:auto;}}.tooltip.type-default{background:color-mix(in srgb,var(--popup-background-color) 95%,var(--text-color));color:var(--text-color);.triangle path{fill:color-mix(in srgb,var(--popup-background-color) 95%,var(--text-color));}}.tooltip.type-prompt{background:var(--text-color);color:var(--background-color);pointer-events:auto;.triangle path{fill:var(--text-color);}}.tooltip.type-error{background:var(--error-color);color:#fff;.triangle path{fill:var(--error-color);}}","Tooltip");size="default";type="default";render(){return ht(this,"size","type","triangle"),new f(Ks,[this.size,this.type,this.triangle?(ht(this,"triangleDirection"),new f(Us,[this.triangleDirection],this)):null,"prompt"===this.type?new f(js,[],this):null],this)}}const Gs=new t('\x3c!----\x3e\x3c!----\x3e<div class="popover-content"><slot></slot></div>'),Ys=new d((function(t){let i,n,s=Gs.make(),r=t.el,o=s.content.firstChild,l=s.content.childNodes[1],a=s.content.lastChild,h=a.firstChild,d=new Wt(r),c=new pe(r,t,["immediate"]),p=new m(new e(1,l)),u=new fe(p),g=new m(new e(1,a));return h.append(...t.$getRestSlotNodes()),c.update(ae()),{el:s,position:new e(1,o),update(t){i!==t[0]&&(d.updateString("popup popover size-"+t[0]),i=t[0]),u.update(t[1]),n!==t[2]&&(g.update(t[2]),n=t[2])},parts:[[c,2],[p,1],[g,1]]}})),Xs=new t("<div></div>"),Js=new d((function(){let t,i=Xs.make(),n=i.content.firstChild,s=new $s(n);return n.classList.add("popover-triangle"),{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.direction=e[0],t=e[0],dt(s,"direction"))},parts:[[s,1]]}})),Qs=new t('<div class="popover-header">\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e</div>'),Zs=new d((function(){let t=Qs.make(),i=t.content.firstChild,n=i.firstChild,s=i.childNodes[1],r=i.lastChild,o=new m(new e(1,n)),l=new fe(o),a=new m(new e(1,s)),h=new fe(a),d=new m(new e(1,r)),c=new fe(d);return{el:t,position:new e(1,i),update(t){l.update(t[0]),h.update(t[1]),c.update(t[2])},parts:[[o,0],[a,0],[d,0]]}})),tr=new t('<div class="popover-title"> </div>'),er=new d((function(){let t,i=tr.make(),n=i.content.firstChild,s=n.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}})),ir=new t('<div class="popover-actions"><slot name="action"></slot></div>'),nr=new d((function(){let t=ir.make(),i=t.content.firstChild,n=i.firstChild,s=new m(new e(0,n),3);return{el:t,position:new e(1,i),update(t){s.update(t[0])},parts:[[s,0]]}})),sr=new t('<div class="popover-close"><div></div></div>'),rr=new d((function(t){let i=sr.make(),n=i.content.firstChild,s=n.firstChild,r=new Wn(s);return n.addEventListener("click",t.close.bind(t)),r.icon=we,{el:i,position:new e(1,n),parts:[[r,0]]}}));class or extends Vs{static SlotContentType=0;static style=Vt(".popover{padding:0.6em 1em;min-width:15em;max-width:30em;}.popover-triangle{left:1em;}.popover-header{display:flex;font-size:0.928em;padding-bottom:0.3em;border-bottom:1px solid color-mix(in srgb,var(--text-color) 80%,var(--background-color));margin-bottom:0.5em;}.popover-title{flex:1;min-width:0;font-weight:bold;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.popover-close{display:flex;width:2em;height:2em;margin-top:-0.2em;margin-right:-0.6em;cursor:pointer;&:active{transform:translateY(1px);}.icon{margin:auto;}}.popover-actions{margin-left:2em;.button{margin-left:0.4em;line-height:1.5em;padding:0 0.6em;}}.popover-content{line-height:1.5em;padding:0.2em 0;}","Popover");size="default";title="";closable=!1;render(){return ht(this,"size","triangle"),new f(Ys,[this.size,this.triangle?(ht(this,"triangleDirection"),new f(Js,[this.triangleDirection],this)):null,this.renderHead()],this)}renderHead(){return ht(this,"title"),this.title||(ht(this,"slotElements"),ht(this.slotElements,"action"),this.slotElements.action)?(ht(this,"slotElements","closable"),ht(this.slotElements,"action"),new f(Zs,[this.title?new f(er,[this.title],this):null,this.slotElements.action?new f(nr,[this.$getSlotElement("action")],this):null,this.closable&&!this.slotElements.action?new f(rr,[],this):null],this)):null}}const lr=new t("\x3c!----\x3e\x3c!----\x3e<slot></slot>"),ar=new d((function(t){let i,n,s=lr.make(),r=t.el,o=s.content.firstChild,l=s.content.childNodes[1],a=s.content.lastChild,h=new Wt(r),d=new pe(r,t,["immediate"]),c=new m(new e(1,l)),p=new fe(c),u=new m(new e(1,a));return a.append(...t.$getRestSlotNodes()),d.update(ae()),{el:s,position:new e(1,o),update(t){i!==t[0]&&(h.updateString("popup menu size-"+t[0]),i=t[0]),p.update(t[1]),n!==t[2]&&(u.update(t[2]),n=t[2])},parts:[[d,2],[c,1],[u,1]]}})),hr=new t("<div></div>"),dr=new d((function(){let t,i=hr.make(),n=i.content.firstChild,s=new $s(n);return n.classList.add("menu-triangle"),{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.direction=e[0],t=e[0],dt(s,"direction"))},parts:[[s,1]]}})),cr=new t('<div class="menu-header"><div class="menu-title"> </div></div>'),pr=new d((function(){let t,i=cr.make(),n=i.content.firstChild,s=n.firstChild.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}}));class ur extends Vs{static SlotContentType=0;static style=Vt(".menu{min-width:15em;max-width:30em;padding:0.6em 1em;.list{border-bottom:none;max-height:100%;overflow-y:auto;}}.menu-triangle{left:1em;}.menu-header{display:flex;font-size:0.928em;padding-bottom:0.4em;border-bottom:1px solid color-mix(in srgb,var(--text-color) 80%,var(--background-color));}.menu-title{flex:1;min-width:0;padding:0 1em 0 0;font-weight:bold;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","Menu");size="default";title="";render(){return ht(this,"size","triangle"),new f(ar,[this.size,this.triangle?(ht(this,"triangleDirection"),new f(dr,[this.triangleDirection],this)):null,this.renderHead()],this)}renderHead(){return ht(this,"title"),this.title?new f(pr,[this.title],this):null}}class gr{data=[];expanded=[];path=[];$current_computer=void 0;$compute_current(){return this.correctPath(),this.getCurrent()}get current(){return ht(this,"current"),this.$current_computer.get()}$reset_current(){dt(this,"current")}constructor(){this.$current_computer=new Dt(this.$compute_current,this.$reset_current,this),this.$current_computer.connect()}update(t,e){this.data=t,this.expanded=e,dt(this,"data")}correctPath(){let t=this.data;for(let e=0;e<this.path.length;e++){let{item:i,index:n}=this.path[e];if((n>=t.length||t[n]!==i)&&(n=t.indexOf(i)),-1===n){this.path=this.path.slice(0,e),dt(this,"path");break}if(!this.expanded.includes(i.value)){this.path=this.path.slice(0,e+1),dt(this,"path");break}if(!i.children)break;t=i.children}}getCurrent(){if(ht(this,"path"),ht(this.path,""),this.path.length>0){let t=this.path.length-1;return ht(this.path,t),ht(this.path[t],"item"),this.path[t].item}}getCurrentSiblings(){if(ht(this,"path"),ht(this.path,""),this.path.length>1){let t=this.path.length-2;return ht(this.path,t),ht(this.path[t],"item"),ht(this.path[t].item,"children"),this.path[t].item.children}return ht(this,"data"),this.data}moveUp(){if(this.correctPath(),0===this.path.length)return this.path=[{index:this.data.length-1,item:this.data[this.data.length-1]}],void dt(this,"path");let t=this.path[this.path.length-1],e=this.getCurrentSiblings();0===t.index?(t.index=e.length-1,t.item=e[e.length-1]):(t.index--,t.item=e[t.index]),dt(t,"index","item")}moveDown(){if(this.correctPath(),0===this.path.length)return this.path=[{index:0,item:this.data[0]}],void dt(this,"path");let t=this.path[this.path.length-1],e=this.getCurrentSiblings();t.index===e.length-1?(t.index=0,t.item=e[0]):(t.index++,t.item=e[t.index]),dt(t,"index","item")}moveLeft(){this.correctPath(),this.path.length>0?this.path.pop():(this.path=[{index:0,item:this.data[0]}],dt(this,"path"))}moveRight(){if(this.correctPath(),0===this.path.length)this.path=[{index:0,item:this.data[0]}],dt(this,"path");else{let t=this.getCurrent();t.children&&t.children.length>0&&(this.path.push({index:0,item:t.children[0]}),dt(this.path,""))}}clear(){this.path=[],dt(this,"path")}}const fr=new t("\x3c!----\x3e\x3c!----\x3e"),mr=new d((function(t){let i,n=fr.make(),s=t.el,r=n.content.firstChild,o=n.content.lastChild,l=new m(new e(1,o));return s.classList.add("list"),{el:n,position:new e(1,r),update(t){i!==t[0]&&(l.update(t[0]),i=t[0])},parts:[[l,1]]}})),wr=new d((function(t){let i,n=fr.make(),s=n.content.firstChild,r=n.content.lastChild,o=new m(new e(1,r),1),l=new ge(o);return l.updateRenderFn((e=>t.renderItemOrSplitter(e,i))),{el:n,position:new e(1,s),update(t){i=t[0],l.updateData(t[1])},parts:[[o,1]]}})),vr=new t('<div class="list-splitter"></div>'),yr=new d((function(){let t=vr.make(),i=t.content.firstChild;return{el:t,position:new e(1,i)}})),xr=new t("<div>\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e</div>\x3c!----\x3e"),br=new d((function(t){let i,n,s,o,l,a,h,d,c,p,u,g,f=xr.make(),w=f.content.firstChild,v=w.firstChild,y=w.childNodes[1],x=w.childNodes[2],b=w.lastChild,C=f.content.lastChild,S=new Wt(w),k=new Wt(w),R=new ms(w,t),D=new r,P=new vs(w,t),T=new r,M=new m(new e(1,v)),E=new m(new e(1,y)),N=new m(new e(1,x)),L=new m(new e(1,b)),z=new m(new e(1,C));return V(w,"click",["prevent"],(()=>t.onClickItem(g)),t),w.classList.add("list-item"),{el:f,position:new e(1,w),update(t){g=t[4],i!==t[0]&&(S.updateObject({selected:t[0]}),i=t[0]),n!==t[1]&&(k.updateObject({"arrow-selected":t[1]}),n=t[1]),t[2]&&o!==t[2]&&(R.update(t[2]),o=t[2]),t[2]&&!s?(D.update(R),s=t[2]):!t[2]&&s&&(D.update(null),s=t[2]),t[3]&&a!==t[3]&&(P.update(t[3],{matchSelector:".list-item"}),a=t[3]),t[3]&&!l?(T.update(P),l=t[3]):!t[3]&&l&&(T.update(null),l=t[3]),h!==t[5]&&(M.update(t[5]),h=t[5]),d!==t[6]&&(E.update(t[6]),d=t[6]),c!==t[7]&&(N.update(t[7]),c=t[7]),p!==t[8]&&(L.update(t[8]),p=t[8]),u!==t[9]&&(z.update(t[9]),u=t[9])},parts:[[D,1],[T,1],[M,0],[E,0],[N,0],[L,0],[z,1]]}})),Cr=new t('<div class="list-toggle-placeholder"><div></div></div>'),Sr=new d((function(t){let i,n,s=Cr.make(),r=s.content.firstChild,o=r.firstChild,l=new Wn(o);return V(r,"click",["stop"],(()=>t.toggleExpanded(n)),t),l.size="inherit",{el:s,position:new e(1,r),update(t){n=t[0],i!==t[1]&&(l.icon=t[1],i=t[1],dt(l,"icon"))},parts:[[l,0]]}})),kr=new t('<div class="list-toggle-placeholder"></div>'),Rr=new d((function(){let t=kr.make(),i=t.content.firstChild;return{el:t,position:new e(1,i)}})),Dr=new t('<div class="list-icon">\x3c!----\x3e</div>'),Pr=new d((function(){let t=Dr.make(),i=t.content.firstChild,n=i.firstChild,s=new m(new e(1,n)),r=new fe(s);return{el:t,position:new e(1,i),update(t){r.update(t[0])},parts:[[s,0]]}})),Tr=new t("<div></div>"),Mr=new d((function(){let t,i=Tr.make(),n=i.content.firstChild,s=new Wn(n);return s.size="inherit",{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.icon=e[0],t=e[0],dt(s,"icon"))},parts:[[s,1]]}})),Er=new t('<div class="list-content">\x3c!----\x3e</div>'),Nr=new d((function(){let t,i=Er.make(),n=i.content.firstChild,s=n.firstChild,r=new m(new e(1,s));return{el:i,position:new e(1,n),update(e){t!==e[0]&&(r.update(e[0]),t=e[0])},parts:[[r,0]]}})),Lr=new d((function(){let t=Tr.make(),i=t.content.firstChild,n=new Wn(i);return i.classList.add("list-selected-icon"),n.icon=me,n.size="inherit",{el:t,position:new e(1,i),parts:[[n,1]]}})),zr=new t('<div class="list-subsection">\x3c!----\x3e</div>'),Ir=new d((function(t){let i,n,s=zr.make(),r=s.content.firstChild,o=r.firstChild,l=new pe(r,t,["immediate"]),a=new m(new e(1,o));return{el:s,position:new e(1,r),update(t){i!==t[0]&&(l.update(t[0]),i=t[0]),n!==t[1]&&(a.update(t[1]),n=t[1])},parts:[[l,1],[a,0]]}}));class $r extends Ot{static SlotContentType=0;static*walkItems(t){if(yield t,ht(t,"children"),t.children)for(let e of t.children)e.hasOwnProperty("value")&&(yield*$r.walkItems(e))}static style=Vt(".list{display:block;border-bottom:1px solid color-mix(in srgb,var(--border-color) 30%,var(--background-color));}.list-splitter{height:1px;background:color-mix(in srgb,var(--border-color) 50%,var(--background-color));margin:2px 0;}.list-item{position:relative;display:flex;align-items:center;border-bottom:1px solid color-mix(in srgb,var(--border-color) 30%,var(--background-color));cursor:pointer;&:last-child{border-bottom:none;}&:hover{color:var(--primary-color);}&.selected{color:var(--primary-color);}&.arrow-selected{background-color:color-mix(in srgb,var(--primary-color) 10%,var(--background-color));}}.list-toggle-placeholder{display:flex;width:1.6em;opacity:0.7;align-items:center;}.list-icon{margin-right:0.2em;}.list-content{flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0.4em 0;padding-right:4px;}.list-selected-icon{margin:0 0 0 0.2em;}.list-subsection{padding-left:1.6em;padding-bottom:4px;overflow:hidden;font-size:0.928em;.list-item{border-top:none;line-height:calc(1lh - 2px);}.list-content{padding-top:0.3em;padding-bottom:0.3em;}.list-subsection{font-size:1em;padding-top:0;}.list-subsection:not(:last-child){padding-bottom:3px;margin-bottom:3px;border-bottom:1px solid color-mix(in srgb,var(--border-color) 50%,var(--background-color));}.list-subsection:last-child{padding-bottom:0;margin-bottom:0;}}","List");size="default";selectable=!1;multipleSelect=!1;dirSelectable=!0;data=[];textRenderer=null;selected=[];expanded=[];keyComeFrom=null;keyNavigator=new gr;latestExpandedOrCollapsed=null;inKeyNavigating=!1;onCreated(){super.onCreated(),this.$applyKeyNavigatorProperties_effector=new Pt(this.applyKeyNavigatorProperties,this),this.$onKeyComeFromChange_effector=new Pt(this.onKeyComeFromChange,this)}onConnected(){super.onConnected(),this.$applyKeyNavigatorProperties_effector.connect(),this.$onKeyComeFromChange_effector.connect()}onWillDisconnect(){super.onWillDisconnect(),this.$applyKeyNavigatorProperties_effector.disconnect(),this.$onKeyComeFromChange_effector.disconnect()}$applyKeyNavigatorProperties_effector=void 0;applyKeyNavigatorProperties(){this.keyNavigator.update(this.data,this.expanded),ht(this,"data","expanded")}render(){return ht(this,"data"),new f(mr,[this.renderItems(this.data)],this)}renderItems(t){let e=t.some((t=>(ht(t,"children"),t.children&&(ht(t.children,""),t.children.length>0))));return ht(t,""),new f(wr,[e,t],this)}renderItemOrSplitter(t,e){return t.hasOwnProperty("value")?this.renderItem(t,e):new f(yr,[],this)}renderItem(t,e){let i=this.hasExpanded(t),n=this.renderTooltip(t),s=this.renderContextmenu(t);return ht(this.keyNavigator,"current"),new f(br,[this.hasSelected(t),t===this.keyNavigator.current,n,s,t,this.renderItemPlaceholder(t,i,e),this.renderIcon(t),this.renderItemContent(t),this.renderSelectedIcon(t),this.renderSubsection(t,i)],this)}renderItemPlaceholder(t,e,i){let n=t.children;return ht(t,"children"),n&&(ht(n,""),n.length>0)?new f(Sr,[t,e?'<svg viewBox="0 0 15 15"><polygon style="fill:currentColor; stroke:none;" points="7,11 11,3 3,3"/></svg>':'<svg viewBox="0 0 15 15"><polygon style="fill:currentColor; stroke:none;" points="11,7 3,3 3,11"/></svg>'],this):i?new f(Rr,[],this):null}renderIcon(t){return ht(t,"icon"),void 0===t.icon?null:new f(Pr,[t.icon?new f(Mr,[t.icon],this):null],this)}renderTooltip(t){return ht(t,"tooltip"),t.tooltip}renderContextmenu(t){return null}renderItemContent(t){return new f(Nr,[this.renderText(t)],this)}renderText(t){return ht(this,"textRenderer"),this.textRenderer?this.textRenderer(t):(ht(t,"text"),t.text)}renderSelectedIcon(t){return this.hasSelected(t)?new f(Lr,[],this):null}renderSubsection(t,e){let i=t.children;return ht(t,"children"),i&&(ht(i,""),0!==i.length)&&e?new f(Ir,[()=>t.value===this.latestExpandedOrCollapsed?he():null,this.renderItems(i)],this):null}hasSelected(t){return ht(this,"selected"),ht(this.selected,""),ht(t,"value"),this.selected.includes(t.value)}hasExpanded(t){return ht(this,"expanded"),ht(this.expanded,""),ht(t,"value"),this.expanded.includes(t.value)}toggleExpanded(t){this.hasExpanded(t)?this.expanded.splice(this.expanded.indexOf(t.value),1):this.expanded.push(t.value),this.latestExpandedOrCollapsed=t.value,dt(this,"latestExpandedOrCollapsed"),dt(this.expanded,"")}onClickItem(t){!this.selectable||!this.dirSelectable&&t.children||(this.multipleSelect?(this.selected.includes(t.value)?this.selected.splice(this.selected.indexOf(t),1):this.selected.push(t.value),dt(this.selected,"")):(this.selected=[t.value],dt(this,"selected")),this.fire("select",this.selected)),this.fire("click",t.value)}async scrollSelectedToStart(t,e,i){let n=this.el.querySelector(".list-item.selected");return!!n&&gn(n,null,t,e,i)}async scrollSelectedToView(t,e,i){let n=this.el.querySelector(".list-item.selected");return!!n&&un(n,null,t,e,i)}expandDeeply(t){this.applyExpandedRecursively(this.data,t)}applyExpandedRecursively(t,e){return t.some((t=>t===e||(t.children&&this.applyExpandedRecursively(t.children,e)&&(this.hasExpanded(t)||(this.expanded.push(t.value),dt(this.expanded,""))),!1)))}lastKeyComeFrom=null;$onKeyComeFromChange_effector=void 0;onKeyComeFromChange(){ht(this,"keyComeFrom"),this.keyComeFrom&&(this.lastKeyComeFrom&&(T(this.lastKeyComeFrom,"keydown",this.keyNavigateByEvent,this),T(this.lastKeyComeFrom,"blur",this.onKeyComeFromBlur,this)),this.keyComeFrom&&(R(this.keyComeFrom,"keydown",this.keyNavigateByEvent,this),R(this.keyComeFrom,"blur",this.onKeyComeFromBlur,this)),this.lastKeyComeFrom=this.keyComeFrom)}keyNavigateByEvent(t){t.stopPropagation();let e=L(t);if("ArrowUp"!==e&&"ArrowDown"!==e||(this.inKeyNavigating=!0),"ArrowUp"===e)this.keyNavigator.moveUp();else if("ArrowDown"===e)this.keyNavigator.moveDown();else if("ArrowLeft"===e)this.inKeyNavigating&&this.keyNavigator.moveLeft();else if("ArrowRight"===e){if(this.inKeyNavigating){let t=this.keyNavigator.current;t&&!this.hasExpanded(t)&&t.children&&(this.toggleExpanded(t),this.keyNavigator.moveRight())}}else if("Enter"===e){if(this.inKeyNavigating){let t=this.keyNavigator.current;t&&this.onClickItem(t)}}else"Escape"===e&&(this.inKeyNavigating=!1,this.keyNavigator.clear())}onKeyComeFromBlur(){this.inKeyNavigating=!1,this.keyNavigator.clear()}}const Br=new t("<slot></slot><div></div>"),Or=new d((function(t){let i,n,s=Br.make(),r=t.el,o=s.content.firstChild,l=s.content.lastChild,a=new Wt(r),h=new ps(r,t),d=new Wn(l);return o.append(...t.$getRestSlotNodes()),r.classList.add("dropdown"),l.classList.add("dropdown-icon"),d.icon=ve,d.size="inherit",{el:s,position:new e(1,o),update(e){i!==e[0]&&(a.updateObject({opened:e[0]}),i=e[0]),n!==e[1]&&(h.update(t.renderPopup,e[1]),n=e[1])},parts:[[h,2],[d,1]]}}));class Ar extends Ot{static SlotContentType=0;static style=Vt(".dropdown{display:inline-flex;&.opened{.dropdown-icon{color:var(--primary-color);}}}","Dropdown");position=void 0;gaps=void 0;stickToEdges=void 0;flipDirection=void 0;fixedTriangle=void 0;key=void 0;alignTo=void 0;trigger=void 0;showDelay=void 0;hideDelay=void 0;showImmediately=void 0;autoFocus=void 0;pointable=void 0;cacheable=void 0;keepVisible=void 0;popupRenderer=null;binding=null;_opened=!1;get opened(){return ht(this,"_opened"),this._opened}set opened(t){t!==this.opened&&(t?this.binding?.showPopup():this.binding?.hidePopup())}onCreated(){super.onCreated(),this.$popupOptions_computer=new Dt(this.$compute_popupOptions,this.$reset_popupOptions,this)}onConnected(){super.onConnected(),this.$popupOptions_computer.connect()}onWillDisconnect(){super.onWillDisconnect(),this.$popupOptions_computer.disconnect()}render(){return ht(this,"popupOptions"),new f(Or,[this.opened,this.popupOptions],this)}$popupOptions_computer=void 0;$compute_popupOptions(){return ht(this,"position","gaps","stickToEdges","flipDirection","fixedTriangle","key","alignTo","trigger","showDelay","hideDelay","showImmediately","autoFocus","pointable","cacheable","keepVisible"),function(t){if(!t)return t;for(let e of Object.keys(t))null!==t[e]&&void 0!==t[e]||delete t[e];return t}({position:this.position,gaps:this.gaps,stickToEdges:this.stickToEdges,flipDirection:this.flipDirection,fixedTriangle:this.fixedTriangle,key:this.key,alignTo:this.alignTo,trigger:this.trigger,showDelay:this.showDelay,hideDelay:this.hideDelay,showImmediately:this.showImmediately,autoFocus:this.autoFocus,pointable:this.pointable,cacheable:this.cacheable,keepVisible:this.keepVisible,onOpenedChange:this.onPopupOpenedChange.bind(this),onWillAlign:this.onPopupWillAlign.bind(this)})}get popupOptions(){return ht(this,"popupOptions"),this.$popupOptions_computer.get()}$reset_popupOptions(){dt(this,"popupOptions")}renderPopup(){return ht(this,"popupRenderer"),"function"==typeof this.popupRenderer?this.popupRenderer():this.popupRenderer}onPopupOpenedChange(t){this._opened=t,dt(this,"_opened")}onPopupWillAlign(t){}}const Fr=new t("\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e"),Vr=new d((function(t){let i,n,s,r,o=Fr.make(),l=t.el,a=o.content.firstChild,h=o.content.childNodes[1],d=o.content.lastChild,c=new Wt(l),p=new Wt(l),u=new ps(l,t),g=new m(new e(1,h)),f=new m(new e(1,d),0),w=new fe(f);return l.addEventListener("click",t.onClick.bind(t)),l.classList.add("dropdown","select"),{el:o,position:new e(1,a),update(e){i!==e[0]&&(c.updateObject({opened:e[0]}),i=e[0]),n!==e[1]&&(p.updateObject({"cant-input":e[1]}),n=e[1]),s!==e[2]&&(u.update(t.renderPopup,e[2]),s=e[2]),r!==e[3]&&(g.update(e[3]),r=e[3]),w.update(e[4])},parts:[[u,2],[g,1],[f,1]]}})),Wr=new t("<div></div>"),Kr=new d((function(t){let i=Wr.make(),n=i.content.firstChild,s=new Wn(n);return V(n,"click",["stop"],t.clearInputtedText,t),n.classList.add("select-clear-icon"),s.icon=we,s.size="inherit",{el:i,position:new e(1,n),parts:[[s,1]]}})),_r=new d((function(){let t=Wr.make(),i=t.content.firstChild,n=new Wn(i);return i.classList.add("dropdown-icon","select-dropdown-icon"),n.icon=ve,n.size="inherit",{el:t,position:new e(1,i),parts:[[n,1]]}})),Ur=new t('<input type="text" autofocus class="select-input" autocomplete="chrome-off" />'),Hr=new d((function(t){let i,n,s=Ur.make(),r=s.content.firstChild,o=new _t(r,t,["el"]);return r.addEventListener("input",t.onInput.bind(t)),o.update((function(t){this.inputEl=t,dt(this,"inputEl")})),{el:s,position:new e(1,r),update(t){i!==t[0]&&(r.value=t[0],i=t[0]),n!==t[1]&&(r.placeholder=t[1],n=t[1])},parts:[[o,1]]}})),jr=new t("<div> </div>"),qr=new d((function(t){let i,n,s=jr.make(),r=s.content.firstChild,o=r.firstChild,l=new Wt(r);return r.addEventListener("click",t.onClick.bind(t)),r.classList.add("select-display"),{el:s,position:new e(1,r),update(t){i!==t[0]&&(l.updateObject({"select-placeholder":t[0]}),i=t[0]),n!==t[1]&&(o.data=t[1],n=t[1])}}})),Gr=new t("<div><div></div></div>"),Yr=new d((function(t){let i,n,s,r,o,l=Gr.make(),a=l.content.firstChild,h=a.firstChild,d=new Vs(a),c=new _t(a,t,["el"]),p=new pe(a,t,["immediate"]),u=new $r(h),g=new _t(h,t,["el"]);return d.$applyRestSlotRangeNodes(h),u.on("select",t.onSelected,t),a.classList.add("select-popup"),d.triangle=!1,c.update((function(t){this.popupEl=t,dt(this,"popupEl")})),p.update(ae()),h.classList.add("select-list"),g.update((function(t){this.listEl=t,dt(this,"listEl")})),u.selectable=!0,{el:l,position:new e(1,a),update(t){i!==t[0]&&(u.data=t[0],i=t[0],dt(u,"data")),n!==t[1]&&(u.textRenderer=t[1],n=t[1],dt(u,"textRenderer")),s!==t[2]&&(u.selected=t[2],s=t[2],dt(u,"selected")),r!==t[3]&&(u.multipleSelect=t[3],r=t[3],dt(u,"multipleSelect")),o!==t[4]&&(u.keyComeFrom=t[4],o=t[4],dt(u,"keyComeFrom"))},parts:[[c,1],[p,1],[d,1],[g,0],[u,0]]}}));class Xr extends Ar{static SlotContentType=0;static style=Vt(".select{display:inline-flex;vertical-align:top;width:calc(20em + 20px);height:2em;padding:0.2em 0;background:var(--field-color);justify-content:space-between;align-items:center;cursor:pointer;box-shadow:inset 0 -1px 0 0 var(--border-color);&:hover,&.opened{box-shadow:inset 0 -1px 0 0 var(--primary-color);.select-dropdown-icon{color:var(--primary-color);}}&.cant-input input{cursor:pointer;}}.select-dropdown-icon{margin:0 0.2em;}.select-clear-icon{margin:0 0.2em;}.select-display,.select-input{flex:1;min-width:0;padding:0 0 0 0.6em;height:100%;border:none;background:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-shadow:none;&:focus{box-shadow:none;}}.select-placeholder{opacity:0.5;}.select-popup{padding:0;border-radius:0;}.select-list{border-bottom:none;.list-item{padding-left:0.6em;padding-right:0.15em;border-bottom:none;}}","Select");size="default";trigger="click";showDelay=0;hideDelay=0;gaps=0;triangle=!1;multiple=!1;searchable=!1;placeholder="";data=[];value=null;hideAfterSelected=null;textRenderer=null;popupEl=null;inputEl=null;listEl=null;inputtedText="";editing=!1;async onPopupOpenedChange(t){super.onPopupOpenedChange(t),!t&&this.editing?this.endEditing():t&&(await yt(),this.mayFocusInput(),this.scrollToViewSelectedItem())}onPopupWillAlign(){this.syncPopupWidth()}syncPopupWidth(){this.popupEl&&(this.popupEl.style.minWidth=String(this.el.offsetWidth)+"px")}render(){return ht(this,"searchable","popupOptions","inputtedText"),new f(Vr,[this.opened,!this.searchable,this.popupOptions,this.renderDisplayOrInput(),this.inputtedText?new f(Kr,[],this):new f(_r,[],this)],this)}renderDisplayOrInput(){if(ht(this,"editing"),this.editing)return ht(this,"inputtedText","placeholder"),new f(Hr,[this.inputtedText,this.placeholder],this);{let t=this.renderDisplay();return new f(qr,[!t,t||(ht(this,"placeholder"),this.placeholder)],this)}}renderPopup(){let t=this.getFilteredData();return ht(this,"textRenderer","multiple","inputEl","value"),new f(Yr,[t,this.textRenderer,this.multiple?this.value:null===this.value?[]:[this.value],this.multiple,this.inputEl],this)}renderDisplay(){let t=[];this.multiple?Array.isArray(this.value)&&(t=this.data.filter((t=>(ht(t,"value"),this.value.includes(t.value)))),ht(this,"data"),ht(this.data,"")):null!==this.value&&(t=this.data.filter((t=>(ht(t,"value"),t.value===this.value))),ht(this,"data"),ht(this.data,""));let e=t.map((t=>(ht(t,"text"),t.text)));return ht(t,""),ht(this,"multiple","value"),0===e.length?null:e.join("; ")}getFilteredData(){if(this.searchable&&this.inputtedText){let t=this.inputtedText.toLowerCase(),e=[];for(let i of this.data){let n=i.text;n?.includes(t)&&(e.push(i),dt(e,""))}return e}return this.data}onClick(){this.searchable&&!this.editing&&this.startEditing()}onSelected(t){this.value=this.multiple?t:t[0]??null,(this.hideAfterSelected??!this.multiple)&&(this.opened=!1),this.fire("change",this.value),dt(this,"value")}async startEditing(){this.inputtedText="",this.editing=!0,dt(this,"inputtedText","editing")}endEditing(){this.editing=!1,dt(this,"editing")}mayFocusInput(){this.editing&&this.inputEl&&this.inputEl.focus()}scrollToViewSelectedItem(){if(this.listEl){let t=this.listEl.querySelector("[class*=selected]");t&&"vertical"===Be(this.listEl)&&function(t,e=0,i=0,n="ease-out"){gn(t,"vertical",e,i,n)}(t)}}onInput(){this.inputtedText=this.inputEl.value,this.opened=!0,dt(this,"inputtedText")}clearInputtedText(){this.inputtedText="",dt(this,"inputtedText")}}const Jr=new t("\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e"),Qr=new d((function(t){let i,n=Jr.make(),s=t.el,r=n.content.firstChild,o=n.content.childNodes[1],l=n.content.lastChild,a=new m(new e(1,o)),h=new fe(a),d=new m(new e(1,l));return s.classList.add("list","navigation"),{el:n,position:new e(1,r),update(t){h.update(t[0]),i!==t[1]&&(d.update(t[1]),i=t[1])},parts:[[a,1],[d,1]]}})),Zr=new t('<div class="navigation-title"> </div>'),to=new d((function(){let t,i=Zr.make(),n=i.content.firstChild,s=n.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}}));class eo extends $r{static SlotContentType=0;static style=Vt(".navigation{padding:0.6em 1.2em;border-bottom:none;background:color-mix(in srgb,var(--background-color) 90%,var(--text-color));overflow-y:auto;.list-item{&.selected{&::after{content:'';position:absolute;top:3px;bottom:3px;right:0;width:2px;background:color-mix(in srgb,var(--primary-color) 80%,var(--background-color));}}}}.navigation-title{font-size:1.285em;font-weight:300;margin-top:0.3em;margin-bottom:0.6em;}","Navigation");title="";render(){return ht(this,"data","title"),new f(Qr,[this.title?new f(to,[this.title],this):null,this.renderItems(this.data)],this)}renderSelectedIcon(t){return null}}const io=new t("\x3c!----\x3e"),no=new d((function(t){let i,n=io.make(),s=t.el,r=n.content.firstChild,o=new Wt(s);return s.classList.add("link"),{el:n,position:new e(1,r),update(t){i!==t[0]&&(o.updateObject({primary:t[0]}),i=t[0])}}}));class so extends Ot{static SlotContentType=0;static style=Vt(".link.primary{a{color:var(--primary-color);}}","Link");primary=!1;render(){return ht(this,"primary"),new f(no,[this.primary],this)}}const ro=new t("\x3c!----\x3e"),oo=new d((function(t){let i,n=ro.make(),s=t.el,r=n.content.firstChild,o=new Wt(s);return s.classList.add("label"),{el:n,position:new e(1,r),update(t){i!==t[0]&&(o.updateObject({required:t[0]}),i=t[0])}}}));class lo extends Ot{static SlotContentType=0;static style=Vt(".label{font-weight:bold;font-size:0.928em;&.required{&::after{position:relative;content:'*';color:var(--error-color);margin-left:2px;top:calc(0.5lh - 0.5em - 2px);}}.icon{color:var(--text-color);}}","Label");required=!1;render(){return ht(this,"required"),new f(oo,[this.required],this)}}const ao=new t('<span class="tag-label"><slot></slot></span>\x3c!----\x3e'),ho=new d((function(t){let i=ao.make(),n=t.el,s=i.content.firstChild,r=s.firstChild,o=i.content.lastChild,l=new m(new e(1,o)),a=new fe(l);return r.append(...t.$getRestSlotNodes()),n.classList.add("tag"),{el:i,position:new e(1,s),update(t){a.update(t[0])},parts:[[l,1]]}})),co=new t("<div></div>"),po=new d((function(t){let i=co.make(),n=i.content.firstChild,s=new Wn(n);return n.addEventListener("click",t.close.bind(t)),n.classList.add("tag-close-icon"),s.icon=we,s.size="inherit",{el:i,position:new e(1,n),parts:[[s,1]]}}));class uo extends Ot{static SlotContentType=0;static style=Vt(".tag{display:inline-flex;border:1px solid var(--border-color);border-radius:var(--border-radius);line-height:1.4;padding:0 0.4em;cursor:pointer;&:hover{opacity:0.9;}&:active{opacity:0.8;}}.tag-label{font-size:0.928em;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:0.2em;}.tag-close-icon{display:inline-flex;margin-right:-0.2em;&:active{transform:translateY(1px);}}","Tag");size="default";value=null;closable=!1;render(){return ht(this,"closable"),new f(ho,[this.closable?new f(po,[],this):null],this)}close(){this.fire("close",this.value)}}const go=new t("\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e"),fo=new d((function(t){let i,n,s,o,l,a,h=go.make(),d=t.el,c=h.content.firstChild,p=h.content.childNodes[1],u=h.content.childNodes[2],g=h.content.lastChild,f=new Wt(d),w=new Wt(d),v=new Wt(d),y=new Wt(d),x=new ms(d,t),b=new r,C=new m(new e(1,p),0),S=new m(new e(1,u)),k=new fe(S),R=new m(new e(1,g)),D=new fe(R);return{el:h,position:new e(1,c),update(t){i!==t[0]&&(f.updateString(t[0]),i=t[0]),n!==t[1]&&(w.updateObject({focus:t[1]}),n=t[1]),s!==t[2]&&(v.updateObject({valid:t[2]}),s=t[2]),o!==t[3]&&(y.updateObject({invalid:t[3]}),o=t[3]),t[4]&&a!==t[5]&&(x.update(t[5],{type:"error"}),a=t[5]),t[4]&&!l?(b.update(x),l=t[4]):!t[4]&&l&&(b.update(null),l=t[4]),C.update(t[6]),k.update(t[7]),D.update(t[8])},parts:[[b,2],[C,1],[S,1],[R,1]]}})),mo=new t("<div></div>"),wo=new d((function(){let t=mo.make(),i=t.content.firstChild,n=new Wn(i);return i.classList.add("input-valid-icon"),n.icon=me,n.size="inherit",{el:t,position:new e(1,i),parts:[[n,1]]}})),vo=new t('<div class="input-error"> </div>'),yo=new d((function(){let t,i=vo.make(),n=i.content.firstChild,s=n.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}})),xo=new t('<input class="input-field" />'),bo=new d((function(t){let i,n,s,r,o=xo.make(),l=o.content.firstChild,a=new _t(l,t,["el"]);return l.addEventListener("focus",t.onFocus.bind(t)),l.addEventListener("blur",t.onBlur.bind(t)),l.addEventListener("input",t.onInput.bind(t)),l.addEventListener("change",t.onChange.bind(t)),a.update((function(t){this.fieldRef=t,dt(this,"fieldRef")})),{el:o,position:new e(1,l),update(t){i!==t[0]&&(l.setAttribute("type",t[0]),i=t[0]),n!==t[1]&&(t[1]?l.setAttribute("autofocus",""):l.removeAttribute("autofocus"),n=t[1]),s!==t[2]&&(l.placeholder=t[2],s=t[2]),r!==t[3]&&(l.value=t[3],r=t[3])},parts:[[a,1]]}}));class Co extends Ot{static SlotContentType=0;static style=Vt(".input{display:inline-flex;align-items:stretch;position:relative;width:15em;height:2em;padding:0.2em 0.6em;background:var(--field-color);box-shadow:inset 0 -1px 0 0 var(--border-color);&.focus{box-shadow:inset 0 -1px 0 0 var(--primary-color);}&.valid{box-shadow:inset 0 -1px 0 0 var(--success-color);}&.invalid{box-shadow:inset 0 -1px 0 0 var(--error-color);}}.input-field{flex:1;min-width:0;border:none;background:none;}.input-valid-icon{align-items:center;margin-right:0.2em;color:var(--success-color);}.input-error{position:absolute;left:0;top:100%;font-size:0.928em;color:var(--error-color);}","Input");size="default";type="text";autoFocus=!1;touched=!1;valid=null;placeholder="";value="";validator=null;errorMessage="";errorOnTooltip=!1;focusGot=!1;fieldRef;onCreated(){super.onCreated(),this.$onSetTouched_watcher=new Mt((function(){return ht(this,"touched"),this.touched}),this.onSetTouched,this)}onConnected(){super.onConnected(),this.$onSetTouched_watcher.connect()}onWillDisconnect(){super.onWillDisconnect(),this.$onSetTouched_watcher.disconnect()}render(){return ht(this,"focusGot","errorMessage","touched"),new f(fo,[this.renderClassName(),this.focusGot,this.touched&&(ht(this,"valid"),this.valid),this.touched&&(ht(this,"valid"),!1===this.valid),this.touched&&this.errorMessage&&(ht(this,"errorOnTooltip"),this.errorOnTooltip),this.errorMessage,this.renderField(),this.touched&&(ht(this,"valid"),this.valid)?new f(wo,[],this):null,this.touched&&this.errorMessage&&(ht(this,"errorOnTooltip"),!this.errorOnTooltip)?new f(yo,[this.errorMessage],this):null],this)}renderClassName(){return"input"}renderField(){return ht(this,"type","autoFocus","value","placeholder"),new f(bo,[this.type,this.autoFocus,this.placeholder||"",this.value],this)}onFocus(){this.focusGot=!0,V(document,"keydown",["Enter"],this.onEnter,this),dt(this,"focusGot")}onEnter(t){t.preventDefault(),this.onChange()}onBlur(){W(document,"keydown",this.onEnter,this),this.focusGot=!1,this.touched=!0,this.validate(),dt(this,"focusGot","touched")}onInput(t){if(t.isComposing)return;let e=this.fieldRef.value;this.validator&&(this.valid=null,this.errorMessage="",dt(this,"valid","errorMessage")),this.fire("input",e)}onChange(){let t=this.value=this.fieldRef.value;this.validate(),this.fire("change",t,this.valid,(()=>this.fieldRef.focus())),dt(this,"value")}$onSetTouched_watcher=void 0;onSetTouched(t){t&&this.validate()}validate(){if(this.validator){let t=this.value,e=this.validator(this.value);t===this.value&&(this.errorMessage=e,this.valid=!e,dt(this,"errorMessage","valid"))}}select(){this.fieldRef.select()}}const So=new t("<textarea></textarea>"),ko=new d((function(t){let i,n,s,r,o,l,a,h,d=So.make(),c=d.content.firstChild,p=new _t(c,t,["el"]),u=new Wt(c),g=new Wt(c),f=new Ht(c);return c.addEventListener("focus",t.onBlur.bind(t)),c.addEventListener("input",t.onInput.bind(t)),c.addEventListener("change",t.onChange.bind(t)),c.classList.add("input-field"),p.update((function(t){this.fieldRef=t,dt(this,"fieldRef")})),{el:d,position:new e(1,c),update(t){i!==t[0]&&(c.setAttribute("placeholder",t[0]),i=t[0]),n!==t[1]&&(t[1]?c.setAttribute("autofocus",""):c.removeAttribute("autofocus"),n=t[1]),s!==t[2]&&(u.updateObject({valid:t[2]}),s=t[2]),r!==t[3]&&(g.updateObject({invalid:t[3]}),r=t[3]),o!==t[4]&&(f.updateObject({resize:t[4]}),o=t[4]),l!==t[5]&&(c.value=t[5],l=t[5]),a!==t[6]&&(c.rows=t[6],a=t[6]),h!==t[7]&&(c.cols=t[7],h=t[7])},parts:[[p,1]]}}));class Ro extends Co{static style=Vt(".textarea{height:auto;padding:0.4em 0.6em;.input-field{height:auto;}}","Textarea");resize="none";rows=null;cols=null;renderClassName(){return"input textarea"}renderField(){return ht(this,"placeholder","autoFocus","resize","value","rows","cols","touched"),new f(ko,[this.placeholder,this.autoFocus,this.touched&&(ht(this,"valid"),!0===this.valid),this.touched&&(ht(this,"valid"),!1===this.valid),this.resize,this.value,this.rows,this.cols],this)}onFocus(){this.focusGot=!0,dt(this,"focusGot")}onBlur(){this.focusGot=!1,this.touched=!0,this.validate(),dt(this,"focusGot","touched")}}class Do extends Ot{valid=!0;get inputs(){return[...this.el.querySelectorAll(".input")].map((t=>Co.from(t)))}validate(){for(let t of this.inputs)t.touched=!0,dt(t,"touched")}reset(){for(let t of this.inputs)t.touched=!1,dt(t,"touched")}}const Po=new t('<div></div><input type="text" class="search-field" />\x3c!----\x3e'),To=new d((function(t){let i,n,s,r=Po.make(),o=t.el,l=r.content.firstChild,a=r.content.childNodes[1],h=r.content.lastChild,d=new Wt(o),c=new Wn(l),p=new _t(a,t,["el"]),u=new m(new e(1,h)),g=new fe(u);return a.addEventListener("focus",t.onFocus.bind(t)),l.classList.add("search-icon"),c.icon='<svg viewBox="0 0 15 15"><line style="fill:none;stroke:currentColor;stroke-linecap:round;" x1="10" y1="10" x2="14.3" y2="14.3"/><ellipse style="fill:none;stroke:currentColor;stroke-width:1;stroke-miterlimit:9.9999;" cx="6.5" cy="6.5" rx="5" ry="5"/></svg>',c.size="inherit",p.update((function(t){this.inputEl=t,dt(this,"inputEl")})),{el:r,position:new e(1,l),update(t){i!==t[0]&&(d.updateString("search size-"+t[0]),i=t[0]),n!==t[1]&&(a.setAttribute("placeholder",t[1]),n=t[1]),s!==t[2]&&(a.value=t[2],s=t[2]),g.update(t[3])},parts:[[c,1],[p,1],[u,1]]}})),Mo=new t("<div></div>"),Eo=new d((function(t){let i=Mo.make(),n=i.content.firstChild,s=new Wn(n);return V(n,"click",["stop"],t.clear,t),n.classList.add("search-clear-icon"),s.icon=we,s.size="inherit",{el:i,position:new e(1,n),parts:[[s,1]]}}));class No extends Ot{static SlotContentType=0;static style=Vt(".search{display:inline-flex;align-items:center;background:var(--field-background-color);border:1px solid var(--border-color);border-radius:var(--border-radius);padding:0 0.2em;&:focus{border-color:var(--primary-color);box-shadow:0 0 var(--focus-shadow-blur-radius) var(--primary-color);}}.search-field{flex:1;min-width:0;border:none;line-height:1.6;height:2em;padding:0.2em 0.2em;background:transparent;}.search-icon{color:var(--border-color);}.search-clear-icon{color:var(--border-color);cursor:pointer;&:hover{color:var(--primary-color);}&:active{transform:translateY(1px);}}","Search");size="default";lazy=!0;placeholder="";value="";focused=!1;inputEl;inCompositionInputting=!1;onCreated(){super.onCreated(),this.$bindLazyEvents_watcher=new Mt((function(){return ht(this,"lazy"),this.lazy}),this.bindLazyEvents,this)}onConnected(){super.onConnected(),this.$bindLazyEvents_watcher.connect()}onWillDisconnect(){super.onWillDisconnect(),this.$bindLazyEvents_watcher.disconnect()}render(){return ht(this,"size","placeholder","value"),new f(To,[this.size,this.placeholder,this.value,this.value?new f(Eo,[],this):null],this)}onReady(){super.onReady(),this.bindInputEvents(!0)}$bindLazyEvents_watcher=void 0;bindLazyEvents(){this.bindInputEvents(!1)}bindInputEvents(t){t||(this.lazy?(T(this.inputEl,"compositionstart",this.onCompositionStart,this),T(this.inputEl,"compositionend",this.onCompositionEnd,this),T(this.inputEl,"input",this.onInput,this)):T(this.inputEl,"change",this.onChange,this)),this.lazy?R(this.inputEl,"change",this.onChange,this):(R(this.inputEl,"compositionstart",this.onCompositionStart,this),R(this.inputEl,"compositionend",this.onCompositionEnd,this),R(this.inputEl,"input",this.onInput,this))}onFocus(){this.focused=!0,D(this.inputEl,"blur",(()=>(dt(this,"focused"),this.focused=!1))),dt(this,"focused")}onChange(){this.updateValue()}onCompositionStart(){this.inCompositionInputting=!0,dt(this,"inCompositionInputting")}onCompositionEnd(){this.inCompositionInputting=!1,this.onInput(),dt(this,"inCompositionInputting")}onInput(){this.updateValue()}updateValue(){this.inCompositionInputting||(this.value=this.inputEl.value,this.fire("change",this.value),dt(this,"value"))}clear(){this.value="",this.fire("change",""),dt(this,"value")}}const Lo=new t('<div class="progress-groove"><div class="progress-progress"></div></div>'),zo=new d((function(t){let i,n,s,r=Lo.make(),o=t.el,l=r.content.firstChild,a=l.firstChild,h=new ms(o,t),d=new Ht(l),c=new Ht(a);return o.classList.add("progress"),{el:r,position:new e(1,l),update(e){i!==e[0]&&(h.update(t.renderTooltipContent,e[0]),i=e[0]),n!==e[1]&&(d.updateObject({height:e[1]+"px"}),n=e[1]),s!==e[2]&&(c.updateObject({width:e[2]+"%"}),s=e[2])},parts:[[h,2]]}})),Io=new t('<span class="progress-tooltip"> </span>'),$o=new d((function(){let t,i=Io.make(),n=i.content.firstChild,s=n.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}}));class Bo extends Ot{static SlotContentType=0;static style=Vt('.progress{display:inline-flex;align-items:center;width:15em;height:2em;}.progress-groove{width:100%;height:1px;background:color-mix(in srgb,var(--primary-color) 20%,var(--background-color));}.progress-progress{height:100%;background:var(--primary-color);}.progress-tooltip{font-family:"Roboto Mono";}',"Progress");value=0;height=1;decimalCount=null;render(){return ht(this,"height","value"),new f(zo,[{position:"bc-tr",alignTo:".progress-progress",gaps:8},this.height,100*Math.min(this.value,1)],this)}renderTooltipContent(){let t=100*Math.min(this.value,1),e=t.toString();return null!==this.decimalCount&&(e=t.toFixed(this.decimalCount)),e+="%",ht(this,"value","decimalCount"),new f($o,[e],this)}}const Oo=new t("\x3c!----\x3e\x3c!----\x3e"),Ao=new d((function(t){let i,n,s,r,o,l=Oo.make(),a=t.el,h=l.content.firstChild,d=l.content.lastChild,c=new Wt(a),p=new Wt(a),u=new Ht(a),g=new Ht(a),f=new ms(a,t),w=new m(new e(1,d),0);return a.addEventListener("mousedown",t.onMouseDown.bind(t)),a.addEventListener("focus",t.onFocus.bind(t)),a.addEventListener("blur",t.onBlur.bind(t)),a.setAttribute("tabindex","0"),a.classList.add("slider"),{el:l,position:new e(1,h),update(e){i!==e[0]&&(c.updateString(e[0]),i=e[0]),n!==e[1]&&(p.updateObject({dragging:e[1]}),n=e[1]),s!==e[2]&&(u.updateObject({"--ball-size":e[2]+"px"}),s=e[2]),r!==e[3]&&(g.updateObject({"--groove-size":e[3]+"px"}),r=e[3]),o!==e[4]&&(f.update(t.renderTooltipContent,e[4]),o=e[4]),w.update(e[5])},parts:[[f,2],[w,1]]}})),Fo=new t('<div class="slider-groove"><div class="slider-groove-bg"></div><div class="slider-progress"></div><div class="slider-ball"></div></div>'),Vo=new d((function(t){let i,n,s=Fo.make(),r=s.content.firstChild,o=r.childNodes[1],l=r.lastChild,a=new _t(r,t,["el"]),h=new Ht(o),d=new Ht(l);return a.update((function(t){this.grooveEl=t,dt(this,"grooveEl")})),{el:s,position:new e(1,r),update(t){i!==t[0]&&(h.updateObject({width:t[0]+"%"}),i=t[0]),n!==t[0]&&(d.updateObject({left:t[0]+"%"}),n=t[0])},parts:[[a,1]]}})),Wo=new d((function(t){let i,n,s,r=Fo.make(),o=r.content.firstChild,l=o.childNodes[1],a=o.lastChild,h=new Ht(o),d=new _t(o,t,["el"]),c=new Ht(l),p=new Ht(a);return d.update((function(t){this.grooveEl=t,dt(this,"grooveEl")})),{el:r,position:new e(1,o),update(t){i!==t[0]&&(h.updateObject({width:t[0]+"px"}),i=t[0]),n!==t[1]&&(c.updateObject({height:t[1]+"%"}),n=t[1]),s!==t[1]&&(p.updateObject({top:t[1]+"%"}),s=t[1])},parts:[[d,1]]}})),Ko=new t('<span class="slider-tooltip"> </span>'),_o=new d((function(){let t,i=Ko.make(),n=i.content.firstChild,s=n.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}}));class Uo extends Ot{static SlotContentType=0;static style=Vt('.slider{--groove-size:1px;--ball-size:15px;display:inline-flex;vertical-align:top;flex-direction:column;justify-content:center;position:relative;width:15em;height:2em;cursor:pointer;&:focus .slider-ball{box-shadow:0 0 var(--focus-shadow-blur-radius) var(--primary-color);border-color:var(--primary-color);}}.slider-groove{position:relative;}.slider-groove-bg{position:absolute;left:0;top:0;width:100%;height:100%;background:var(--border-color);}.slider-progress{position:absolute;height:1px;background:var(--primary-color);}.slider-ball{position:absolute;will-change:top,left;border-radius:50%;border:var(--groove-size) solid var(--border-color);background:var(--background-color);float:right;width:var(--ball-size);height:var(--ball-size);&:hover{border-color:var(--primary-color);}}.slider.dragging{.slider-ball{border-color:color-mix(in srgb,var(--primary-color) 90%,black);background:color-mix(in srgb,var(--primary-color) 90%,black);}}.slider-horizontal{.slider-groove{height:var(--groove-size);}.slider-progress{height:100%;}.slider-ball{top:calc((var(--ball-size) - var(--groove-size)) / -2);margin-left:calc(var(--ball-size) / -2);}}.slider-vertical{width:2em;height:15em;flex-direction:row;.slider-groove{width:var(--groove-size);}.slider-progress{width:100%;}.slider-ball{left:calc((var(--ball-size) - var(--groove-size)) / -2);margin-top:calc(var(--ball-size) / -2);}}.slider-tooltip{font-family:"Roboto Mono";}',"Slider");grooveSize=1;ballSize=15;vertical=!1;min=0;max=100;step=1;value=0;decimalCount=null;grooveEl;dragging=!1;render(){let t={position:this.vertical?"r":"t",alignTo:".slider-ball",gaps:4,keepVisible:this.dragging};return ht(this,"dragging","vertical","ballSize","grooveSize"),new f(Ao,[this.vertical?"slider-vertical":"slider-horizontal",this.dragging,this.ballSize,this.grooveSize,t,this.vertical?this.renderVerticalGroove():this.renderHorizontalGroove()],this)}renderGroove(){return ht(this,"vertical"),this.vertical?this.renderVerticalGroove():this.renderHorizontalGroove()}renderHorizontalGroove(){let t=this.getPercentage();return new f(Vo,[t],this)}renderVerticalGroove(){let t=this.getPercentage();return ht(this,"grooveSize"),new f(Wo,[this.grooveSize,100-t],this)}renderTooltipContent(){let t=this.decimalCount;null===t&&(t=String(this.step).replace(/^\d+\.?/,"").length,ht(this,"step"));let e=this.value.toFixed(t);return ht(this,"decimalCount","value"),new f(_o,[e],this)}getPercentage(){if(ht(this,"value","min"),this.value===this.min)return 0;let t=(this.value-this.min)/(this.max-this.min)*100;return ht(this,"max"),Me(t,0,100)}onMouseDown(t){let e=this.grooveEl.getBoundingClientRect();nn(this.el),this.dragging=!0,t.target.matches(".slider-ball")||this.changeValueByEvent(t,e);let i=t=>{t.preventDefault(),this.changeValueByEvent(t,e)};R(document,"mousemove",i),D(document,"mouseup",(()=>{sn(this.el),T(document,"mousemove",i),this.dragging=!1,this.fire("dragend"),dt(this,"dragging")})),this.fire("dragstart"),dt(this,"dragging")}changeValueByEvent(t,e){let i;i=this.vertical?Me(1-(t.clientY-e.top)/e.height,0,1):Me((t.clientX-e.left)/e.width,0,1);let n=(this.max-this.min)*i;this.step&&(n=Math.round(n/this.step)*this.step);let s=this.value,r=Te(this.min+n,4);r!==s&&(this.fire("change",this.value=r),dt(this,"value"))}onWheel(t){if(!this.step||document.activeElement!==this.el)return;let e;e=t.deltaY<0&&this.vertical||t.deltaY>0&&!this.vertical?Te(Math.min(this.value+this.step,this.max),4):Te(Math.max(this.value-this.step,this.min),4),e!==this.value&&(this.fire("change",this.value=e),dt(this,"value"))}onFocus(){this.onBlur(),R(document,"keydown",this.onKeyDown,this),R(document,"wheel",this.onWheel,this,{passive:!0})}onKeyDown(t){let e;this.vertical?"ArrowUp"===t.key?(t.preventDefault(),e=Math.min(this.value+this.step,this.max)):"ArrowDown"===t.key&&(t.preventDefault(),e=Math.max(this.value-this.step,this.min)):"ArrowLeft"===t.key?(t.preventDefault(),e=Math.max(this.value-this.step,this.min)):"ArrowRight"===t.key&&(t.preventDefault(),e=Math.min(this.value+this.step,this.max)),"Escape"===t.key&&(t.preventDefault(),this.el.blur()),void 0!==e&&e!==this.value&&(this.fire("change",this.value=e),dt(this,"value"))}onBlur(){T(document,"keydown",this.onKeyDown,this),T(document,"wheel",this.onWheel,this)}}const Ho=new t('<svg><path class="loader-bg"></path><path></path></svg>'),jo=new d((function(t){let i,n,s,r,o,l,a,h,d,c,p,u=Ho.make(),g=t.el,f=u.content.firstChild,m=f.firstChild,w=f.lastChild,v=new Wt(g),y=new Ht(g),x=new Ht(g),b=new _t(w,t,["el"]);return g.classList.add("loader"),b.update((function(t){this.snakeEl=t,dt(this,"snakeEl")})),{el:u,position:new e(1,f),update(t){i!==t[0]&&(v.updateObject({"as-cover":t[0]}),i=t[0]),n!==t[1]&&(y.updateObject({width:t[1]}),n=t[1]),s!==t[1]&&(x.updateObject({height:t[1]}),s=t[1]),r!==t[2]&&(f.setAttribute("viewBox","0 0 "+t[2]+" "+t[2]),r=t[2]),o!==t[2]&&(f.setAttribute("width",t[2]),o=t[2]),l!==t[2]&&(f.setAttribute("height",t[2]),l=t[2]),a!==t[3]&&(m.setAttribute("d",t[3]),a=t[3]),h!==t[4]&&(m.setAttribute("style","stroke-width: "+t[4]),h=t[4]),d!==t[3]&&(w.setAttribute("d",t[3]),d=t[3]),c===t[4]&&p===t[5]||(w.setAttribute("style","stroke-width: "+t[4]+"; stroke-dasharray: "+t[5]+";"),c=t[4],p=t[5])},parts:[[b,0]]}}));class qo extends Ot{static SlotContentType=0;static style=Vt(".loader{display:inline-block;vertical-align:top;color:var(--primary-color);&.as-cover{position:absolute;left:0;top:0;right:0;bottom:0;z-index:10;background:color-mix(in srgb,var(--text-color) 5%,transparent);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;}}.loader svg{margin:auto;}.loader path{stroke:currentColor;fill:none;stroke-linecap:square;}.loader-bg{stroke-opacity:0.3;}","Loader");size=18;strokeSize=3;asCover=!1;speed=.6;snakeEl;render(){let t=this.size,e=this.strokeSize,i=e/2,n=`M${i} ${i} H${t-i} V${t-i} H${i}Z`,s=`${t-e} ${3*(t-e)}`;return ht(this,"size","strokeSize","asCover"),new f(jo,[this.asCover,this.asCover?"":t+"px",t,n,e,s],this)}onReady(){let t=this.size,e=this.strokeSize;this.snakeEl.animate([{strokeDashoffset:0},{strokeDashoffset:4*-(t-e)}],{duration:1e3/this.speed,iterations:1/0})}}const Go=new t("\x3c!----\x3e\x3c!----\x3e"),Yo=new d((function(t){let i=Go.make(),n=t.el,s=i.content.firstChild,r=i.content.lastChild,o=new m(new e(1,r),1),l=new ge(o);return l.updateRenderFn((e=>(ht(e,"type","message","icon","title","list"),new f(Jo,[e.type,e,e.icon??ye,e.title?new f(Zo,[e.title],t):null,t.renderMessage(e.message),e.list&&(ht(e.list,""),e.list.length>0)?new f(el,[e.list.map((e=>new f(nl,[e],t)))],t):null,t.renderActions(e)],t)))),n.classList.add("notification"),{el:i,position:new e(1,s),update(t){l.updateData(t[0])},parts:[[o,1]]}})),Xo=new t('<div><div class="notification-stripe"></div><div class="notification-left"><div></div></div><div class="notification-content"><div class="notification-message">\x3c!----\x3e</div>\x3c!----\x3e\x3c!----\x3e</div><div class="notification-close"><div></div></div></div>'),Jo=new d((function(t){let i,n,s,r,o,l=Xo.make(),a=l.content.firstChild,h=a.childNodes[1].firstChild,d=a.childNodes[2],c=d.firstChild,p=c.firstChild,u=d.childNodes[1],g=d.lastChild,f=a.lastChild,w=f.firstChild,v=new Wt(a),y=new pe(a,t,["immediate"]),x=new pe(a,t),b=new Wn(h),C=new m(new e(1,c)),S=new fe(C),k=new m(new e(1,p)),R=new m(new e(1,u)),D=new fe(R),P=new m(new e(1,g)),T=new Wn(w);return a.addEventListener("mouseenter",(()=>t.onMouseEnter(o))),a.addEventListener("mouseleave",(()=>t.onMouseLeave(o))),a.addEventListener("transition-leave-ended",t.onLeaveTransitionEnded.bind(t)),f.addEventListener("click",(()=>t.onClickClose(o))),a.classList.add("notification-item"),y.update(ae()),x.update(he()),h.classList.add("notification-type-icon"),T.icon=we,{el:l,position:new e(1,a),update(t){o=t[1],i!==t[0]&&(v.updateString("notification-type-"+t[0]),i=t[0]),n!==t[2]&&(b.icon=t[2],n=t[2],dt(b,"icon")),S.update(t[3]),s!==t[4]&&(k.update(t[4]),s=t[4]),D.update(t[5]),r!==t[6]&&(P.update(t[6]),r=t[6])},parts:[[y,1],[x,1],[b,0],[C,0],[k,0],[R,0],[P,0],[T,0]]}})),Qo=new t('<div class="notification-title"> </div>'),Zo=new d((function(){let t,i=Qo.make(),n=i.content.firstChild,s=n.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}})),tl=new t('<ul class="notification-list">\x3c!----\x3e</ul>'),el=new d((function(){let t=tl.make(),i=t.content.firstChild,n=i.firstChild,s=new m(new e(1,n),1);return{el:t,position:new e(1,i),update(t){s.update(t[0])},parts:[[s,0]]}})),il=new t("<li> </li>"),nl=new d((function(){let t,i=il.make(),n=i.content.firstChild,s=n.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}})),sl=new t('<div class="notification-actions">\x3c!----\x3e</div>'),rl=new d((function(){let t=sl.make(),i=t.content.firstChild,n=i.firstChild,s=new m(new e(1,n),1);return{el:t,position:new e(1,i),update(t){s.update(t[0])},parts:[[s,0]]}})),ol=new t("<div> </div>"),ll=new d((function(t){let i,n,s,r=ol.make(),o=r.content.firstChild,l=o.firstChild,a=new En(o);return a.$applyRestSlotRangeNodes(l),o.addEventListener("click",(()=>t.onClickActionButton(s))),o.classList.add("notification-action"),{el:r,position:new e(1,o),update(t){s=t[1],i!==t[0]&&(a.primary=t[0],i=t[0],dt(a,"primary")),n!==t[2]&&(l.data=t[2],n=t[2])},parts:[[a,1]]}}));class al extends Ot{static SlotContentType=0;static style=Vt(".notification{position:fixed;right:1em;bottom:1em;min-width:20em;max-width:30em;z-index:1100;font-size:0.928em;}.notification-item{position:relative;display:flex;margin-top:0.8em;background:var(--background-color);box-shadow:0 0 var(--popup-shadow-blur-radius) var(--popup-shadow-color);cursor:pointer;overflow:hidden;border-radius:var(--popup-border-radius);}.notification-stripe{width:4px;}.notification-left{padding:1em 1em 1em 1.2em;}.notification-type-icon{display:block;}.notification-content{flex:1;min-width:0;padding:1.1em 1.2em 1.1em 0;}.notification-close{display:flex;width:2em;height:2em;color:var(--text-color);.icon{margin:auto;}&:hover{color:color-mix(in srgb,var(--text-color) 90%,var(--background-color));}&:active{transform:translateY(1px);}}.notification-title{font-weight:bold;margin-bottom:0.2em;}.notification-message{flex:1;min-width:0;line-height:1.4;margin-bottom:0.2em;text-align:left;word-wrap:break-word;a{font-weight:bold;}}.notification-list{margin:0.6em 0;line-height:1.4;list-style-type:square;padding-left:2em;}.notification-actions{margin-top:0.5em;}.notification-action{margin-right:0.4em;line-height:1.4;padding:0 0.6em;}.notification-type-info{&:hover{background:color-mix(in srgb,var(--info-color) 5%,var(--background-color));}.notification-stripe{background:var(--info-color);}}.notification-type-warning{&:hover{background:color-mix(in srgb,var(--warning-color) 5%,var(--background-color));}.notification-stripe{background:var(--warning-color);}}.notification-type-success{&:hover{background:color-mix(in srgb,var(--success-color) 5%,var(--background-color));}.notification-stripe{background:var(--success-color);}}.notification-type-error{&:hover{background:color-mix(in srgb,var(--error-color) 5%,var(--background-color));}.notification-stripe{background:var(--error-color);}}","Notification");seed=1;items=[];render(){return ht(this,"items"),ht(this.items,""),new f(Yo,[this.items],this)}renderMessage(t){return"function"==typeof t?t():t}onUpdated(){super.onUpdated(),this.el.style.minWidth=this.el.offsetWidth+"px"}renderActions(t){let e=t.actions;return e&&0!==e.length?new f(rl,[e.map((t=>new f(ll,[t.primary,t,t.text],this)))],this):null}onClickActionButton(t){t.handler&&t.handler()}onMouseEnter(t){t.hovering=!0}onMouseLeave(t){t.hovering=!1,t.timeout||this.hideLater(t)}onClickClose(t){this.hide(t.id)}onLeaveTransitionEnded(){0===this.items.length&&(this.remove(),this.el.style.minWidth="")}show(t){if(t.id){let e=this.items.findIndex((e=>e.id===t.id));if(e>-1){let i={...t,hovering:!1,timeout:this.items[e].timeout};return this.items[e]=i,this.hideLater(i),dt(this.items,e),t.id}}let e={id:this.seed++,...t,hovering:!1,timeout:null};return this.items.unshift(e),this.hideLater(e),1===this.items.length&&this.appendTo(document.body),dt(this,"seed"),dt(this.items,""),e.id}hideLater(t){t.timeout&&t.timeout.cancel(),t.timeout=new ei((()=>{t.timeout=null,t.hovering||this.hide(t.id)}),t.hideDelay||5e3),t.timeout.start()}hide(t){let e=this.items.findIndex((e=>e.id===t));return e>-1&&(this.items.splice(e,1),dt(this.items,""),!0)}hideAll(){this.items=[],0===this.items.length&&this.el.remove(),dt(this,"items")}}class hl{notification=null;unique(){return new dl(this)}showNotification(t){return this.notification||(this.notification=new al),this.notification.show(t)}info(t,e={}){return e.type="info",e.icon=e.icon??ye,e.message=t,this.showNotification(e)}warn(t,e={}){return e.type="warning",e.icon=e.icon??'<svg viewBox="0 0 21 21"><line style="fill:none;stroke:currentColor;stroke-width:2;" x1="10.5" y1="7.5" x2="10.5" y2="12.5"/><rect style="fill:currentColor; stroke:none;" x="9.5" y="14" width="2" height="2"/><path style="fill:currentColor; stroke:none;" d="M10.5,3l8.8,15H1.7L10.5,3 M10.5,1L0,19h21L10.5,1L10.5,1z"/></svg>',e.message=t,this.showNotification(e)}error(t,e={}){return e.type="error",e.icon=e.icon??'<svg viewBox="0 0 21 21"><circle style="fill:none;stroke:currentColor;" cx="10.5" cy="10.5" r="10"/><line style="fill:none;stroke:currentColor;" x1="14.4" y1="6.6" x2="6.6" y2="14.4"/><line style="fill:none;stroke:currentColor;" x1="14.4" y1="14.4" x2="6.6" y2="6.6"/></svg>',e.message=t,this.showNotification(e)}success(t,e={}){return e.type="success",e.icon=e.icon??'<svg viewBox="0 0 21 21"><circle style="fill:none;stroke:currentColor;" cx="10.5" cy="10.5" r="10"/><polyline style="fill:none;stroke:currentColor;" points="16.2,6.4 9.3,14.6 6.1,10.8"/></svg>',e.message=t,this.showNotification(e)}hide(t){return this.notification?.hide(t)}hideAll(){this.notification?.hideAll()}}class dl{raw;id=null;constructor(t){this.raw=t}overwriteId(t){this.id&&(t.id=this.id)}info(t,e={}){return this.overwriteId(e),this.id=this.raw.info(t,e)}warn(t,e={}){return this.overwriteId(e),this.id=this.raw.warn(t,e)}error(t,e={}){return this.overwriteId(e),this.id=this.raw.error(t,e)}success(t,e={}){return this.overwriteId(e),this.id=this.raw.success(t,e)}hide(){return!!this.id&&this.raw.hide(this.id)}}const cl=new hl,pl=new t('\x3c!----\x3e<template><div class="dialog-mask"></div></template><div class="dialog-content"><div class="dialog-right"><div class="dialog-message">\x3c!----\x3e</div>\x3c!----\x3e</div></div>\x3c!----\x3e'),ul=new d((function(t){let i,n,s=pl.make(),r=t.el,o=s.content.firstChild,l=s.content.childNodes[1].content.firstChild,a=s.content.childNodes[2],h=a.firstChild,d=h.firstChild.firstChild,c=h.lastChild,p=s.content.lastChild,u=new pe(r,t,["immediate"]),g=new _t(l,t,["el"]),f=new pe(l,t,["immediate","global"]),w=new m(new e(1,a)),v=new fe(w),y=new m(new e(1,h)),x=new fe(y),b=new m(new e(1,d)),C=new m(new e(1,c)),S=new fe(C),k=new m(new e(1,p));return r.addEventListener("transition-leave-ended",t.onLeaveTransitionEnded.bind(t)),r.setAttribute("tabindex","0"),r.setAttribute("autofocus",""),r.classList.add("dialog"),u.update(ae()),g.update((function(t){this.maskEl=t,dt(this,"maskEl")})),f.update(ae()),{el:s,position:new e(1,o),update(t){v.update(t[0]),x.update(t[1]),i!==t[2]&&(b.update(t[2]),i=t[2]),S.update(t[3]),n!==t[4]&&(k.update(t[4]),n=t[4])},parts:[[u,2],[g,0],[f,0],[w,1],[y,0],[b,0],[C,0],[k,1]]}})),gl=new t('<div class="dialog-header"><div class="dialog-title"> </div></div>'),fl=new d((function(){let t,i=gl.make(),n=i.content.firstChild,s=n.firstChild.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}})),ml=new t("<div></div>"),wl=new d((function(){let t,i=ml.make(),n=i.content.firstChild,s=new Wn(n);return n.classList.add("dialog-left"),{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.icon=e[0],t=e[0],dt(s,"icon"))},parts:[[s,1]]}})),vl=new t('<ul class="dialog-list">\x3c!----\x3e</ul>'),yl=new d((function(){let t=vl.make(),i=t.content.firstChild,n=i.firstChild,s=new m(new e(1,n),1);return{el:t,position:new e(1,i),update(t){s.update(t[0])},parts:[[s,0]]}})),xl=new t("<li> </li>"),bl=new d((function(){let t,i=xl.make(),n=i.content.firstChild,s=n.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.data=e[0],t=e[0])}}})),Cl=new t('<div class="dialog-actions">\x3c!----\x3e</div>'),Sl=new d((function(){let t=Cl.make(),i=t.content.firstChild,n=i.firstChild,s=new m(new e(1,n),1);return{el:t,position:new e(1,i),update(t){s.update(t[0])},parts:[[s,0]]}})),kl=new t("<div> </div>"),Rl=new d((function(t){let i,n,s,r,o,l=kl.make(),a=l.content.firstChild,h=a.firstChild,d=new En(a),c=new Wt(a),p=new ms(a,t);return d.$applyRestSlotRangeNodes(h),a.addEventListener("click",(()=>t.onClickActionButton(o))),a.classList.add("dialog-action"),{el:l,position:new e(1,a),update(t){o=t[3],i!==t[0]&&(d.primary=t[0],i=t[0],dt(d,"primary")),n!==t[1]&&(c.updateObject({"dialog-third":t[1]}),n=t[1]),s!==t[2]&&(p.update(t[2],{position:"b"}),s=t[2]),r!==t[4]&&(h.data=t[4],r=t[4])},parts:[[p,1],[d,1]]}})),Dl=new t("\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e"),Pl=new d((function(){let t,i=Dl.make(),n=i.content.firstChild,s=i.content.childNodes[1],r=i.content.lastChild,o=new m(new e(1,s)),l=new m(new e(1,r),0),a=new fe(l);return{el:i,position:new e(1,n),update(e){t!==e[0]&&(o.update(e[0]),t=e[0]),a.update(e[1])},parts:[[o,1],[l,1]]}})),Tl=new d((function(t){let i,n,s,r,o=ml.make(),l=o.content.firstChild,a=new Ro(l),h=new _t(l,t,["com"]);return a.on("input",(t=>{r=t}),t),l.classList.add("dialog-input"),{el:o,position:new e(1,l),update(t){r=t[2],i!==t[0]&&(a.placeholder=t[0],i=t[0],dt(a,"placeholder")),n!==t[1]&&(a.validator=t[1],n=t[1],dt(a,"validator")),s!==t[2]&&(a.value=t[2],s=t[2],dt(a,"value")),h.update(t[3])},parts:[[h,1],[a,1]]}})),Ml=new d((function(t){let i,n,s,r,o,l=ml.make(),a=l.content.firstChild,h=new Co(a),d=new _t(a,t,["com"]);return h.on("input",(t=>o=t),t),V(a,"keydown",["enter"],(()=>t.dialog.triggerAction("ok")),t),a.classList.add("dialog-input"),{el:l,position:new e(1,a),update(t){o=t[3],i!==t[0]&&(h.placeholder=t[0],i=t[0],dt(h,"placeholder")),n!==t[1]&&(h.validator=t[1],n=t[1],dt(h,"validator")),s!==t[2]&&(h.type=t[2],s=t[2],dt(h,"type")),r!==t[3]&&(h.value=t[3],r=t[3],dt(h,"value")),d.update(t[4])},parts:[[d,1],[h,1]]}}));class El extends Ot{static style=Vt(".dialog{z-index:1000;width:30em;position:fixed;border-radius:var(--popup-border-radius);box-shadow:0 0 var(--popup-shadow-blur-radius) var(--popup-shadow-color);background:var(--popup-background-color);max-width:95%;max-height:95%;padding:0.6em 1.2em 1.2em;}.dialog-mask{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.5);}.dialog-header{display:flex;font-size:0.928em;padding-bottom:0.4em;border-bottom:1px solid color-mix(in srgb,var(--text-color) 80%,var(--background-color));}.dialog-title{flex:1;min-width:0;padding:0 1.2em 0 0;font-weight:bold;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.dialog-content{display:flex;margin-top:0.6em;}.dialog-left{margin-top:0.1em;margin-right:0.8em;}.dialog-right{flex:1;}.dialog-message{flex:1;min-width:0;line-height:1.4;padding:0.2em 0;word-break:break-word;}.dialog-list{margin:0.6em 0;line-height:1.4;list-style-type:square;padding-left:2em;}.dialog-actions{display:flex;justify-content:flex-end;margin-top:1.2em;.dialog-action{margin-left:0.6em;}.dialog-third{margin-left:0;margin-right:auto;}}.dialog-input{margin-top:0.6em;margin-bottom:0.6em;width:100%;}","Dialog");maskEl;options=null;resolve=null;stack=[];opened=!1;render(){let t=this.options;return ht(this,"options"),t?(ht(t,"actions","title","icon","list"),new f(ul,[t.title?new f(fl,[t.title],this):null,t.icon?new f(wl,[t.icon],this):null,this.renderMessage(),t.list&&(ht(t.list,""),t.list.length>0)?new f(yl,[t.list.map((t=>new f(bl,[t],this)))],this):null,this.renderActions(t.actions)],this)):null}renderMessage(){let t=this.options.message;return ht(this,"options"),ht(this.options,"message"),"function"==typeof t?t():t}renderActions(t){return t&&0!==t.length?new f(Sl,[t.map((t=>new f(Rl,[!!t.primary,t.third,t.tooltip??null,t,t.text],this)))],this):null}onClickActionButton(t){if(!t.handler||!0!==t.handler())if(this.resolve&&(this.resolve(t.value),this.resolve=null,dt(this,"resolve")),this.stack.length>0){let t=this.stack.shift();this.applyOptions(t.options,t.resolve)}else this.hide()}onLeaveTransitionEnded(){this.maskEl.remove()}onConnected(){super.onConnected(),yt().then((()=>{this.maskEl&&this.el.previousElementSibling!==this.maskEl&&this.el.before(this.maskEl)})),R(window,"resize",this.onWindowResize,this)}onUpdated(){this.toCenter()}onDisconnected(){T(window,"resize",this.onWindowResize,this)}onWindowResize(){this.toCenter()}toCenter(){new qi(this.el,{position:"c"}).alignTo(document.documentElement)}applyOptions(t,e){this.options=t,this.resolve=e,dt(this,"options","resolve")}async addOptions(t){let{promise:e,resolve:i}=et();return this.resolve?(this.stack.push({options:t,resolve:i}),dt(this.stack,"")):(this.applyOptions(t,i),this.show()),e}show(){this.opened||(this.opened=!0,this.appendTo(document.body),dt(this,"opened"))}hide(){this.opened&&(this.opened=!1,this.remove(!0),dt(this,"opened"))}triggerAction(t){if(!this.options||!this.options.actions)return;let e=this.options.actions.find((e=>e.value===t));e&&this.onClickActionButton(e)}}class Nl{dialog;addOptions(t){return this.dialog||(this.dialog=new El),this.dialog.addOptions(t)}show(t,e={}){return this.addOptions({message:t,actions:[{value:"ok",text:ri("ok")}],...e})}confirm(t,e={}){return this.addOptions({icon:'<svg viewBox="0 0 21 21"><rect style="fill:currentColor; stroke:none;" x="9.5" y="14.5" width="2" height="2"/><path style="fill:currentColor; stroke:none;" d="M13.6,6.4c-0.1-0.4-0.3-0.7-0.6-1c-0.3-0.3-0.6-0.5-1-0.7c-0.5-0.2-1-0.3-1.5-0.3c-0.5,0-0.9,0.1-1.3,0.3C8.8,4.9,8.5,5.2,8.2,5.5C7.9,5.8,7.6,6.2,7.5,6.7C7.3,7.2,7.2,7.7,7.2,8.3h1.7c0-0.3,0.1-0.7,0.2-1C9.1,7,9.3,6.8,9.4,6.5c0.1-0.2,0.3-0.4,0.5-0.5c0.2-0.1,0.4-0.2,0.6-0.2c0.2,0,0.4,0,0.6,0.1c0.2,0.1,0.3,0.2,0.5,0.3c0.1,0.1,0.2,0.3,0.3,0.5C12,7,12,7.3,12,7.5C12,7.7,12,8,11.9,8.2c-0.1,0.2-0.3,0.4-0.5,0.6c-0.2,0.2-0.4,0.4-0.6,0.6c-0.2,0.2-0.4,0.4-0.6,0.6c-0.2,0.2-0.3,0.5-0.5,0.7c-0.1,0.3-0.2,0.6-0.2,0.9V12l0,0v1h2v-0.6l0,0v-0.7c0-0.3,0.1-0.5,0.2-0.8c0.1-0.2,0.3-0.4,0.4-0.6c0.2-0.2,0.3-0.4,0.6-0.6c0.2-0.2,0.4-0.4,0.6-0.6c0.2-0.2,0.3-0.5,0.4-0.7c0.1-0.3,0.2-0.6,0.2-0.9C13.8,7.1,13.7,6.7,13.6,6.4z"/><circle style="fill:none;stroke:currentColor;" cx="10.5" cy="10.5" r="10"/></svg>',message:t,actions:[{value:"cancel",text:ri("cancel")},{value:"ok",text:ri("ok"),primary:!0}],...e})}async prompt(t,e={}){let i,n=e.defaultValue?String(e.defaultValue):"";if("ok"===await this.addOptions({message:()=>new f(Pl,["function"==typeof t?t():t,"textarea"===e.inputType?new f(Tl,[e.placeholder??"",e.validator??null,n,function(t){i=t}],this):new f(Ml,[e.placeholder??"",e.validator??null,e.inputType||"text",n,function(t){i=t}],this)],this),actions:[{value:"cancel",text:ri("cancel")},{value:"ok",text:ri("ok"),primary:!0,handler:()=>i.touched&&i.valid?null:(i.touched=!0,dt(i,"touched"),!0)}],...e}))return n}}const Ll=(()=>{let t=new Nl;return si.add("en",{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}),t})(),zl=new t('<div class="modal-mask"></div><div class="modal-header"><div class="modal-title"> </div>\x3c!----\x3e</div>\x3c!----\x3e'),Il=new d((function(t){let i,n,s=zl.make(),r=t.el,o=s.content.firstChild,l=s.content.childNodes[1],a=l.firstChild.firstChild,h=l.lastChild,d=s.content.lastChild,c=new pe(r,t,["immediate"]),p=new _t(o,t,["el"]),u=new pe(o,t,["immediate","global"]),g=new m(new e(1,h),0),f=new fe(g),w=new m(new e(1,d));return r.addEventListener("transition-leave-ended",t.onLeaveTransitionEnded.bind(t)),r.setAttribute("tabindex","0"),r.setAttribute("autofocus",""),r.classList.add("modal"),c.update(ae()),p.update((function(t){this.maskEl=t,dt(this,"maskEl")})),u.update(ae()),{el:s,position:new e(1,o),update(t){i!==t[0]&&(a.data=t[0],i=t[0]),f.update(t[1]),n!==t[2]&&(w.update(t[2]),n=t[2])},parts:[[c,2],[p,1],[u,1],[g,0],[w,1]]}})),$l=new t("\x3c!----\x3e\x3c!----\x3e"),Bl=new d((function(){let t,i=$l.make(),n=i.content.firstChild,s=i.content.lastChild,r=new m(new e(1,s));return{el:i,position:new e(1,n),update(e){t!==e[0]&&(r.update(e[0]),t=e[0])},parts:[[r,1]]}})),Ol=new t("<div></div>"),Al=new d((function(t){let i=Ol.make(),n=i.content.firstChild,s=new Wn(n);return n.addEventListener("click",t.hide.bind(t)),n.classList.add("modal-close"),s.icon=we,{el:i,position:new e(1,n),parts:[[s,1]]}})),Fl=new t('<div class="modal-actions"><slot name="action"></slot></div>'),Vl=new d((function(){let t=Fl.make(),i=t.content.firstChild,n=i.firstChild,s=new m(new e(0,n),3);return{el:t,position:new e(1,i),update(t){s.update(t[0])},parts:[[s,0]]}})),Wl=new t('<div class="modal-content"><slot></slot></div>'),Kl=new d((function(t){let i=Wl.make(),n=i.content.firstChild;return n.firstChild.append(...t.$getRestSlotNodes()),{el:i,position:new e(1,n)}}));class _l extends Ot{static SlotContentType=0;static style=Vt(".modal{position:fixed;display:flex;flex-direction:column;z-index:1000;border-radius:var(--popup-border-radius);box-shadow:0 0 var(--popup-shadow-blur-radius) var(--popup-shadow-color);background:var(--popup-background-color);max-width:100%;max-height:100%;padding:0.6em 1.2em;overflow:hidden;}.modal-mask{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.5);}.modal-header{display:flex;flex:none;font-size:0.928em;padding-bottom:0.4em;border-bottom:1px solid color-mix(in srgb,var(--text-color) 80%,var(--background-color));margin-bottom:0.6em;}.modal-title{flex:1;min-width:0;font-weight:bold;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.modal-close{display:flex;margin-top:0;margin-right:-0.4em;cursor:pointer;&:active{transform:translateY(1px);}}.modal-actions{margin-left:1.2em;.button{margin-left:0.6em;font-size:0.928em;}}.modal-content{flex:1;min-height:0;display:flex;flex-direction:column;overflow-y:auto;margin-right:-1.2em;padding-right:1.2em;padding-top:0.2em;padding-bottom:0.2em;}","Modal");maskEl;title="";opened=!1;render(){return ht(this,"title","slotElements"),ht(this.slotElements,"action"),new f(Il,[this.title,this.slotElements.action?new f(Bl,[this.renderAction()],this):new f(Al,[],this),this.renderContent()],this)}renderAction(){return new f(Vl,[this.$getSlotElement("action")],this)}renderContent(){return new f(Kl,[],this)}onLeaveTransitionEnded(){this.maskEl.remove()}onConnected(){super.onConnected(),yt().then((()=>{this.maskEl&&this.el.previousElementSibling!==this.maskEl&&this.el.before(this.maskEl)})),R(window,"resize",this.onWindowResize,this)}onUpdated(){this.toCenter()}onDisconnected(){T(window,"resize",this.onWindowResize,this)}onWindowResize(){this.toCenter()}toCenter(){new qi(this.el,{position:"c"}).alignTo(document.documentElement)}show(){this.opened||(this.opened=!0,this.appendTo(document.body),dt(this,"opened"))}hide(){this.opened&&(this.opened=!1,this.remove(!0),dt(this,"opened"))}}const Ul=new t("<div></div>"),Hl=new d((function(){let t,i=Ul.make(),n=i.content.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(n.setAttribute("class",e[0]),t=e[0])}}}));class jl{head;columnContainer;colgroup;columns;minColumnWidth;columnResized=!1;columnWidths=null;resizingColumnWidths=null;resizingMaskClassName;constructor(t,e,i,n){this.head=t,this.columnContainer=e,this.colgroup=i,this.resizingMaskClassName=n}async update(t,e){this.columns=t,this.minColumnWidth=e,await this.updateColumnWidths()}async updateColumnWidths(){await St(),await Ze();let t=this.head.clientWidth-$e(this.head,"paddingLeft")-$e(this.head,"paddingRight");await ti(),this.updateColumnWidthsByAvailable(t)}updateColumnWidthsByAvailable(t){let e=this.columns.map(((t,e)=>{let{flex:i,width:n}=t,s=Math.max(n||0,this.minColumnWidth),r=this.columnResized?this.columnWidths[e]:s,o=0,l=0;return Array.isArray(i)?(o=i[0]??0,l=i[1]??o):o=l=i??0,[r,o,l]})),i=this.calcColumnWidths(e,t,this.minColumnWidth);this.columnWidths=i,this.setColumnWidths(i)}calcColumnWidths(t,e,i){if(e<i*t.length)return _e(e/t.length,t.length);let n=0,s=0,r=0,o=_e(i,t.length),l=new Set;for(let[e,i,o]of t)n+=e,s+=i,r+=o;for(0===s&&(s=t.length,t.forEach((t=>t[1]=1))),0===r&&(r=t.length,t.forEach((t=>t[2]=1)));;){let a=(e-n)/(e>=n?s:r),h=!1;for(let r=0;r<t.length;r++){if(l.has(r))continue;let[d,c,p]=t[r],u=a>=0?c:p,g=u*a+d;g<i?(e-=i,n-=i,s-=u,l.add(r),h=!0):o[r]=g}if(!h)break}let a=0;for(let t=0;t<o.length-1;t++){let e=o[t],i=Math.round(e);o[t]=i,a+=i-e}return o[o.length-1]-=a,o}setColumnWidths(t){let e=t.reduce(((t,e)=>t+e),0);for(let i=0;i<t.length-1;i++){let n=t[i],s=n/e,r=this.colgroup.children[i],o=this.columnContainer.children[i];this.columns[i].flex?o.style.width=r.style.width=100*s+"%":o.style.width=r.style.width=n+"px"}}onStartResize(t,e){let i=t.clientX,n=t=>{t.preventDefault(),this.resizeColumnByMovementX(t.clientX-i,e)},s=At(new f(Hl,[this.resizingMaskClassName],this));s.appendTo(document.body),R(document,"mousemove",n),D(document,"mouseup",(()=>{this.resizingColumnWidths&&(this.columnWidths=this.resizingColumnWidths,this.resizingColumnWidths=null),T(document,"mousemove",n),s.remove(),this.columnResized=!0}))}resizeColumnByMovementX(t,e){let i=[...this.columnWidths],n=Math.abs(t),s=t<0,r=s?e+1:e;for(let t=s?e:e+1;(s?t>=0:t<this.columns.length)&&n>0;s?t--:t++){let e=i[t],s=n;e-s<this.minColumnWidth&&(s=e-this.minColumnWidth),i[t]-=s,i[r]+=s,n-=s}this.resizingColumnWidths=i,this.setColumnWidths(i)}}const ql=new t("\x3c!----\x3e"),Gl=new d((function(t){let i,n,s=ql.make(),r=t.el,o=s.content.firstChild,l=new Ht(r);return r.classList.add("rect-selection"),{el:s,position:new e(1,o),update(t){i!==t[0]&&(t[0]?r.setAttribute("hidden",""):r.removeAttribute("hidden"),i=t[0]),n!==t[1]&&(l.updateObject(t[1]),n=t[1])}}}));class Yl extends Ot{static style=Vt(".rect-selection{position:absolute;border:1px solid var(--primary-color);background:color-mix(in srgb,var(--primary-color) 10%,transparent);margin-bottom:-100px;margin-right:-100px;}","RectSelection");minimumMove=10;edgePadding=0;ignoreSelector=null;scroller=null;scrollerRect=null;scrollerPosition=0;scrollerScrollSize=0;startEvent=null;startScrollPoint=null;endScrollPoint=null;scrollDirection=null;edgeTimer=null;inSelecting=!1;onConnected(){this.scroller=this.el.parentElement,this.scroller&&R(this.scroller,"mousedown",this.onMouseDown,this)}onMouseDown(t){if(this.shouldIgnoreStartEvent(t))return;let e=Be(this.scroller);this.scrollDirection=e,this.scrollerRect=this.scroller.getBoundingClientRect(),this.scrollerPosition="vertical"===e?this.scroller.scrollTop:"horizontal"===e?this.scroller.scrollLeft:0;let i=Fe(t);this.startScrollPoint=this.clientPointToLocal(i),this.edgeTimer=new Cs(this.scroller,{padding:this.edgePadding}),this.edgeTimer.onUpdate=this.onEdgeTimerUpdate.bind(this),this.startEvent=t,R(document,"mousemove",this.onMouseMove,this),R(document,"mouseup",this.onMouseUp,this),dt(this,"scrollDirection","scrollerRect","scrollerPosition","startScrollPoint","edgeTimer","startEvent"),dt(this.edgeTimer,"onUpdate")}shouldIgnoreStartEvent(t){return ht(this,"ignoreSelector"),!!this.ignoreSelector&&!!t.target.closest(this.ignoreSelector)}clientPointToLocal(t){return t.x-=this.scrollerRect.x,t.y-=this.scrollerRect.y,t.x=Me(t.x,0,this.scrollerRect.width),t.y=Me(t.y,0,this.scrollerRect.height),"vertical"===this.scrollDirection?(t.y+=this.scrollerPosition,ht(this,"scrollerPosition")):"horizontal"===this.scrollDirection&&(t.x+=this.scrollerPosition,ht(this,"scrollerPosition")),ht(this,"scrollerRect","scrollDirection"),t}onMouseMove(t){this.edgeTimer.updateEvent(t);let e=Fe(t);if(this.endScrollPoint=this.clientPointToLocal(e),!this.inSelecting){let t={x:this.endScrollPoint.x-this.startScrollPoint.x,y:this.endScrollPoint.y-this.startScrollPoint.y};Math.sqrt(t.x**2+t.y**2)>this.minimumMove&&this.startSelection()}this.inSelecting&&this.fire("select-update",this.endScrollPoint,this.startScrollPoint),dt(this,"endScrollPoint")}startSelection(){getSelection()?.empty(),this.inSelecting=!0,this.scroller.style.setProperty("pointer-events","none"),this.scroller.style.setProperty("user-select","none"),this.startEvent.preventDefault(),this.fire("select-started",this.startScrollPoint,this.startEvent),dt(this,"inSelecting")}onMouseUp(t){this.endSelection(t)}onEdgeTimerUpdate(t,e){if(this.inSelecting)if("vertical"===this.scrollDirection){if(0!==t.y){let i=this.scroller.clientHeight;this.scrollerScrollSize=this.scroller.scrollHeight;let n=this.scrollerPosition+this.getIncrementalMovement(t.y,e);n=Math.max(n,0),n=Math.min(n,this.scrollerScrollSize-i),n!==this.scrollerPosition&&(this.scrollerPosition=n,t.y<0?this.endScrollPoint.y=n:this.endScrollPoint.y=n+i,this.scroller.scrollTop=n,this.fire("select-update",this.endScrollPoint,this.startScrollPoint),dt(this,"scrollerPosition")),dt(this,"scrollerScrollSize")}}else if("horizontal"===this.scrollDirection&&0!==t.x){let i=this.scroller.clientWidth;this.scrollerScrollSize=this.scroller.scrollWidth;let n=this.scrollerPosition+this.getIncrementalMovement(t.x,e);n=Math.max(n,0),n=Math.min(n,this.scrollerScrollSize-i),n!==this.scrollerPosition&&(this.scrollerPosition=n,t.x<0?this.endScrollPoint.x=n:this.endScrollPoint.x=n+i,this.scroller.scrollLeft=n,this.fire("select-update",this.endScrollPoint,this.startScrollPoint),dt(this,"scrollerPosition")),dt(this,"scrollerScrollSize")}}getIncrementalMovement(t,e){return t*e/16.66}endSelection(t){let e=this.inSelecting;this.inSelecting=!1,this.edgeTimer?.end(),this.edgeTimer=null,this.startScrollPoint=null,this.endScrollPoint=null,this.startEvent=null,this.scroller.style.setProperty("pointer-events",""),this.scroller.style.setProperty("user-select",""),T(document,"mousemove",this.onMouseMove,this),T(document,"mouseup",this.onMouseUp,this),e&&this.fire("select-ended",t),dt(this,"inSelecting","edgeTimer","startScrollPoint","endScrollPoint","startEvent")}render(){let t={};if(this.inSelecting){let e=this.getRectBox();t={left:e.x+"px",top:e.y+"px",width:e.width+"px",height:e.height+"px"}}return ht(this,"inSelecting"),new f(Gl,[!this.inSelecting,t],this)}getRectBox(){let t=vi.fromCoords(this.startScrollPoint,this.endScrollPoint),e=vi.fromLike(this.scrollerRect).translateSelf(-this.scrollerRect.x,-this.scrollerRect.y).expandSelf(10);return"vertical"===this.scrollDirection?(e.translateSelf(0,this.scrollerPosition),ht(this,"scrollerPosition")):"horizontal"===this.scrollDirection&&(e.translateSelf(this.scrollerPosition,0),ht(this,"scrollerPosition")),t.intersectSelf(e),ht(this,"startScrollPoint","endScrollPoint","scrollerRect","scrollDirection"),t}}const Xl=new t("\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e"),Jl=new d((function(t){let i=Xl.make(),n=t.el,s=i.content.firstChild,r=i.content.childNodes[1],o=i.content.lastChild,l=new m(new e(1,r),0),a=new m(new e(1,o),0);return n.addEventListener("mousedown",t.onMouseDown.bind(t)),n.classList.add("table"),{el:i,position:new e(1,s),update(t){l.update(t[0]),a.update(t[1])},parts:[[l,1],[a,1]]}})),Ql=new t('<div class="table-head"><div class="table-columns">\x3c!----\x3e</div></div>'),Zl=new d((function(){let t=Ql.make(),i=t.content.firstChild,n=i.firstChild.firstChild,s=new m(new e(1,n),1);return{el:t,position:new e(1,i),update(t){s.update(t[0])},parts:[[s,0]]}})),ta=new t('<div class="table-body"><table class="table-table"><colgroup>\x3c!----\x3e</colgroup>\x3c!----\x3e</table>\x3c!----\x3e</div>'),ea=new d((function(){let t=ta.make(),i=t.content.firstChild,n=i.firstChild,s=n.firstChild.firstChild,r=n.lastChild,o=i.lastChild,l=new m(new e(1,s),1),a=new m(new e(1,r),0),h=new m(new e(1,o)),d=new fe(h);return{el:t,position:new e(1,i),update(t){l.update(t[0]),a.update(t[1]),d.update(t[2])},parts:[[l,0],[a,0],[h,0]]}})),ia=new t("<div></div>"),na=new d((function(t){let i,n=ia.make(),s=n.content.firstChild,r=new Yl(s);return r.on("select-started",t.onRectSelectStarted,t),r.on("select-ended",t.onRectSelectEnded,t),r.on("select-update",t.onRectSelectUpdate,t),{el:n,position:new e(1,s),update(t){i!==t[0]&&(r.ignoreSelector=t[0],i=t[0],dt(r,"ignoreSelector"))},parts:[[r,1]]}})),sa=new t("<col />"),ra=new d((function(){let t,i=sa.make(),n=i.content.firstChild,s=new Ht(n);return{el:i,position:new e(1,n),update(e){t!==e[0]&&(s.updateObject({"text-align":e[0]}),t=e[0])}}})),oa=new t('<div><div class="table-column-left"><div class="table-column-title">\x3c!----\x3e</div>\x3c!----\x3e</div>\x3c!----\x3e</div>'),la=new d((function(t){let i,n,s,r,o=oa.make(),l=o.content.firstChild,a=l.firstChild,h=a.firstChild.firstChild,d=a.lastChild,c=l.lastChild,p=new Wt(l),u=new Ht(a),g=new m(new e(1,h)),f=new m(new e(1,d)),w=new fe(f),v=new m(new e(1,c)),y=new fe(v);return l.addEventListener("click",(e=>t.doOrdering(e,r))),l.classList.add("table-column"),{el:o,position:new e(1,l),update(t){r=t[1],i!==t[0]&&(p.updateObject({"table-column-ordered":t[0]}),i=t[0]),n!==t[2]&&(u.updateObject({"justify-content":t[2]}),n=t[2]),s!==t[3]&&(g.update(t[3]),s=t[3]),w.update(t[4]),y.update(t[5])},parts:[[g,0],[f,0],[v,0]]}})),aa=new t("<div><div></div></div>"),ha=new d((function(){let t,i,n=aa.make(),s=n.content.firstChild,r=s.firstChild,o=new Wt(s),l=new Wn(r);return s.classList.add("table-order"),l.size="inherit",{el:n,position:new e(1,s),update(e){t!==e[0]&&(o.updateObject({current:e[0]}),t=e[0]),i!==e[1]&&(l.icon=e[1],i=e[1],dt(l,"icon"))},parts:[[l,0]]}})),da=new t('<div class="table-resizer"></div>'),ca=new d((function(t){let i,n=da.make(),s=n.content.firstChild;return s.addEventListener("mousedown",(e=>t.columnResizer.onStartResize(e,i))),{el:n,position:new e(1,s),update(t){i=t[0]}}})),pa=new t("<tbody></tbody>"),ua=new d((function(t){let i,n,s=pa.make(),r=s.content.firstChild,o=new Pn(r),l=new _t(r,t,["com"]);return o.on("freshly-updated",t.onLiveDataUpdated,t),l.update((function(t){this.repeatRef=t,dt(this,"repeatRef")})),o.renderFn=t.renderRow.bind(t),o.scrollerSelector=".table-body",{el:s,position:new e(1,r),update(t){i!==t[0]&&(o.reservedPixels=t[0],i=t[0],dt(o,"reservedPixels")),n!==t[1]&&(o.dataLoader=t[1],n=t[1],dt(o,"dataLoader"))},parts:[[l,1],[o,1]]}})),ga=new d((function(t){let i,n,s=pa.make(),r=s.content.firstChild,o=new Dn(r),l=new _t(r,t,["com"]);return o.on("updated",t.onLiveDataUpdated,t),l.update((function(t){this.repeatRef=t,dt(this,"repeatRef")})),o.renderFn=t.renderRow.bind(t),o.scrollerSelector=".table-body",{el:s,position:new e(1,r),update(t){i!==t[0]&&(o.reservedPixels=t[0],i=t[0],dt(o,"reservedPixels")),n!==t[1]&&(o.data=t[1],n=t[1],dt(o,"data"))},parts:[[l,1],[o,1]]}})),fa=new d((function(t){let i,n=pa.make(),s=n.content.firstChild,r=new xn(s),o=new _t(s,t,["com"]);return s.style.display="table-row-group",o.update((function(t){this.repeatRef=t,dt(this,"repeatRef")})),r.renderFn=t.renderRow.bind(t),r.scrollerSelector=".table-body",{el:n,position:new e(1,s),update(t){i!==t[0]&&(r.data=t[0],i=t[0],dt(r,"data"))},parts:[[o,1],[r,1]]}})),ma=new t("<tr>\x3c!----\x3e</tr>"),wa=new d((function(t){let i,n,s,r=ma.make(),o=r.content.firstChild,l=o.firstChild,a=new Wt(o),h=new m(new e(1,l),1);return o.addEventListener("click",(e=>t.onClickRow(n,s,e))),o.classList.add("table-row"),{el:r,position:new e(1,o),update(t){s=t[2],n=t[1],i!==t[0]&&(a.updateObject({selected:t[0]}),i=t[0]),h.update(t[3])},parts:[[h,0]]}})),va=new t("<td>\x3c!----\x3e</td>"),ya=new d((function(){let t,i,n,s=va.make(),r=s.content.firstChild,o=r.firstChild,l=new Wt(r),a=new Ht(r),h=new m(new e(1,o));return r.classList.add("table-cell"),{el:s,position:new e(1,r),update(e){t!==e[0]&&(l.updateString(e[0]),t=e[0]),i!==e[1]&&(a.updateObject({"text-align":e[1]}),i=e[1]),n!==e[2]&&(h.update(e[2]),n=e[2])},parts:[[h,0]]}}));class xa extends Ot{static SlotContentType=0;static style=Vt(".table{display:flex;flex-direction:column;height:200px;}.table-head{padding-right:8px;color:color-mix(in srgb,var(--text-color) 70%,var(--background-color));;font-weight:bold;user-select:none;}.table-columns{display:flex;height:100%;}.table-column{position:relative;display:flex;align-items:stretch;font-size:0.928em;padding:0.2em 0.6em;border-bottom:1px solid color-mix(in srgb,var(--text-color) 20%,var(--background-color));;&:last-child{flex:1;min-width:0;padding-right:8px;margin-right:-8px;}}.table-column-left{display:flex;flex:1;max-width:100%;&:hover .table-order{visibility:visible;}}.table-column-title{flex:0 1 auto;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.table-column-ordered{border-bottom-color:#888;}.table-order{width:1.2em;flex:none;display:flex;visibility:hidden;margin-right:-1.2em;&.current{visibility:visible;}}.table-resizer{position:relative;z-index:1;width:1.2em;margin-left:auto;margin-right:-1.2em;cursor:e-resize;&::before{content:'';position:absolute;left:8px;top:6px;bottom:6px;width:1px;background:color-mix(in srgb,var(--text-color) 20%,var(--background-color));}}.table-body{flex:1;overflow-y:scroll;overflow-x:hidden;position:relative;border-bottom:1px solid color-mix(in srgb,var(--text-color) 10%,var(--background-color));}.table-table{table-layout:fixed;position:absolute;width:100%;}.table-row{&:hover{background:light-dark(color-mix(in srgb,var(--primary-color) 2.5%,var(--background-color)),color-mix(in srgb,var(--primary-color) 5%,var(--background-color)));}&.selected{background:color-mix(in srgb,var(--primary-color) 10%,var(--background-color));}&:last-child .table-cell{border-bottom-color:transparent;}}.table-cell{vertical-align:middle;padding:0.4em 0.6em;border-bottom:1px solid color-mix(in srgb,var(--text-color) 5%,var(--background-color));;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:default;}.table-resizing-mask{position:fixed;z-index:9999;left:0;right:0;top:0;bottom:0;cursor:ew-resize;}","Table");live=!1;reservedPixels=200;resizable=!1;store;columns;minColumnWidth=48;rowTransition=null;orderName=null;orderDirection=null;rowSelectable=!1;rowRectSelectable=!1;rowRectSelectionIgnoreSelector=null;selections=null;columnResizer=null;repeatRef;rectSelectionStartRowIndex=0;rectStartSelections=null;preventingLoseSelections=!1;$initSelections_effector=void 0;initSelections(){this.rowSelectable&&(ht(this,"selections"),!this.selections)&&(this.selections=new Gi,dt(this,"selections")),ht(this,"rowSelectable")}$cancelSelectionOnClick_effector=void 0;cancelSelectionOnClick(){ht(this,"selections"),this.selections&&(this.selections.hasAnySelected()?R(this.el,"click",this.clearSelections,this):T(this.el,"click",this.clearSelections,this),ht(this.selections,""))}clearSelections(){this.selections&&(this.preventingLoseSelections||(this.selections.clear(),dt(this.selections,"")))}$applyColumnResizerProperties_effector=void 0;applyColumnResizerProperties(){this.columnResizer?.update(this.columns,this.minColumnWidth),ht(this,"columnResizer","columns","minColumnWidth")}$applyOrderToStore_effector=void 0;applyOrderToStore(){let t=this.columns.find(((t,e)=>this.getColumnName(t,e)===this.orderName));this.store instanceof an?(this.orderName&&(ht(this,"orderDirection"),this.orderDirection)?(this.store.orderName=this.orderName,this.store.orderDirection=this.orderDirection):(this.store.orderName=null,this.store.orderDirection=null),dt(this.store,"orderName","orderDirection")):(this.store.setOrder(t?.orderBy??this.orderName,this.orderDirection,t?.orderNumeric,t?.orderIgnoreCase),ht(this,"orderDirection"),t&&ht(t,"orderNumeric","orderIgnoreCase","orderBy")),ht(this,"columns","orderName","store"),ht(this.columns,"")}get startIndex(){return ht(this,"live"),this.live?(ht(this,"repeatRef"),this.repeatRef.startIndex):0}get endIndex(){return ht(this,"live"),this.live?(ht(this,"repeatRef"),this.repeatRef.endIndex):0}get liveData(){return ht(this,"live"),this.live?(ht(this,"repeatRef"),this.repeatRef.liveData):(ht(this,"repeatRef"),ht(this.repeatRef,"data"),this.repeatRef.data)}get alignDirection(){return ht(this,"live"),this.live?(ht(this,"repeatRef"),this.repeatRef.alignDirection):null}onCreated(){super.onCreated(),this.$initSelections_effector=new Pt(this.initSelections,this),this.$cancelSelectionOnClick_effector=new Pt(this.cancelSelectionOnClick,this),this.$applyColumnResizerProperties_effector=new Pt(this.applyColumnResizerProperties,this),this.$applyOrderToStore_effector=new Pt(this.applyOrderToStore,this)}onConnected(){super.onConnected(),Si(this.el,this.onSizeChange,this),this.$initSelections_effector.connect(),this.$cancelSelectionOnClick_effector.connect(),this.$applyColumnResizerProperties_effector.connect(),this.$applyOrderToStore_effector.connect()}onWillDisconnect(){ki(this.el,this.onSizeChange,this),this.$initSelections_effector.disconnect(),this.$cancelSelectionOnClick_effector.disconnect(),this.$applyColumnResizerProperties_effector.disconnect(),this.$applyOrderToStore_effector.disconnect()}onReady(){this.initColumnResizer()}onSizeChange(){this.columnResizer?.updateColumnWidths()}initColumnResizer(){let t=this.el.querySelector(".table-head"),e=this.el.querySelector(".table-columns"),i=this.el.querySelector(".table-table > colgroup");this.columnResizer=new jl(t,e,i,"table-resizing-mask"),dt(this,"columnResizer")}render(){return new f(Jl,[this.renderHead(),this.renderBody()],this)}renderHead(){return new f(Zl,[this.renderColumns()],this)}renderBody(){return ht(this,"columns","rowSelectable"),ht(this.columns,""),new f(ea,[this.columns.map((t=>(ht(t,"align"),new f(ra,[t.align||""],this)))),this.renderRows(),this.rowSelectable?(ht(this,"rowRectSelectionIgnoreSelector"),new f(na,[this.rowRectSelectionIgnoreSelector],this)):null],this)}renderColumns(){return ht(this,"columns"),ht(this.columns,""),this.columns.map(((t,e)=>this.renderColumn(t,e)))}renderColumn(t,e){let i=this.getColumnName(t,e),n=this.orderName===i,s="right"===t.align?"flex-end":"center"===t.align?"center":"";return ht(this,"orderName","resizable"),ht(t,"align","title","orderBy"),new f(la,[n,e,s,t.title,t.orderBy?new f(ha,[n&&(ht(this,"orderDirection"),null!==this.orderDirection),this.renderOrderDirectionIcon(i)],this):null,this.resizable&&(ht(this,"columns"),ht(this.columns,""),e<this.columns.length-1)?new f(ca,[e],this):null],this)}renderOrderDirectionIcon(t){if(ht(this,"orderName"),t===this.orderName){if(ht(this,"orderDirection"),"asc"===this.orderDirection)return'<svg viewBox="0 0 7 14"><polygon style="fill:currentColor;stroke:none;fill-opacity:0.4;" points="5.7,8 3.5,11.8 1.3,8 0.2,8 0.1,8 3.5,13.8 6.9,8 6.8,8"/><polygon style="fill:currentColor;stroke:none;" points="3.5,0.3 0.1,6 0.2,6 1.3,6 3.5,2.2 5.7,6 6.8,6 6.9,6"/></svg>';if("desc"===this.orderDirection)return'<svg viewBox="0 0 7 14"><polygon style="fill:currentColor;stroke:none;" points="5.7,8 3.5,11.8 1.3,8 0.2,8 0.1,8 3.5,13.8 6.9,8 6.8,8"/><polygon style="fill:currentColor;stroke:none;fill-opacity:0.4;" points="3.5,0.3 0.1,6 0.2,6 1.3,6 3.5,2.2 5.7,6 6.8,6 6.9,6"/></svg>'}return'<svg viewBox="0 0 7 14"><polygon style="fill:currentColor;stroke:none;fill-opacity:0.4;" points="5.7,8 3.5,11.8 1.3,8 0.2,8 0.1,8 3.5,13.8 6.9,8 6.8,8"/><polygon style="fill:currentColor;stroke:none;fill-opacity:0.4;" points="3.5,0.3 0.1,6 0.2,6 1.3,6 3.5,2.2 5.7,6 6.8,6 6.9,6"/></svg>'}renderRows(){return ht(this,"store"),this.store instanceof an?(ht(this,"reservedPixels"),ht(this.store,"dataLoader"),new f(ua,[this.reservedPixels,this.store.dataLoader],this)):(ht(this,"live"),ht(this.store,"currentData"),this.live?(ht(this,"reservedPixels"),new f(ga,[this.reservedPixels,this.store.currentData],this)):new f(fa,[this.store.currentData],this))}renderRow(t,e){return ht(this,"selections"),this.selections&&ht(this.selections,""),new f(wa,[this.selections?.hasSelected(t),t,e,this.renderCells(t,e)],this)}renderCells(t,e){e+=this.startIndex;let i=this.columns.map((i=>{let n=i.renderer?i.renderer.call(this,t,e):"";return ht(i,"renderer","className","align"),new f(ya,[i.className??"",i.align||"",n],this)}));return ht(this,"columns"),ht(this.columns,""),i}onLiveDataUpdated(){this.fire("live-updated")}doOrdering(t,e){if(t.target.closest(".resizer"))return;let i=this.columns[e];if(!i.orderBy)return;let n=null,s=i.descFirst,r=this.getColumnName(i,e);n=r===this.orderName?s?null===this.orderDirection?"desc":"desc"===this.orderDirection?"asc":null:null===this.orderDirection?"asc":"asc"===this.orderDirection?"desc":null:s?"desc":"asc",this.orderName=null===n?null:r,this.orderDirection=n,this.fire("order-change",this.orderName,this.orderDirection),dt(this,"orderName","orderDirection")}getColumnName(t,e){return ht(t,"name"),t.name??"column_"+e}onMouseDown(t){this.rowSelectable&&t.shiftKey&&t.preventDefault()}onClickRow(t,e,i){if(this.rowSelectable)if(i.stopPropagation(),i.preventDefault(),"contextmenu"===i.type){let t=this.store.currentData[e];if(!t)return;if(this.selections.hasSelected(t))return;this.selections.selectByMouseEvent(e,this.store.currentData,i),dt(this.selections,"")}else this.selections.selectByMouseEvent(e,this.store.currentData,i),dt(this.selections,"")}onRectSelectStarted(t,e){this.rectSelectionStartRowIndex=this.repeatRef.getIndexAtOffset(t.y),e.ctrlKey||e.shiftKey?this.rectStartSelections=[...this.selections.getSelected()]:this.rectStartSelections=[],dt(this,"rectSelectionStartRowIndex","rectStartSelections")}onRectSelectEnded(){this.rectStartSelections=null,this.rectSelectionStartRowIndex=0,this.preventingLoseSelections=!0,ze(0).then((()=>{this.preventingLoseSelections=!1,dt(this,"preventingLoseSelections")})),dt(this,"rectStartSelections","rectSelectionStartRowIndex","preventingLoseSelections")}onRectSelectUpdate(t){let e=this.rectSelectionStartRowIndex,i=this.repeatRef.getIndexAtOffset(t.y);if(-1===e||-1===i)return;e>i&&([e,i]=[i,e]);let n=this.store.currentData.slice(e,i+1);n.push(...this.rectStartSelections),this.selections.selectOnly(...n),dt(this.selections,"")}isIndexRendered(t){return t>=this.startIndex&&t<this.endIndex}isIndexVisible(t,e=0){return t>=this.getStartVisibleIndex(e)&&t<=this.getEndVisibleIndex(e)}getStartVisibleIndex(t=0){return ht(this,"repeatRef"),this.repeatRef.getStartVisibleIndex(t)}getEndVisibleIndex(t=0){return ht(this,"repeatRef"),this.repeatRef.getEndVisibleIndex(t)}async setStartVisibleIndex(t){if(!this.live)throw new Error('"setStartIndex(...)" only works in "live" mode.');this.repeatRef||await this.untilUpdated(),this.repeatRef.setStartVisibleIndex(t)}async scrollIndexToStart(t,e,i,n){return ht(this,"repeatRef"),this.repeatRef.scrollIndexToStart(t,e,i,n)}async scrollIndexToView(t,e,i,n){return ht(this,"repeatRef"),this.repeatRef.scrollIndexToView(t,e,i,n)}}const ba=new t("\x3c!----\x3e"),Ca=new d((function(t){let i,n=ba.make(),s=t.el,r=n.content.firstChild,o=new Wt(s);return s.addEventListener("mousedown",t.onMouseDown.bind(t)),{el:n,position:new e(1,r),update(t){i!==t[0]&&(o.updateString("resizer resizer-"+t[0]),i=t[0])}}})),Sa=new t("<div></div>"),ka=new d((function(){let t,i=Sa.make(),n=i.content.firstChild;return{el:i,position:new e(1,n),update(e){t!==e[0]&&(n.setAttribute("class","resizing-mask "+e[0]),t=e[0])}}}));class Ra extends Ot{static SlotContentType=0;static style=Vt(".resizer{flex:none;position:relative;will-change:true;z-index:100;}.resizer-top{width:100%;height:10px;cursor:ns-resize;}.resizer-bottom{width:100%;height:10px;cursor:ns-resize;}.resizer-left{width:10px;height:100%;cursor:ew-resize;}.resizer-right{width:10px;height:100%;cursor:ew-resize;}.resizing-mask{position:fixed;z-index:9999;left:0;right:0;top:0;bottom:0;&.horizontal{cursor:ew-resize;}&.vertical{cursor:ns-resize;}}","Resizer");position="right";render(){return ht(this,"position"),new f(Ca,[this.position],this)}onMouseDown(t){let e=new Xi(t);e.onMove=(t,e,i)=>{i.preventDefault(),this.fire("resize-move",t,i)},e.onEnd=t=>{n.remove(),this.fire("resize-end",t)};let i="left"===this.position||"right"===this.position?"horizontal":"vertical",n=At(new f(ka,[i],this));n.appendTo(document.body),this.fire("resize-start",t)}}const Da=new t("\x3c!----\x3e"),Pa=new d((function(t){let i,n=Da.make(),s=t.el,r=n.content.firstChild,o=new Wt(s);return s.addEventListener("mousedown",t.onMouseDown.bind(t)),{el:n,position:new e(1,r),update(t){i!==t[0]&&(o.updateString("resizer parental-resizer resizer-"+t[0]),i=t[0])}}}));class Ta extends Ra{static SlotContentType=0;static style=Vt(".parental-resizer{position:absolute;z-index:100;&.resizer-top{top:-5px;left:0;}&.resizer-bottom{bottom:-5px;left:0;}&.resizer-left{top:0;left:-5px;}&.resizer-right{top:0;right:-5px;}}","ParentalResizer");rate=1;min=0;max=1/0;size=-1;startParentSize=null;onCreated(){super.onCreated(),this.on("resize-start",this.onResizeStart,this),this.on("resize-move",this.onResizeMoves,this)}render(){return ht(this,"position"),new f(Pa,[this.position],this)}onResizeStart(){this.startParentSize={width:this.el.parentElement.offsetWidth,height:this.el.parentElement.offsetHeight},dt(this,"startParentSize")}onResizeMoves(t,e){let i;e.preventDefault();let n=this.startParentSize;if("top"===this.position||"bottom"===this.position){let e="bottom"===this.position?1:-1;i=n.height+e*t.y*this.rate,i=Me(i,this.min,this.max),this.el.parentElement.style.height=i+"px"}else{let e="right"===this.position?1:-1;i=n.width+e*t.x*this.rate,i=Me(i,this.min,this.max),this.el.parentElement.style.width=i+"px"}this.size=i,dt(this,"size")}}const Ma=new t('<div class="wrapper"><h2>Components</h2>\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e\x3c!----\x3e</div>'),Ea=new d((function(t){let i=Ma.make(),n=t.el,s=i.content.firstChild,r=s.firstChild,o=s.childNodes[1],l=s.childNodes[2],a=s.childNodes[3],h=s.childNodes[4],d=s.childNodes[5],c=s.childNodes[6],p=s.childNodes[7],u=s.childNodes[8],g=s.childNodes[9],f=s.childNodes[10],w=s.childNodes[11],v=s.childNodes[12],y=s.childNodes[13],x=s.childNodes[14],b=s.childNodes[15],C=s.childNodes[16],S=s.childNodes[17],k=s.childNodes[18],R=s.childNodes[19],D=s.childNodes[20],P=s.childNodes[21],T=s.childNodes[22],M=s.lastChild,E=new m(new e(1,r),0),N=new m(new e(1,o),0),L=new m(new e(1,l),0),z=new m(new e(1,a),0),I=new m(new e(1,h),0),$=new m(new e(1,d),0),B=new m(new e(1,c),0),O=new m(new e(1,p),0),A=new m(new e(1,u),0),F=new m(new e(1,g),0),V=new m(new e(1,f),0),W=new m(new e(1,w),0),K=new m(new e(1,v),0),_=new m(new e(1,y),0),U=new m(new e(1,x),0),H=new m(new e(1,b),0),j=new m(new e(1,C),0),q=new m(new e(1,S),0),G=new m(new e(1,k),0),Y=new m(new e(1,R),0),X=new m(new e(1,D),0),J=new m(new e(1,P),0),Q=new m(new e(1,T),0),Z=new m(new e(1,M),0);return n.classList.add("preview","size-default"),n.style.color="var(--text-color)",n.style.background="var(--background-color)",{el:i,position:new e(1,s),update(t){E.update(t[0]),N.update(t[1]),L.update(t[2]),z.update(t[3]),I.update(t[4]),$.update(t[5]),B.update(t[6]),O.update(t[7]),A.update(t[8]),F.update(t[9]),V.update(t[10]),W.update(t[11]),K.update(t[12]),_.update(t[13]),U.update(t[14]),H.update(t[15]),j.update(t[16]),q.update(t[17]),G.update(t[18]),Y.update(t[19]),X.update(t[20]),J.update(t[21]),Q.update(t[22]),Z.update(t[23])},parts:[[E,0],[N,0],[L,0],[z,0],[I,0],[$,0],[B,0],[O,0],[A,0],[F,0],[V,0],[W,0],[K,0],[_,0],[U,0],[H,0],[j,0],[q,0],[G,0],[Y,0],[X,0],[J,0],[Q,0],[Z,0]]}})),Na=new t('<section class="theme"><h2>Theme</h2><div><div>Light Mode</div><div><div><div>Auto</div><div>Light</div><div>Dark</div></div></div></div><div><div>Size</div><div><div><div>Small</div><div>Medium</div><div>Large</div></div></div></div><div><div>Main color</div><div><div></div></div></div></section>'),La=new d((function(t){let i=Na.make(),n=i.content.firstChild,s=n.childNodes[1],r=s.firstChild,o=r.firstChild,l=s.lastChild,a=l.firstChild,h=a.firstChild,d=h.firstChild,c=a.childNodes[1],p=c.firstChild,u=a.lastChild,g=u.firstChild,f=n.childNodes[2],m=f.firstChild,w=m.firstChild,v=f.lastChild,y=v.firstChild,x=y.firstChild,b=x.firstChild,C=y.childNodes[1],S=C.firstChild,k=y.lastChild,R=k.firstChild,D=n.lastChild,P=D.firstChild,T=P.firstChild,M=D.lastChild,E=M.firstChild,N=new On(s),L=new An(r),z=new An(l),I=new Kn(a),$=new Hn(h),B=new Hn(c),O=new Hn(u),A=new On(f),F=new An(m),V=new An(v),W=new Kn(y),K=new Hn(x),_=new Hn(C),U=new Hn(k),H=new On(D),j=new An(P),q=new An(M),G=new qh(E);return N.$applyRestSlotRangeNodes(r,l),L.$applyRestSlotRangeNodes(o),z.$applyRestSlotRangeNodes(a),I.$applyRestSlotRangeNodes(h,u),I.on("change",(t=>document.documentElement.style.setProperty("color-scheme",t)),t),$.$applyRestSlotRangeNodes(d),B.$applyRestSlotRangeNodes(p),O.$applyRestSlotRangeNodes(g),A.$applyRestSlotRangeNodes(m,v),F.$applyRestSlotRangeNodes(w),V.$applyRestSlotRangeNodes(y),W.$applyRestSlotRangeNodes(x,k),W.on("change",(t=>{document.documentElement.style.setProperty("--text-size",String("small"===t?13:"large"===t?16:14)+"px")}),t),K.$applyRestSlotRangeNodes(b),_.$applyRestSlotRangeNodes(S),U.$applyRestSlotRangeNodes(R),H.$applyRestSlotRangeNodes(P,M),j.$applyRestSlotRangeNodes(T),q.$applyRestSlotRangeNodes(E),s.style.margin="12px 0",L.span=4,z.span=20,I.value="light dark",$.value="light dark",h.style["margin-right"]="20px",B.value="light",c.style["margin-right"]="20px",O.value="dark",u.style["margin-right"]="20px",f.style.margin="12px 0",F.span=4,V.span=20,W.value="medium",K.value="small",x.style["margin-right"]="20px",_.value="medium",C.style["margin-right"]="20px",U.value="large",k.style["margin-right"]="20px",D.style.margin="12px 0",j.span=4,q.span=20,E.style.width="12em",{el:i,position:new e(1,n),parts:[[N,0],[L,0],[z,0],[I,0],[$,0],[B,0],[O,0],[A,0],[F,0],[V,0],[W,0],[K,0],[_,0],[U,0],[H,0],[j,0],[q,0],[G,0]]}})),za=new t('<section class="basic"><h3>Buttons</h3><div><div><header>Primary</header><div>Button Text</div><br /><div><div></div><span>Button Text</span></div><br /><div><div></div></div><br /></div><div><header>Normal</header><div>Button Text</div><br /><div><span>Button Text</span><div></div></div><br /><div><div></div></div><br /></div><div><header>Flat</header><div>Button Text</div><br /><div><div></div><span>Button Text</span></div><br /></div></div></section>'),Ia=new d((function(){let t=za.make(),i=t.content.firstChild,n=i.lastChild,s=n.firstChild,r=s.firstChild,o=s.childNodes[1],l=o.firstChild,a=s.childNodes[3],h=a.firstChild,d=a.lastChild,c=s.childNodes[5],p=c.firstChild,u=s.lastChild,g=n.childNodes[1],f=g.firstChild,m=g.childNodes[1],w=m.firstChild,v=g.childNodes[3],y=v.firstChild,x=v.lastChild,b=g.childNodes[5],C=b.firstChild,S=g.lastChild,k=n.lastChild,R=k.firstChild,D=k.childNodes[1],P=D.firstChild,T=k.childNodes[3],M=T.firstChild,E=T.lastChild,N=k.lastChild,L=new On(n),z=new An(s),I=new En(o),$=new En(a),B=new Wn(h),O=new En(c),A=new Wn(p),F=new An(g),V=new En(m),W=new En(v),K=new Wn(x),_=new En(b),U=new Wn(C),H=new An(k),j=new En(D),q=new En(T),G=new Wn(M);return L.$applyRestSlotRangeNodes(s,k),z.$applyRestSlotRangeNodes(r,u),I.$applyRestSlotRangeNodes(l),$.$applyRestSlotRangeNodes(h,d),O.$applyRestSlotRangeNodes(p),F.$applyRestSlotRangeNodes(f,S),V.$applyRestSlotRangeNodes(w),W.$applyRestSlotRangeNodes(y,x),_.$applyRestSlotRangeNodes(C),H.$applyRestSlotRangeNodes(R,N),j.$applyRestSlotRangeNodes(P),q.$applyRestSlotRangeNodes(M,E),n.style.margin="12px 0",z.span=4,o.style.margin="8px 0",I.primary=!0,a.style.margin="8px 0",$.primary=!0,B.icon=xe,c.style.margin="8px 0",O.primary=!0,A.icon=xe,F.span=4,m.style.margin="8px 0",v.style.margin="8px 0",K.icon=xe,b.style.margin="8px 0",U.icon=xe,H.span=4,D.style.margin="8px 0",j.flat=!0,T.style.margin="8px 0",q.flat=!0,G.icon=xe,{el:t,position:new e(1,i),parts:[[L,0],[z,0],[I,0],[$,0],[B,0],[O,0],[A,0],[F,0],[V,0],[W,0],[K,0],[_,0],[U,0],[H,0],[j,0],[q,0],[G,0]]}})),$a=new t("<section><h3>Button Group</h3><div><div>One</div><div>Two</div><div>Three</div></div><br /><div><div><div></div></div><div><div></div></div><div><div></div></div></div><br /></section>"),Ba=new d((function(){let t=$a.make(),i=t.content.firstChild,n=i.childNodes[1],s=n.firstChild,r=s.firstChild,o=n.childNodes[1],l=o.firstChild,a=n.lastChild,h=a.firstChild,d=i.childNodes[3],c=d.firstChild,p=c.firstChild,u=d.childNodes[1],g=u.firstChild,f=d.lastChild,m=f.firstChild,w=new zn(n),v=new En(s),y=new En(o),x=new En(a),b=new zn(d),C=new En(c),S=new Wn(p),k=new En(u),R=new Wn(g),D=new En(f),P=new Wn(m);return w.$applyRestSlotRangeNodes(s,a),v.$applyRestSlotRangeNodes(r),y.$applyRestSlotRangeNodes(l),x.$applyRestSlotRangeNodes(h),b.$applyRestSlotRangeNodes(c,f),C.$applyRestSlotRangeNodes(p),k.$applyRestSlotRangeNodes(g),D.$applyRestSlotRangeNodes(m),n.style.margin="8px 0",v.primary=!0,d.style.margin="8px 0",C.primary=!0,S.icon=xe,R.icon=xe,P.icon=xe,{el:t,position:new e(1,i),parts:[[w,0],[v,0],[y,0],[x,0],[b,0],[C,0],[S,0],[k,0],[R,0],[D,0],[P,0]]}})),Oa=new t('<section><h3>Links</h3><div><div><header>Primary</header><div><a href="javascript:void">Link Text</a></div></div><div><header>Normal</header><div><a href="javascript:void">Link Text</a></div></div></div></section>'),Aa=new d((function(){let t=Oa.make(),i=t.content.firstChild,n=i.lastChild,s=n.firstChild,r=s.firstChild,o=s.lastChild,l=o.firstChild,a=n.lastChild,h=a.firstChild,d=a.lastChild,c=d.firstChild,p=new On(n),u=new An(s),g=new so(o),f=new An(a),m=new so(d);return p.$applyRestSlotRangeNodes(s,a),u.$applyRestSlotRangeNodes(r,o),g.$applyRestSlotRangeNodes(l),f.$applyRestSlotRangeNodes(h,d),m.$applyRestSlotRangeNodes(c),n.style.margin="12px 0",u.span=4,g.primary=!0,f.span=4,{el:t,position:new e(1,i),parts:[[p,0],[u,0],[g,0],[f,0],[m,0]]}})),Fa=new t("<section><h3>Labels</h3><div><div><header>Normal</header><div>First Name</div></div><div><header>Required</header><div>Email</div></div><div><header>With Info</header><div>Last Name<div></div></div></div></div></section>"),Va=new d((function(t){let i=Fa.make(),n=i.content.firstChild,s=n.lastChild,r=s.firstChild,o=r.firstChild,l=r.lastChild,a=l.firstChild,h=s.childNodes[1],d=h.firstChild,c=h.lastChild,p=c.firstChild,u=s.lastChild,g=u.firstChild,f=u.lastChild,m=f.firstChild,w=f.lastChild,v=new On(s),y=new An(r),x=new lo(l),b=new An(h),C=new lo(c),S=new An(u),k=new lo(f),R=new Wn(w),D=new ms(w,t);return v.$applyRestSlotRangeNodes(r,u),y.$applyRestSlotRangeNodes(o,l),x.$applyRestSlotRangeNodes(a),b.$applyRestSlotRangeNodes(d,c),C.$applyRestSlotRangeNodes(p),S.$applyRestSlotRangeNodes(g,f),k.$applyRestSlotRangeNodes(m,w),s.style.margin="12px 0",y.span=4,b.span=4,C.required=!0,S.span=4,R.icon='<svg viewBox="0 0 15 15"><path style="fill:currentColor; stroke:none;" d="M7,1c3.3,0,6,2.7,6,6s-2.7,6-6,6s-6-2.7-6-6S3.7,1,7,1 M7,0C3.1,0,0,3.1,0,7s3.1,7,7,7s7-3.1,7-7S10.9,0,7,0z"/><rect style="fill:currentColor; stroke:none;" x="6" y="3" width="2" height="2"/><polygon style="fill:currentColor; stroke:none;" points="8,10 8,7 8,6 6,6 5,6 5,7 6,7 6,10 5,10 5,11 6,11 8,11 9,11 9,10"/></svg>',D.update("Guide Tips"),{el:i,position:new e(1,n),parts:[[v,0],[y,0],[x,0],[b,0],[C,0],[S,0],[k,0],[D,0],[R,0]]}})),Wa=new t('<section><div><div><h3>Checkboxes</h3><div><div> </div><br /><div> </div><br /><div> </div><br /></div></div><div><h3>Radios</h3><div><div>Radio 1</div><br /><div>Radio 2</div><br /></div></div><div><h3>Switches</h3><div style="padding: 0.2em 0"><div></div> </div><div style="padding: 0.2em 0"><div></div> </div></div><div><h3>Tags</h3><div style="padding: 0.2em 0"><div>Normal Tag</div></div><div style="padding: 0.2em 0"><div>Closable Tag</div></div></div></div></section>'),Ka=new d((function(t){let i,n,s,r,o,l,a,h,d,c,p=Wa.make(),u=p.content.firstChild,g=u.firstChild,f=g.firstChild,m=f.firstChild,w=f.lastChild,v=w.firstChild,y=v.firstChild,x=w.childNodes[2],b=x.firstChild,C=w.childNodes[4],S=C.firstChild,k=w.lastChild,R=g.childNodes[1],D=R.firstChild,P=R.lastChild,T=P.firstChild,M=T.firstChild,E=P.childNodes[2],N=E.firstChild,L=P.lastChild,z=g.childNodes[2],I=z.firstChild,$=z.childNodes[1],B=$.firstChild,O=$.lastChild,A=z.lastChild,F=A.firstChild,V=A.lastChild,W=g.lastChild,K=W.firstChild,_=W.childNodes[1].firstChild,U=_.firstChild,H=W.lastChild,j=H.firstChild,q=j.firstChild,G=new On(g),Y=new An(f),X=new jn(w),J=new Yn(v),Q=new Yn(x),Z=new Yn(C),tt=new An(R),et=new Kn(P),it=new Hn(T),nt=new Hn(E),st=new An(z),rt=new Qn(B),ot=new Qn(F),lt=new An(W),at=new uo(_),ht=new uo(j);return G.$applyRestSlotRangeNodes(f,W),Y.$applyRestSlotRangeNodes(m,w),X.$applyRestSlotRangeNodes(v,k),X.on("change",(e=>{t.checkboxValue=e,dt(t,"checkboxValue")}),t),J.$applyRestSlotRangeNodes(y),Q.$applyRestSlotRangeNodes(b),Z.$applyRestSlotRangeNodes(S),Z.on("change",(()=>(dt(t,"checkboxIndeterminate"),t.checkboxIndeterminate=!1)),t),tt.$applyRestSlotRangeNodes(D,P),et.$applyRestSlotRangeNodes(T,L),it.$applyRestSlotRangeNodes(M),nt.$applyRestSlotRangeNodes(N),st.$applyRestSlotRangeNodes(I,A),rt.on("change",(e=>(dt(t,"switch1On"),t.switch1On=e)),t),ot.on("change",(e=>(dt(t,"switch2On"),t.switch2On=e)),t),lt.$applyRestSlotRangeNodes(K,H),at.$applyRestSlotRangeNodes(U),ht.$applyRestSlotRangeNodes(q),ht.on("close",(()=>(dt(t,"tagClosed"),t.tagClosed=!0)),t),g.style.margin="8px 0",G.gutter=24,Y.span=6,J.value="1",Q.value="2",Z.value="3",tt.span=6,et.value="1",it.value="1",nt.value="2",st.span=6,B.style["margin-right"]="8px",F.style["margin-right"]="8px",lt.span=6,ht.closable=!0,{el:p,position:new e(1,u),update(t){i!==t[0]&&(X.value=t[0],i=t[0],dt(X,"value")),n!==t[1]&&(y.data=t[1],n=t[1]),s!==t[2]&&(b.data=t[2],s=t[2]),r!==t[3]&&(Z.indeterminate=t[3],r=t[3],dt(Z,"indeterminate")),o!==t[4]&&(S.data=t[4],o=t[4]),l!==t[5]&&(rt.value=t[5],l=t[5],dt(rt,"value")),a!==t[6]&&(O.data="Switch 1 "+t[6],a=t[6]),h!==t[7]&&(ot.value=t[7],h=t[7],dt(ot,"value")),d!==t[8]&&(V.data="Switch 2 "+t[8],d=t[8]),c!==t[9]&&(t[9]?j.setAttribute("hidden",""):j.removeAttribute("hidden"),c=t[9])},parts:[[G,0],[Y,0],[X,0],[J,0],[Q,0],[Z,0],[tt,0],[et,0],[it,0],[nt,0],[st,0],[rt,0],[ot,0],[lt,0],[at,0],[ht,0]]}})),_a=new t("<section><h3>Form Inputs</h3><div><div><header>Text Input</header><div></div></div><div><header>With Placeholder</header><div></div></div><div><header>Textarea</header><div></div></div></div><div><div><header>Valid Input</header><div></div></div><div><header>Invalid Input</header><div></div></div><div><header>Error message on tooltip</header><div></div></div></div></section>"),Ua=new d((function(){let t=_a.make(),i=t.content.firstChild,n=i.childNodes[1],s=n.firstChild,r=s.firstChild,o=s.lastChild,l=n.childNodes[1],a=l.firstChild,h=l.lastChild,d=n.lastChild,c=d.firstChild,p=d.lastChild,u=i.lastChild,g=u.firstChild,f=g.firstChild,m=g.lastChild,w=u.childNodes[1],v=w.firstChild,y=w.lastChild,x=u.lastChild,b=x.firstChild,C=x.lastChild,S=new On(n),k=new An(s),R=new Co(o),D=new An(l),P=new Co(h),T=new An(d),M=new Ro(p),E=new On(u),N=new An(g),L=new Co(m),z=new An(w),I=new Co(y),$=new An(x),B=new Co(C);return S.$applyRestSlotRangeNodes(s,d),k.$applyRestSlotRangeNodes(r,o),D.$applyRestSlotRangeNodes(a,h),T.$applyRestSlotRangeNodes(c,p),E.$applyRestSlotRangeNodes(g,x),N.$applyRestSlotRangeNodes(f,m),z.$applyRestSlotRangeNodes(v,y),$.$applyRestSlotRangeNodes(b,C),n.style.margin="8px 0 16px 0",S.gutter=24,k.span=6,R.type="text",o.style.width="100%",D.span=6,P.type="text",h.style.width="100%",P.placeholder="With Placeholder",T.span=6,M.rows=2,p.style.width="100%",u.style.margin="8px 0 16px 0",E.gutter=24,N.span=6,L.type="text",m.style.width="100%",L.touched=!0,L.valid=!0,L.placeholder="Valid Input",z.span=6,I.type="text",y.style.width="100%",I.touched=!0,I.valid=!1,I.placeholder="Invalid Input",I.errorMessage="Error Message",$.span=6,B.type="text",C.style.width="100%",B.errorOnTooltip=!0,B.touched=!0,B.valid=!1,B.placeholder="Invalid Input",B.errorMessage="Error Message",{el:t,position:new e(1,i),parts:[[S,0],[k,0],[R,0],[D,0],[P,0],[T,0],[M,0],[E,0],[N,0],[L,0],[z,0],[I,0],[$,0],[B,0]]}})),Ha=new t("<section><h3>Form</h3><div><div><div><header><div>Name</div></header><div></div></div></div><div><div><header>Country</header><div></div></div><div><header>City</header><div></div></div></div><div><div><header>Address</header><div></div></div></div><div><div><header>About</header><div></div></div></div><div><div><div>Save</div></div></div></div></section>"),ja=new d((function(t){let i=Ha.make(),n=i.content.firstChild,s=n.lastChild,r=s.firstChild,o=r.firstChild,l=o.firstChild,a=l.firstChild,h=a.firstChild,d=o.lastChild,c=s.childNodes[1],p=c.firstChild,u=p.firstChild,g=p.lastChild,f=c.lastChild,m=f.firstChild,w=f.lastChild,v=s.childNodes[2],y=v.firstChild,x=y.firstChild,b=y.lastChild,C=s.childNodes[3],S=C.firstChild,k=S.firstChild,R=S.lastChild,D=s.lastChild,P=D.firstChild,T=P.firstChild,M=T.firstChild,E=new Do(s),N=new _t(s,t,["com"]),L=new On(r),z=new An(o),I=new lo(a),$=new Co(d),B=new On(c),O=new An(p),A=new Xr(g),F=new An(f),V=new Xr(w),W=new On(v),K=new An(y),_=new Co(b),U=new On(C),H=new An(S),j=new Ro(R),q=new On(D),G=new An(P),Y=new En(T);return E.$applyRestSlotRangeNodes(r,D),L.$applyRestSlotRangeNodes(o),z.$applyRestSlotRangeNodes(l,d),I.$applyRestSlotRangeNodes(h),B.$applyRestSlotRangeNodes(p,f),O.$applyRestSlotRangeNodes(u,g),F.$applyRestSlotRangeNodes(m,w),W.$applyRestSlotRangeNodes(y),K.$applyRestSlotRangeNodes(x,b),U.$applyRestSlotRangeNodes(S),H.$applyRestSlotRangeNodes(k,R),q.$applyRestSlotRangeNodes(P),G.$applyRestSlotRangeNodes(T),Y.$applyRestSlotRangeNodes(M),T.addEventListener("click",(()=>t.form.validate())),N.update((function(t){this.form=t,dt(this,"form")})),r.style.margin="8px 0 24px 0",L.gutter=24,z.span=12,I.required=!0,d.style.width="100%",$.validator=t=>0===t.length?"The name field is required!":t.length<10?"The name field should have at least 10 characters!":null,c.style.margin="8px 0",B.gutter=24,O.span=6,g.style.width="100%",A.searchable=!0,A.data=[{value:"1",text:"Country 1"},{value:"2",text:"Country 2"}],F.span=6,w.style.width="100%",V.searchable=!0,V.data=[{value:"1",text:"City 1"},{value:"2",text:"City 2"}],v.style.margin="8px 0",W.gutter=24,K.span=12,b.style.width="100%",C.style.margin="8px 0",U.gutter=24,H.span=12,R.style.width="100%",D.style.margin="16px 0 10px",q.gutter=24,G.span=12,P.style["text-align"]="right",Y.primary=!0,{el:i,position:new e(1,n),parts:[[N,0],[E,0],[L,0],[z,0],[I,0],[$,0],[B,0],[O,0],[A,0],[F,0],[V,0],[W,0],[K,0],[_,0],[U,0],[H,0],[j,0],[q,0],[G,0],[Y,0]]}})),qa=new t("<section><h3>Selects</h3><div><div><header>Single Select</header><div></div></div><div><header>Multiple Select</header><div></div></div><div><header>Searchable Select</header><div></div></div></div></section>"),Ga=new d((function(){let t=qa.make(),i=t.content.firstChild,n=i.lastChild,s=n.firstChild,r=s.firstChild,o=s.lastChild,l=n.childNodes[1],a=l.firstChild,h=l.lastChild,d=n.lastChild,c=d.firstChild,p=d.lastChild,u=new On(n),g=new An(s),f=new Xr(o),m=new An(l),w=new Xr(h),v=new An(d),y=new Xr(p);return u.$applyRestSlotRangeNodes(s,d),g.$applyRestSlotRangeNodes(r,o),m.$applyRestSlotRangeNodes(a,h),v.$applyRestSlotRangeNodes(c,p),n.style.margin="8px 0",u.gutter=24,g.span=6,o.style.width="100%",o.style.margin="8px 0",f.data=[...Le(1,11)].map((t=>({value:t,text:"Option "+t}))),f.value=1,m.span=6,h.style.width="100%",h.style.margin="8px 0",w.multiple=!0,w.data=[...Le(1,11)].map((t=>({value:t,text:"Option "+t}))),w.value=[1,2],v.span=6,p.style.width="100%",p.style.margin="8px 0",y.searchable=!0,y.data=[...Le(1,11)].map((t=>({value:t,text:"Option "+t}))),y.value=1,{el:t,position:new e(1,i),parts:[[u,0],[g,0],[f,0],[m,0],[w,0],[v,0],[y,0]]}})),Ya=new t("<section><h3>Search Field</h3><div><div><div></div></div></div></section>"),Xa=new d((function(){let t=Ya.make(),i=t.content.firstChild,n=i.lastChild,s=n.firstChild,r=s.firstChild,o=new On(n),l=new An(s),a=new No(r);return o.$applyRestSlotRangeNodes(s),l.$applyRestSlotRangeNodes(r),n.style.margin="16px 0 16px 0",o.gutter=24,l.span=6,r.style.width="100%",r.style["margin-bottom"]="8px",{el:t,position:new e(1,i),parts:[[o,0],[l,0],[a,0]]}})),Ja=new t("<section><h3>Progress Bar</h3><div><div><div></div>10%<br /><div></div>50%<br /><div></div>100%<br /></div><div><div></div>1<br /><div></div>2<br /><div></div>3<br /></div></div></section>"),Qa=new d((function(){let t=Ja.make(),i=t.content.firstChild,n=i.lastChild,s=n.firstChild,r=s.firstChild,o=s.childNodes[3],l=s.childNodes[6],a=s.lastChild,h=n.lastChild,d=h.firstChild,c=h.childNodes[3],p=h.childNodes[6],u=h.lastChild,g=new On(n),f=new An(s),m=new Bo(r),w=new Bo(o),v=new Bo(l),y=new An(h),x=new Bo(d),b=new Bo(c),C=new Bo(p);return g.$applyRestSlotRangeNodes(s,h),f.$applyRestSlotRangeNodes(r,a),y.$applyRestSlotRangeNodes(d,u),n.style.margin="16px 0 8px 0",g.gutter=24,f.span=6,s.style["line-height"]="2em",r.style.width="calc(100% - 3em)",r.style["margin-right"]="0.5em",r.style["vertical-align"]="middle",m.value=.1,o.style.width="calc(100% - 3em)",o.style["margin-right"]="0.5em",o.style["vertical-align"]="middle",w.value=.5,l.style.width="calc(100% - 3em)",l.style["margin-right"]="0.5em",l.style["vertical-align"]="middle",v.value=1,y.span=6,h.style["line-height"]="2em",d.style.width="calc(100% - 2em)",d.style["margin-right"]="0.5em",d.style["vertical-align"]="middle",x.value=.3,x.height=1,c.style.width="calc(100% - 2em)",c.style["margin-right"]="0.5em",c.style["vertical-align"]="middle",b.value=.5,b.height=2,p.style.width="calc(100% - 2em)",p.style["margin-right"]="0.5em",p.style["vertical-align"]="middle",C.value=.8,C.height=3,{el:t,position:new e(1,i),parts:[[g,0],[f,0],[m,0],[w,0],[v,0],[y,0],[x,0],[b,0],[C,0]]}})),Za=new t("<section><h3>Slider</h3><div><div><header>Horizontal</header><div></div></div><div><header>Vertical</header><div></div></div><div><header>Size</header><div></div>1<br /><div></div>2<br /></div></div></section>"),th=new d((function(){let t=Za.make(),i=t.content.firstChild,n=i.lastChild,s=n.firstChild,r=s.firstChild,o=s.lastChild,l=n.childNodes[1],a=l.firstChild,h=l.lastChild,d=n.lastChild,c=d.firstChild,p=d.childNodes[1],u=d.childNodes[4],g=d.lastChild,f=new On(n),m=new An(s),w=new Uo(o),v=new An(l),y=new Uo(h),x=new An(d),b=new Uo(p),C=new Uo(u);return f.$applyRestSlotRangeNodes(s,d),m.$applyRestSlotRangeNodes(r,o),v.$applyRestSlotRangeNodes(a,h),x.$applyRestSlotRangeNodes(c,g),n.style.margin="16px 0 8px 0",f.gutter=24,m.span=6,o.style.width="100%",w.value=10,v.span=6,h.style.height="6em",y.value=50,y.vertical=!0,x.span=6,d.style["line-height"]="2em",p.style.width="calc(100% - 2em)",p.style["margin-right"]="1em",b.value=50,b.grooveSize=1,u.style.width="calc(100% - 2em)",u.style["margin-right"]="1em",C.value=50,C.grooveSize=2,C.ballSize=18,{el:t,position:new e(1,i),parts:[[f,0],[m,0],[w,0],[v,0],[y,0],[x,0],[b,0],[C,0]]}})),eh=new t('<section><h3>Loader</h3><div><div><header style="margin-bottom: 8px;">18 + 3</header><div></div></div><div><header style="margin-bottom: 8px;">28 + 4</header><div></div></div><div><header style="margin-bottom: 8px;">38 + 5</header><div></div></div><div><header style="margin-bottom: 8px;">:loading</header><div style="position: relative; width: 100px; height: 100px"></div></div></div></section>'),ih=new d((function(){let t=eh.make(),i=t.content.firstChild,n=i.lastChild,s=n.firstChild,r=s.firstChild,o=s.lastChild,l=n.childNodes[1],a=l.firstChild,h=l.lastChild,d=n.childNodes[2],c=d.firstChild,p=d.lastChild,u=n.lastChild,g=u.firstChild,f=u.lastChild,m=new On(n),w=new An(s),v=new qo(o),y=new An(l),x=new qo(h),b=new An(d),C=new qo(p),S=new An(u),k=new is(f);return m.$applyRestSlotRangeNodes(s,u),w.$applyRestSlotRangeNodes(r,o),y.$applyRestSlotRangeNodes(a,h),b.$applyRestSlotRangeNodes(c,p),S.$applyRestSlotRangeNodes(g,f),n.style.margin="16px 0 8px 0",m.gutter=24,w.span=4,v.size=18,v.strokeSize=3,v.speed=.7,y.span=4,x.size=28,x.strokeSize=4,x.speed=.6,b.span=4,C.size=38,C.strokeSize=5,C.speed=.5,S.span=4,k.update(!0),{el:t,position:new e(1,i),parts:[[m,0],[w,0],[v,0],[y,0],[x,0],[b,0],[C,0],[S,0],[k,0]]}})),nh=new t('<section><h3>List</h3><div><div><header style="margin-bottom: 8px;">Non Selection</header><div></div></div><div><header style="margin-bottom: 8px;">Single Selection</header><div></div></div><div><header style="margin-bottom: 8px;">Multiple Selection</header><div></div></div></div><div><div><header style="margin-bottom: 8px;">With Icon</header><div></div></div><div><header style="margin-bottom: 8px;">With Subsection</header><div></div></div></div></section>'),sh=new d((function(){let t=nh.make(),i=t.content.firstChild,n=i.childNodes[1],s=n.firstChild,r=s.firstChild,o=s.lastChild,l=n.childNodes[1],a=l.firstChild,h=l.lastChild,d=n.lastChild,c=d.firstChild,p=d.lastChild,u=i.lastChild,g=u.firstChild,f=g.firstChild,m=g.lastChild,w=u.lastChild,v=w.firstChild,y=w.lastChild,x=new On(n),b=new An(s),C=new $r(o),S=new An(l),k=new $r(h),R=new An(d),D=new $r(p),P=new On(u),T=new An(g),M=new $r(m),E=new An(w),N=new $r(y);return x.$applyRestSlotRangeNodes(s,d),b.$applyRestSlotRangeNodes(r,o),S.$applyRestSlotRangeNodes(a,h),R.$applyRestSlotRangeNodes(c,p),P.$applyRestSlotRangeNodes(g,w),T.$applyRestSlotRangeNodes(f,m),E.$applyRestSlotRangeNodes(v,y),n.style.margin="16px 0 8px 0",x.gutter=24,b.span=6,C.data=[...Le(1,6)].map((t=>({value:t,text:"Option "+t}))),S.span=6,k.data=[...Le(1,6)].map((t=>({value:t,text:"Option "+t}))),k.selectable=!0,k.selected=[2],R.span=6,D.data=[...Le(1,6)].map((t=>({value:t,text:"Option "+t}))),D.selectable=!0,D.multipleSelect=!0,D.selected=[1,2],u.style.margin="32px 0 8px 0",P.gutter=24,T.span=6,M.data=[...Le(1,6)].map((t=>({value:t,text:"Option "+t,icon:"love"}))),E.span=6,N.data=[{value:1,text:"Folder A",children:[{value:11,text:"Sub Folder a",children:[{value:111,text:"Item 1"},{value:112,text:"Item 2"}]},{value:12,text:"Sub Folder b",children:[{value:121,text:"Item 1"},{value:122,text:"Item 2"}]}]},{value:2,text:"Folder B",children:[{value:21,text:"Sub Folder a",children:[{value:211,text:"Item 1"},{value:212,text:"Item 2"}]},{value:22,text:"Sub Folder b",children:[{value:221,text:"Item 1"},{value:222,text:"Item 2"}]}]}],{el:t,position:new e(1,i),parts:[[x,0],[b,0],[C,0],[S,0],[k,0],[R,0],[D,0],[P,0],[T,0],[M,0],[E,0],[N,0]]}})),rh=new t("<section><h3>Navigation</h3><div><div><div></div></div></div></section>"),oh=new d((function(){let t=rh.make(),i=t.content.firstChild,n=i.lastChild,s=n.firstChild,r=s.firstChild,o=new On(n),l=new An(s),a=new eo(r);return o.$applyRestSlotRangeNodes(s),l.$applyRestSlotRangeNodes(r),n.style.margin="16px 0 8px 0",o.gutter=24,l.span=6,a.selected=[111],a.title="Navigation Menu",a.data=[{value:1,text:"Folder A",children:[{value:11,text:"Sub Folder a",children:[{value:111,text:"Item 1"},{value:112,text:"Item 2"}]},{value:12,text:"Sub Folder b",children:[{value:121,text:"Item 1"},{value:122,text:"Item 2"}]}]},{value:2,text:"Folder B",children:[{value:21,text:"Sub Folder a",children:[{value:211,text:"Item 1"},{value:212,text:"Item 2"}]},{value:22,text:"Sub Folder b",children:[{value:221,text:"Item 1"},{value:222,text:"Item 2"}]}]}],{el:t,position:new e(1,i),parts:[[o,0],[l,0],[a,0]]}})),lh=new t('<section><h3>Popovers</h3><div><div><header style="margin-bottom: 8px;">Default</header><div>Click to Open Popover</div></div><div><header style="margin-bottom: 8px;">With Close Button</header><div>Click to Open Popover</div></div><div><header style="margin-bottom: 8px;">No Title</header><div>Click to Open Popover</div></div><div><header style="margin-bottom: 8px;">With actions</header><div>Click to Open Popover</div></div></div></section>'),ah=new d((function(t){let i=lh.make(),n=i.content.firstChild,s=n.lastChild,r=s.firstChild,o=r.firstChild,l=r.lastChild,a=l.firstChild,h=s.childNodes[1],d=h.firstChild,c=h.lastChild,p=c.firstChild,u=s.childNodes[2],g=u.firstChild,m=u.lastChild,w=m.firstChild,v=s.lastChild,y=v.firstChild,x=v.lastChild,b=x.firstChild,C=new On(s),S=new An(r),k=new En(l),R=new ps(l,t),D=new An(h),P=new En(c),T=new ps(c,t),M=new An(u),E=new En(m),N=new ps(m,t),L=new An(v),z=new En(x),I=new ps(x,t);return C.$applyRestSlotRangeNodes(r,v),S.$applyRestSlotRangeNodes(o,l),k.$applyRestSlotRangeNodes(a),D.$applyRestSlotRangeNodes(d,c),P.$applyRestSlotRangeNodes(p),M.$applyRestSlotRangeNodes(g,m),E.$applyRestSlotRangeNodes(w),L.$applyRestSlotRangeNodes(y,x),z.$applyRestSlotRangeNodes(b),s.style.margin="16px 0 8px 0",C.gutter=24,S.span=6,R.update((()=>new f(dh,[],t)),{trigger:"click",position:"b",fixTriangle:!0}),D.span=6,T.update((()=>new f(ch,[],t)),{trigger:"click",position:"b",fixTriangle:!0}),M.span=6,N.update((()=>new f(ph,[],t)),{trigger:"click",position:"b",fixTriangle:!0}),L.span=6,I.update((()=>new f(gh,[],t)),{trigger:"click",position:"b",fixTriangle:!0}),{el:i,position:new e(1,n),parts:[[C,0],[S,0],[R,0],[k,0],[D,0],[T,0],[P,0],[M,0],[N,0],[E,0],[L,0],[I,0],[z,0]]}})),hh=new t("<div>This is Popover content.</div>"),dh=new d((function(){let t=hh.make(),i=t.content.firstChild,n=i.firstChild,s=new or(i);return s.$applyRestSlotRangeNodes(n),s.title="Popover title",{el:t,position:new e(1,i),parts:[[s,1]]}})),ch=new d((function(){let t=hh.make(),i=t.content.firstChild,n=i.firstChild,s=new or(i);return s.$applyRestSlotRangeNodes(n),s.title="Popover title",s.closable=!0,{el:t,position:new e(1,i),parts:[[s,1]]}})),ph=new d((function(){let t=hh.make(),i=t.content.firstChild,n=i.firstChild,s=new or(i);return s.$applyRestSlotRangeNodes(n),{el:t,position:new e(1,i),parts:[[s,1]]}})),uh=new t("<div>This is Popover content.<div><div>Cancel</div><div>Save</div></div></div>"),gh=new d((function(t){let i=uh.make(),n=i.content.firstChild,s=n.firstChild,r=n.lastChild,o=r.firstChild,l=o.firstChild,a=r.lastChild,h=a.firstChild,d=new or(n),c=new _t(n,t,["com"]),p=new Ut(r),u=new En(o),g=new En(a);return d.$applyRestSlotRangeNodes(s),u.$applyRestSlotRangeNodes(l),o.addEventListener("click",(()=>t.popupWithActions.close())),g.$applyRestSlotRangeNodes(h),a.addEventListener("click",(()=>t.popupWithActions.close())),d.title="Popover title",c.update((function(t){this.popupWithActions=t,dt(this,"popupWithActions")})),p.update("action"),u.size="inherit",g.primary=!0,g.size="inherit",{el:i,position:new e(1,n),parts:[[c,1],[d,1],[p,0],[u,0],[g,0]]}})),fh=new t("<section><h3>Menu</h3><div><div><div><span>Click to Open Menu</span><div></div></div></div><div><div><span>Menu with Title</span><div></div></div></div></div></section>"),mh=new d((function(t){let i=fh.make(),n=i.content.firstChild,s=n.lastChild,r=s.firstChild,o=r.firstChild,l=o.firstChild,a=o.lastChild,h=s.lastChild,d=h.firstChild,c=d.firstChild,p=d.lastChild,u=new On(s),g=new An(r),m=new En(o),w=new ps(o,t),v=new Wn(a),y=new An(h),x=new En(d),b=new ps(d,t),C=new Wn(p);return u.$applyRestSlotRangeNodes(r,h),g.$applyRestSlotRangeNodes(o),m.$applyRestSlotRangeNodes(l,a),y.$applyRestSlotRangeNodes(d),x.$applyRestSlotRangeNodes(c,p),s.style.margin="16px 0 8px 0",u.gutter=24,g.span=6,w.update((()=>new f(vh,[],t)),{trigger:"click",position:"b",fixTriangle:!0}),v.icon=ve,y.span=6,b.update((()=>new f(yh,[],t)),{trigger:"click",position:"b",fixTriangle:!0}),C.icon=ve,{el:i,position:new e(1,n),parts:[[u,0],[g,0],[w,0],[m,0],[v,0],[y,0],[b,0],[x,0],[C,0]]}})),wh=new t("<div><div></div></div>"),vh=new d((function(){let t=wh.make(),i=t.content.firstChild,n=i.firstChild,s=new ur(i),r=new $r(n);return s.$applyRestSlotRangeNodes(n),r.data=[...Le(1,6)].map((t=>({value:t,text:"Option "+t}))),{el:t,position:new e(1,i),parts:[[s,1],[r,0]]}})),yh=new d((function(){let t=wh.make(),i=t.content.firstChild,n=i.firstChild,s=new ur(i),r=new $r(n);return s.$applyRestSlotRangeNodes(n),s.title="Menu title",r.data=[...Le(1,6)].map((t=>({value:t,text:"Option "+t}))),r.selectable=!0,r.selected=[1],{el:t,position:new e(1,i),parts:[[s,1],[r,0]]}})),xh=new t('<section><h3>Tooltip</h3><div><div><header style="margin-bottom: 8px;">Default</header><div>Hover for Tooltip</div></div><div><header style="margin-bottom: 8px;">Prompt</header><div>Add Items</div></div></div><div><div><header style="margin-bottom: 8px;">Error</header><div>Submit</div></div></div></section>'),bh=new d((function(t){let i=xh.make(),n=i.content.firstChild,s=n.childNodes[1],r=s.firstChild,o=r.firstChild,l=r.lastChild,a=l.firstChild,h=s.lastChild,d=h.firstChild,c=h.lastChild,p=c.firstChild,u=n.lastChild,g=u.firstChild,f=g.firstChild,m=g.lastChild,w=m.firstChild,v=new On(s),y=new An(r),x=new En(l),b=new ms(l,t),C=new An(h),S=new En(c),k=new ms(c,t),R=new On(u),D=new An(g),P=new En(m),T=new ms(m,t);return v.$applyRestSlotRangeNodes(r,h),y.$applyRestSlotRangeNodes(o,l),x.$applyRestSlotRangeNodes(a),C.$applyRestSlotRangeNodes(d,c),S.$applyRestSlotRangeNodes(p),R.$applyRestSlotRangeNodes(g),D.$applyRestSlotRangeNodes(f,m),P.$applyRestSlotRangeNodes(w),s.style.margin="16px 0 8px 0",v.gutter=24,y.span=6,b.update("Tooltip text",{type:"default"}),C.span=6,k.update("Add some items to your list by clicking this button.",{type:"prompt"}),u.style.margin="16px 0 8px 0",R.gutter=24,D.span=6,P.primary=!0,m.setAttribute("disabled",""),T.update("You can't submit, try resolve all mistakes then this tooltip will disappear.",{type:"error"}),{el:i,position:new e(1,n),parts:[[v,0],[y,0],[b,0],[x,0],[C,0],[k,0],[S,0],[R,0],[D,0],[T,0],[P,0]]}})),Ch=new t('<section><h3>Notifications</h3><div><div><header style="margin-bottom: 8px;">Info</header><div>Info Notification</div></div><div><header style="margin-bottom: 8px;">Warn</header><div>Warn Notification</div></div><div><header style="margin-bottom: 8px;">Error</header><div>Error Notification</div></div><div><header style="margin-bottom: 8px;">Success</header><div>Success Notification</div></div></div><div><div><header style="margin-bottom: 8px;">Without Title</header><div>Notification with Title</div></div><div><header style="margin-bottom: 8px;">With List</header><div>Notification with List</div></div><div><header style="margin-bottom: 8px;">With Actions</header><div>Notification with Actions</div></div></div></section>'),Sh=new d((function(){let t=Ch.make(),i=t.content.firstChild,n=i.childNodes[1],s=n.firstChild,r=s.firstChild,o=s.lastChild,l=o.firstChild,a=n.childNodes[1],h=a.firstChild,d=a.lastChild,c=d.firstChild,p=n.childNodes[2],u=p.firstChild,g=p.lastChild,f=g.firstChild,m=n.lastChild,w=m.firstChild,v=m.lastChild,y=v.firstChild,x=i.lastChild,b=x.firstChild,C=b.firstChild,S=b.lastChild,k=S.firstChild,R=x.childNodes[1],D=R.firstChild,P=R.lastChild,T=P.firstChild,M=x.lastChild,E=M.firstChild,N=M.lastChild,L=N.firstChild,z=new On(n),I=new An(s),$=new En(o),B=new An(a),O=new En(d),A=new An(p),F=new En(g),V=new An(m),W=new En(v),K=new On(x),_=new An(b),U=new En(S),H=new An(R),j=new En(P),q=new An(M),G=new En(N);return z.$applyRestSlotRangeNodes(s,m),I.$applyRestSlotRangeNodes(r,o),$.$applyRestSlotRangeNodes(l),o.addEventListener("click",(()=>cl.info("Info notification content",{title:"Info Notification"}))),B.$applyRestSlotRangeNodes(h,d),O.$applyRestSlotRangeNodes(c),d.addEventListener("click",(()=>cl.warn("Warning notification content",{title:"Warning Notification"}))),A.$applyRestSlotRangeNodes(u,g),F.$applyRestSlotRangeNodes(f),g.addEventListener("click",(()=>cl.error("Error notification content",{title:"Error Notification"}))),V.$applyRestSlotRangeNodes(w,v),W.$applyRestSlotRangeNodes(y),v.addEventListener("click",(()=>cl.success("Success notification content",{title:"Success Notification"}))),K.$applyRestSlotRangeNodes(b,M),_.$applyRestSlotRangeNodes(C,S),U.$applyRestSlotRangeNodes(k),S.addEventListener("click",(()=>cl.success("Success notification content",{title:"Success Notification"}))),H.$applyRestSlotRangeNodes(D,P),j.$applyRestSlotRangeNodes(T),P.addEventListener("click",(()=>cl.warn("Warning notification content",{title:"Warning Notification",list:["List Item 1","List Item 2"]}))),q.$applyRestSlotRangeNodes(E,N),G.$applyRestSlotRangeNodes(L),N.addEventListener("click",(()=>cl.error("Error notification content",{title:"Error Notification",actions:[{text:"Try Again"}]}))),n.style.margin="16px 0 8px 0",z.gutter=24,I.span=6,B.span=6,A.span=6,V.span=6,x.style.margin="32px 0 8px 0",K.gutter=24,_.span=6,H.span=6,q.span=6,{el:t,position:new e(1,i),parts:[[z,0],[I,0],[$,0],[B,0],[O,0],[A,0],[F,0],[V,0],[W,0],[K,0],[_,0],[U,0],[H,0],[j,0],[q,0],[G,0]]}})),kh=new t('<section><h3>Dialogs</h3><div><div><header style="margin-bottom: 8px;">Default</header><div>Default Dialog</div></div><div><header style="margin-bottom: 8px;">With Title</header><div>Dialog with Title</div></div><div><header style="margin-bottom: 8px;">Confirm</header><div>Confirm Dialog</div></div><div><header style="margin-bottom: 8px;">Prompt</header><div>Prompt Dialog</div></div></div><div><div><header style="margin-bottom: 8px;">With Third action</header><div>Dialog with Third Action</div></div><div><header style="margin-bottom: 8px;">Customize</header><div>Custom Dialog</div></div></div></section>'),Rh=new d((function(t){let i=kh.make(),n=i.content.firstChild,s=n.childNodes[1],r=s.firstChild,o=r.firstChild,l=r.lastChild,a=l.firstChild,h=s.childNodes[1],d=h.firstChild,c=h.lastChild,p=c.firstChild,u=s.childNodes[2],g=u.firstChild,m=u.lastChild,w=m.firstChild,v=s.lastChild,y=v.firstChild,x=v.lastChild,b=x.firstChild,C=n.lastChild,S=C.firstChild,k=S.firstChild,R=S.lastChild,D=R.firstChild,P=C.lastChild,T=P.firstChild,M=P.lastChild,E=M.firstChild,N=new On(s),L=new An(r),z=new En(l),I=new An(h),$=new En(c),B=new An(u),O=new En(m),A=new An(v),F=new En(x),V=new On(C),W=new An(S),K=new En(R),_=new An(P),U=new En(M);return N.$applyRestSlotRangeNodes(r,v),L.$applyRestSlotRangeNodes(o,l),z.$applyRestSlotRangeNodes(a),l.addEventListener("click",(()=>Ll.show("This is dialog message."))),I.$applyRestSlotRangeNodes(d,c),$.$applyRestSlotRangeNodes(p),c.addEventListener("click",(()=>Ll.show("This is dialog message.",{title:"Dialog Title"}))),B.$applyRestSlotRangeNodes(g,m),O.$applyRestSlotRangeNodes(w),m.addEventListener("click",(()=>Ll.confirm("Are you sure you want to delete these items?",{title:"Dialog Title"}))),A.$applyRestSlotRangeNodes(y,x),F.$applyRestSlotRangeNodes(b),x.addEventListener("click",(()=>Ll.prompt("Please input the name of your account:",{title:"Dialog Title",placeholder:"Name of your account",validator:t=>t?null:"Name is required"}))),V.$applyRestSlotRangeNodes(S,P),W.$applyRestSlotRangeNodes(k,R),K.$applyRestSlotRangeNodes(D),R.addEventListener("click",(()=>Ll.confirm("You have unsaved data, are you sure you want to save your changes?",{title:"Dialog Title",actions:[{text:"Don't Save",third:!0},{text:"Cancel"},{text:"Save",primary:!0}]}))),_.$applyRestSlotRangeNodes(T,M),U.$applyRestSlotRangeNodes(E),M.addEventListener("click",(()=>{let e;Ll.show(new f(Ph,[function(t){e=t}],t),{title:"Dialog Title",actions:[{value:"ok",text:"OK",handler:()=>e.touched&&e.valid?null:(e.touched=!0,dt(e,"touched"),!0)}]})})),s.style.margin="16px 0 8px 0",N.gutter=24,L.span=6,I.span=6,B.span=6,A.span=6,C.style.margin="32px 0 8px 0",V.gutter=24,W.span=6,_.span=6,{el:i,position:new e(1,n),parts:[[N,0],[L,0],[z,0],[I,0],[$,0],[B,0],[O,0],[A,0],[F,0],[V,0],[W,0],[K,0],[_,0],[U,0]]}})),Dh=new t("Please input the name of your account:<div></div><div>Remember Me</div>"),Ph=new d((function(t){let i=Dh.make(),n=i.content.firstChild,s=i.content.childNodes[1],r=i.content.lastChild,o=r.firstChild,l=new Co(s),a=new _t(s,t,["com"]),h=new Yn(r);return h.$applyRestSlotRangeNodes(o),s.style["margin-top"]="8px",s.style.width="100%",l.placeholder="Input Name of Your Account",l.validator=t=>t?null:"Name field is required",l.errorOnTooltip=!0,h.checked=!0,r.style["margin-top"]="8px",{el:i,position:new e(1,n),update(t){a.update(t[0])},parts:[[a,1],[l,1],[h,1]]}})),Th=new t('<section><h3>Modals</h3><div><div><header style="margin-bottom: 8px;">Default</header><div>Open Modal</div></div><div><header style="margin-bottom: 8px;">With Actions</header><div>Modal with Actions</div></div></div></section>'),Mh=new d((function(t){let i=Th.make(),n=i.content.firstChild,s=n.lastChild,r=s.firstChild,o=r.firstChild,l=r.lastChild,a=l.firstChild,h=s.lastChild,d=h.firstChild,c=h.lastChild,p=c.firstChild,u=new On(s),g=new An(r),m=new En(l),w=new An(h),v=new En(c);return u.$applyRestSlotRangeNodes(r,h),g.$applyRestSlotRangeNodes(o,l),m.$applyRestSlotRangeNodes(a),l.addEventListener("click",(()=>{At(new f(Nh,[],t)).connectManually()})),w.$applyRestSlotRangeNodes(d,c),v.$applyRestSlotRangeNodes(p),c.addEventListener("click",(()=>{At(new f(zh,[void 0],t)).connectManually()})),s.style.margin="16px 0 8px 0",u.gutter=24,g.span=6,w.span=6,{el:i,position:new e(1,n),parts:[[u,0],[g,0],[m,0],[w,0],[v,0]]}})),Eh=new t("<div>This is modal content</div>"),Nh=new d((function(t){let i=Eh.make(),n=i.content.firstChild,s=n.firstChild,r=new _l(n),o=new _t(n,t,["com"]);return r.$applyRestSlotRangeNodes(s),n.style.width="25em",r.title="Modal Title",o.update((t=>t.show())),{el:i,position:new e(1,n),parts:[[o,1],[r,1]]}})),Lh=new t("<div>This is modal content<div><div>Cancel</div><div>Save</div></div></div>"),zh=new d((function(t){let i,n=Lh.make(),s=n.content.firstChild,r=s.firstChild,o=s.lastChild,l=o.firstChild,a=l.firstChild,h=o.lastChild,d=h.firstChild,c=new _l(s),p=new _t(s,t,["com"]),u=new Ut(o),g=new En(l),f=new En(h);return c.$applyRestSlotRangeNodes(r),g.$applyRestSlotRangeNodes(a),l.addEventListener("click",(()=>i.hide())),f.$applyRestSlotRangeNodes(d),h.addEventListener("click",(()=>i.hide())),s.style.width="25em",c.title="Modal Title",p.update((t=>{i=t,t.show()})),u.update("action"),f.primary=!0,{el:n,position:new e(1,s),update(t){i=t[0]},parts:[[p,1],[c,1],[u,0],[g,0],[f,0]]}})),Ih=new t('<h3>Table</h3><h4>Table on Live Mode</h4><div></div><h4 style="margin-top: 30px">Table with Remote Data</h4><div></div>'),$h=new d((function(){let t=Ih.make(),i=t.content.firstChild,n=t.content.childNodes[2],s=t.content.lastChild,r=new xa(n),o=new xa(s);return n.style.height="200px",r.resizable=!0,r.live=!0,r.store=new ln({data:[...Le(1,1001)].map((t=>({id:t,value:Math.round(100*Math.random())})))}),r.columns=[{title:"Index",flex:1,renderer:(t,e)=>e},{title:"ID",orderBy:"id",flex:1,renderer:t=>t.id},{title:"Name",orderBy:"id",flex:1,renderer:t=>`Name ${t.id}`},{title:"Random Value",orderBy:"value",flex:1,renderer:t=>t.value,align:"right"}],o.resizable=!0,o.live=!0,o.store=new Gh,o.columns=[{title:"Index",renderer:(t,e)=>e},{title:"ID",orderBy:"id",renderer:t=>t?.id??"--"},{title:"Name",orderBy:"id",renderer:t=>t?`Name ${t.id}`:"--"},{title:"Random Value",orderBy:"value",renderer:t=>t?.value??"--",align:"right"}],{el:t,position:new e(1,i),parts:[[r,1],[o,1]]}})),Bh=new t('<section><h3>Drag & Drop</h3><div style="display: inline-flex; vertical-align: top; padding: 4px; background: color-mix(in srgb, var(--background-color) 95%, var(--text-color)); line-height: 100px; font-size: 60px; text-align: center; height: 116px; min-width: 116px; v">\x3c!----\x3e</div><br /><div style="display: inline-flex; padding: 4px; margin-top: -8px; background: color-mix(in srgb, var(--background-color) 95%, var(--text-color)); line-height: 100px; font-size: 60px; text-align: center; height: 116px; min-width: 116px;">\x3c!----\x3e</div></section>'),Oh=new d((function(t){let i=Bh.make(),n=i.content.firstChild,s=n.childNodes[1],r=s.firstChild,o=n.lastChild,l=o.firstChild,a=new Ls(s,t),h=new m(new e(1,r),1),d=new Ls(o,t),c=new m(new e(1,l),1);return a.update(((e,i)=>{t.leftData=t.leftData.filter((t=>t!==e)),t.rightData=t.rightData.filter((t=>t!==e)),-1===i?t.leftData.push(e):t.leftData.splice(i,0,e),dt(t,"leftData","rightData"),dt(t.leftData,"")}),{itemsAlignDirection:"horizontal"}),d.update(((e,i)=>{t.leftData=t.leftData.filter((t=>t!==e)),t.rightData=t.rightData.filter((t=>t!==e)),-1===i?t.rightData.push(e):t.rightData.splice(i,0,e),dt(t,"leftData","rightData"),dt(t.rightData,"")}),{itemsAlignDirection:"horizontal"}),{el:i,position:new e(1,n),update(t){h.update(t[0]),c.update(t[1])},parts:[[a,0],[h,0],[d,0],[c,0]]}})),Ah=new t('<div style="width: 100px; vertical-align: top; margin: 4px; cursor: grab; background: color-mix(in srgb, var(--background-color) 85%, var(--text-color))"> </div>'),Fh=new d((function(t){let i,n,s,r=Ah.make(),o=r.content.firstChild,l=o.firstChild,a=new Es(o,t);return{el:r,position:new e(1,o),update(t){i===t[0]&&n===t[1]||(a.update(t[0],t[1]),i=t[0],n=t[1]),s!==t[0]&&(l.data=t[0],s=t[0])},parts:[[a,1]]}})),Vh=new t('<div style="width: 100px; vertical-align: top; margin: 4px; cursor: grab; background: color-mix(in srgb, var(--background-color) 85%, var(--text-color));"> </div>'),Wh=new d((function(t){let i,n,s,r=Vh.make(),o=r.content.firstChild,l=o.firstChild,a=new Es(o,t);return{el:r,position:new e(1,o),update(t){i===t[0]&&n===t[1]||(a.update(t[0],t[1]),i=t[0],n=t[1]),s!==t[0]&&(l.data=t[0],s=t[0])},parts:[[a,1]]}})),Kh=new t('<section><h3>Resizer</h3><div style="position: relative; display: inline-flex; justify-content: center; line-height: 100px; font-size: 14px; text-align: center; width: 200px; height: 100px; background: color-mix(in srgb, var(--background-color) 95%, var(--text-color));">Resizer on the Right<div></div></div></section><br />'),_h=new d((function(){let t=Kh.make(),i=t.content.firstChild,n=i.lastChild.lastChild,s=new Ta(n);return s.position="right",s.min=200,s.max=600,n.style.background="color-mix(in srgb, var(--background-color) 85%, var(--text-color))",{el:t,position:new e(1,i),parts:[[s,0]]}})),Uh=new t("<div> </div>"),Hh=new d((function(){let t,i,n=Uh.make(),s=n.content.firstChild,r=s.firstChild;return{el:n,position:new e(1,s),update(e){t!==e[0]&&(s.setAttribute("style","color: "+e[0]+";"),t=e[0]),i!==e[1]&&(r.data=e[1],i=e[1])}}}));class jh extends Ot{static SlotContentType=0;render(){return new f(Ea,[this.renderTheme(),this.renderButton(),this.renderButtonGroup(),this.renderLink(),this.renderLabel(),this.renderCheckboxAndSomeOthers(),this.renderInputTextarea(),this.renderForm(),this.renderSelect(),this.renderSearchField(),this.renderProgressBar(),this.renderSlider(),this.renderLoader(),this.renderList(),this.renderNavigation(),this.renderPopover(),this.renderMenu(),this.renderTooltip(),this.renderNotification(),this.renderDialog(),this.renderModal(),this.renderTable(),this.renderDragDrop(),this.renderResizer()],this)}renderTheme(){return new f(La,[],this)}renderButton(){return new f(Ia,[],this)}renderButtonGroup(){return new f(Ba,[],this)}renderLink(){return new f(Aa,[],this)}renderLabel(){return new f(Va,[],this)}checkboxValue=["2"];checkboxIndeterminate=!0;switch1On=!0;switch2On=!1;tagClosed=!1;renderCheckboxAndSomeOthers(){return ht(this,"checkboxValue","checkboxIndeterminate","switch1On","switch2On","tagClosed"),ht(this.checkboxValue,""),new f(Ka,[this.checkboxValue,this.checkboxValue.includes("1")?"Checked":"Unchecked",this.checkboxValue.includes("2")?"Checked":"Unchecked",this.checkboxIndeterminate,this.checkboxIndeterminate?"Indeterminate":this.checkboxValue.includes("3")?"Checked":"Unchecked",this.switch1On,this.switch1On?"On":"Off",this.switch2On,this.switch2On?"On":"Off",this.tagClosed],this)}renderInputTextarea(){return new f(Ua,[],this)}form;renderForm(){return new f(ja,[],this)}renderSelect(){return new f(Ga,[],this)}renderSearchField(){return new f(Xa,[],this)}renderProgressBar(){return new f(Qa,[],this)}renderSlider(){return new f(th,[],this)}renderLoader(){return new f(ih,[],this)}renderList(){return new f(sh,[],this)}renderNavigation(){return new f(oh,[],this)}popupWithActions;renderPopover(){return new f(ah,[],this)}renderMenu(){return new f(mh,[],this)}renderTooltip(){return new f(bh,[],this)}renderNotification(){return new f(Sh,[],this)}renderDialog(){return new f(Rh,[],this)}renderModal(){return new f(Mh,[],this)}renderTable(){return new f($h,[],this)}leftData=[1,2,3];rightData=[4,5,6];renderDragDrop(){let t;return t=this.leftData,ht(this,"leftData","rightData"),ht(t,""),ht(this.rightData,""),new f(Oh,[t.map(((t,e)=>new f(Fh,[t,e],this))),this.rightData.map(((t,e)=>new f(Wh,[t,e],this)))],this)}renderResizer(){return new f(_h,[],this)}}class qh extends Xr{data=[{value:"ActiveText",text:"Auto"},{value:"#3a6cf6",text:"Blue"},{value:"#0077cf",text:"Darkblue"},{value:"#4eb2ea",text:"Skyblue"},{value:"#48c7c7",text:"Cyan"},{value:"#be66cc",text:"Purple"},{value:"#ff6666",text:"Red"},{value:"#ff8095",text:"Pink"},{value:"#15af78",text:"Green"},{value:"#888888",text:"Grey"}];textRenderer=t=>(ht(t,"value","text"),new f(Hh,[t.value,t.text],this));value="ActiveText";onCreated(){super.onCreated(),this.$onValueChange_watcher=new Mt((function(){return ht(this,"value"),this.value}),this.onValueChange,this)}onConnected(){super.onConnected(),this.$onValueChange_watcher.connect()}onWillDisconnect(){super.onWillDisconnect(),this.$onValueChange_watcher.disconnect()}$onValueChange_watcher=void 0;onValueChange(t){document.documentElement.style.setProperty("--primary-color",t)}}class Gh extends an{constructor(){super({pageSize:10,preloadPageCount:0})}dataCountGetter(){return 1e3}async pageDataGetter(t,e){return await ze(500),[...Le(t,e)].map((t=>({id:t+1,value:Math.round(100*Math.random())})))}}(async function(){if(null===We)return;let{promise:t,resolve:e}=et();if(We.push(e),1===We.length){let t=window.performance.getEntriesByType("navigation");t.length>0&&t[0].loadEventEnd>0?Ke():window.addEventListener("load",Ke,{once:!0})}return t})().then((()=>{(new jh).appendTo(document.body)}))})();